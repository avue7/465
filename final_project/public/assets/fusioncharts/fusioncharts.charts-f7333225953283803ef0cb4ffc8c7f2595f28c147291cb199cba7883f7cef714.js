FusionCharts.register("module",["private","modules.renderer.js-charts",function(){function t(t,e){for(var a=[],i=0,n=t.length;n>i;i++)a[i]=e.call(t[i],t[i],i,t);return a}function e(t,e){var a=e?360:W;return t=(t||0)%a,0>t?a+t:t}function a(t,e,a,i,n){return k((e-a[1]-i.top)/n,t-a[0]-i.left)}function i(t){this.config={},this.linkedItems={chart:t}}var n=this,o=n.hcLib,r=o.hasTouch,s=n.window,l=s.document,c=o.Raphael,d=o.BLANKSTRING,h=o.pluck,p=o.pluckNumber,u=o.getFirstValue,g=o.extend2,f=o.toRaphaelColor,m=o.hasSVG,v=o.hashify,b="createTouch"in l,x=b&&!(s.navigator.maxTouchPoints||s.navigator.msMaxTouchPoints),y=o.each,P=o.plotEventHandler,S=o.componentDispose,C=8===s.document.documentMode?"visible":"",L=Math,w=L.sin,D=L.cos,k=L.atan2,_=L.round,I=L.min,F=L.max,A=L.abs,O=L.PI,T=L.ceil,B=L.floor,M=O/180,E=180/O,R=Math.PI,N=R/2,W=2*R,z=R+N,H=o.getFirstColor,G=o.getFirstAlpha,j=o.graphics.getDarkColor,V=o.graphics.getLightColor,Z=o.graphics.convertColor,Y=o.POSITION_BOTTOM,X=o.POSITION_RIGHT,U=o.chartAPI,J=o.COMMASTRING,Q=o.ZEROSTRING,q=o.ONESTRING,$=!/fusioncharts\.com$/i.test(s.location.hostname),K={},tt={};U("column2d",{standaloneInit:!0,friendlyName:"Column Chart",creditLabel:$,defaultDatasetType:"column",applicableDSList:{column:!0},singleseries:!0},U.sscartesian),U("column3d",{friendlyName:"3D Column Chart",defaultDatasetType:"column3d",applicableDSList:{column3d:!0},defaultPlotShadow:1,creditLabel:$,is3D:!0,standaloneInit:!0,hasLegend:!1,singleseries:!0,fireGroupEvent:!0,defaultZeroPlaneHighlighted:!1},U.sscartesian3d),U("bar2d",{friendlyName:"Bar Chart",isBar:!0,standaloneInit:!0,defaultDatasetType:"bar2d",creditLabel:$,applicableDSList:{bar2d:!0},singleseries:!0,spaceManager:U.barbase},U.ssbarcartesian),U("bar3d",{friendlyName:"3D Bar Chart",defaultDatasetType:"bar3d",applicableDSList:{bar3d:!0},defaultPlotShadow:1,fireGroupEvent:!0,standaloneInit:!0,creditLabel:$,is3D:!0,isBar:!0,singleseries:!0,defaultZeroPlaneHighlighted:!1},U.ssbarcartesian3d),U("line",{friendlyName:"Line Chart",standaloneInit:!0,creditLabel:$,defaultPlotShadow:1,singleseries:!0,axisPaddingLeft:0,axisPaddingRight:0,defaultDatasetType:"line"},U.sscartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),U("area2d",{friendlyName:"Area Chart",standaloneInit:!0,creditLabel:$,defaultDatasetType:"area",singleseries:!0,defaultPlotShadow:0},U.sscartesian),U("pareto2d",{defaultDatasetType:"column2d",singleseries:!0,creditLabel:$,_createDatasets:function(){var t,e,a=this.components,i=this.jsonData,n=this.is3D,o=a.numberFormatter,r=i.data||i.dataset&&i.dataset[0]&&i.dataset[0].data,s=r&&r.length,l=i.chart,c=this.defaultDatasetType,i=new(FusionCharts.get("component",["dataset","Pareto"])),d=p(l.showcumulativeline,1),u=[];if(r){for(l=0;s>l;l++)t=r[l],e=o.getCleanValue(t.value),null!==e&&"true"!==t.vline&&!0!==t.vline&&1!==t.vline&&"1"!==t.vline&&u.push(t);this.config.categories=u,o=a.dataset||(a.dataset=[]),(r=h(c))&&r.toLowerCase(),r=FusionCharts.register("component",["datasetGroup","column"]),r=a[void 0]=new r,r.chart=this,r.init(),(s=n?FusionCharts.get("component",["dataset","Column3d"]):FusionCharts.get("component",["dataset","Column"]))&&((n=o[0])?(c=u.length,r=n.components.data.length,r>c&&n.removeData(c,r-c),n.JSONData={data:u},i.configure.call(n)):(n=new s,o.push(n),n.chart=this,n.index=l,r&&r.addDataSet(n,0,0),i.init(n,u,c))),a=a.yAxis[1],d?(a&&a.setAxisConfig({drawLabels:!0,drawPlotLines:!0,drawAxisName:!0,drawAxisLine:!0,drawPlotBands:!0,drawTrendLines:!0,drawTrendLabels:!0}),a.show(),s=FusionCharts.get("component",["dataset","line"]),(n=o[1])?(c=u.length,r=n.components.data.length,r>c&&n.removeData(c,r-c),n.JSONData={data:u},i.configure.call(n)):(n=new s,o.push(n),n.chart=this,n.index=l,i.init(n,u,"line"))):((n=o[1])&&(S.call(n),o.pop()),a&&(a.setAxisConfig({drawLabels:!1,drawPlotLines:!1,drawAxisName:!1,drawAxisLine:!1,drawPlotBands:!1,drawTrendLines:!1,drawTrendLabels:!1}),a.hide()))}else this.setChartMessage()},_setCategories:function(){var t,e,a,i=this.components,n=this.jsonData,o=n.dataset,r=i.numberFormatter,i=i.xAxis,n=n.data||o&&o[0].data||[],o=[],s=n.length,l={},c=0;for(e=0;s>e;e++){if(t=n[e],a=r.getCleanValue(t.value,!0),"true"===t.vline||"1"===t.vline||1===t.vline||!0===t.vline)l[c]=t;else{if(null===a)continue;t.value=a,o.push(t)}c++}o.sort(function(t,e){return e.value-t.value});for(e in l)o.splice(e,0,l[e]);i[0].setCategory(o)},standaloneInit:!0,hasLegend:!1,isPercentage:!0},U.msdybasecartesian),U("pareto3d",{standaloneInit:!0,is3D:!0,friendlyName:"3D Pareto Chart",creditLabel:$,fireGroupEvent:!0,defaultPlotShadow:1,singleseries:!0,hasLegend:!1,defaultDatasetType:"column3d",_createDatasets:U.pareto2d,_setCategories:U.pareto2d,use3dlineshift:1,isPercentage:!0},U.msdybasecartesian3d),U("pie2d",{friendlyName:"Pie Chart",standaloneInit:!0,defaultSeriesType:"pie",defaultPlotShadow:1,reverseLegend:1,alignCaptionWithCanvas:0,sliceOnLegendClick:!0,isSingleSeries:!0,dontShowLegendByDefault:!0,defaultDatasetType:"Pie2D",applicableDSList:{Pie2D:!0},defaultZeroPlaneHighlighted:!1,creditLabel:$,_plotDragMove:function(t,i,o,r,s){var l=this.data("plotItem"),c=l.chart,l=l.seriesData,d=c.components.dataset[0].config;isNaN(t)||isNaN(i)||!d.enableRotation||l.singletonCase||l.isRightClicked||(t=a.call(s,o,r,l.pieCenter,l.chartPosition,1),l.isRotating||(l.dragStartAngle!==t&&(l.isRotating=!0),n.raiseEvent("RotationStart",{startingAngle:e(l.startingAngleOnDragStart,!0)},c.chartInstance)),d.startAngle+=t-l.dragStartAngle,l.dragStartAngle=t,l.moveDuration=0,d.updateInited||(d.updateInited=!0,setTimeout(c._batchRotate||(c._batchRotate=function(){c._rotate(),d.updateInited=!1}),50)))},_plotDragStart:function(t,e,i){var n=this.data("plotItem"),o=n.chart,n=n.seriesData,c=o.components.dataset[0].config,d=-c.startAngle;if(n.isRightClicked=!r&&0!==i.button&&1!==i.button,c.enableRotation&&!n.isRightClicked){if(n.isRotating=!1,c=o.linkedItems.container,o={left:0,top:0},c.getBoundingClientRect)c=c.getBoundingClientRect(),o.top=c.top+(s.pageYOffset||l.scrollTop||0)-(l.clientTop||0),o.left=c.left+(s.pageXOffset||l.scrollLeft||0)-(l.clientLeft||0);else for(;c;)o.left+=c.offsetLeft||0,o.top+=c.offsetTop||0,c!==l.body&&c!==l.documentElement&&(o.left-=c.scrollLeft||0,o.top-=c.scrollTop||0),c=c.offsetParent;n.chartPosition=o,t=a.call(i,t,e,n.pieCenter,n.chartPosition,1),n.dragStartAngle=t,n.startingAngleOnDragStart=d}},_plotDragEnd:function(t){var a=this.data("plotItem"),i=a.chart,o=a.seriesData,r=-o.startAngle;o.isRightClicked||(i.disposed||i._rotate(),!o.isRotating&&i._plotGraphicClick.call(a.graphic,t),o.isRotating&&(setTimeout(function(){o.isRotating=!1},0),n.raiseEvent("RotationEnd",{startingAngle:e(r,!0),changeInAngle:r-o.startingAngleOnDragStart},i.chartInstance)))},_plotRollOver:function(t){var e,a,i=this.plotItem||this.data("plotItem"),n=i.chart,o=n.components.dataset[0].config;o.isRotating||(P.call(this,n,t,"DataPlotRollOver"),n.onPlotHover(this,!0)),o.isHovered=!0,(t=i.innerDiameter)&&(e=i.centerLabelConfig)&&(a=e.label)&&n.drawDoughnutCenterLabel(a,i.center[0],i.center[1],t,t,e,!1)},onPlotHover:function(t,e){var a=t.data("plotItem"),i=a.center,n=a.rolloverProperties||{},o=e?n.color:a.color,r=e?n.borderWidth:a.borderWidth,s=e?n.borderColor:a.borderColor;o&&(e&&(o.cx=i[0],o.cy=i[1],o.r=a.radius),n.enabled&&a.graphic.attr({fill:f(o),"stroke-width":r,stroke:s}))},_plotRollOut:function(t){var e,a,i=this.plotItem||this.data("plotItem"),n=i.chart,o=n.components.dataset[0].config;o.isRotating||(P.call(this,n,t,"DataPlotRollOut"),n.onPlotHover(this,!1)),o.isHovered=!1,(t=i.innerDiameter)&&(e=o.centerLabelConfig)&&((a=e.label)||!a)&&n.drawDoughnutCenterLabel(a,i.center[0],i.center[1],t,t,e,!1)},_rotate:function(){var t,e,a,i,n,o,r,s=this.components.dataset[0],l=s.config,c=s.components.data,h=this.config,p=l.slicingDistance,s=s.config,u=W/s.valueTotal,g=h.canvasLeft+.5*h.canvasWidth,h=h.canvasTop+.5*h.canvasHeight,f=l.pieMinRadius,m=.5*(l.piePlotOptions.innerSize||0);for(a=(l.startAngle||0)%W,r=0;r<c.length;r+=1)n=c[r].config,o=c[r].graphics,t=n.y,null!==t&&void 0!==t&&(i=a,a-=s.singletonCase?W:t*u,t=.5*(a+i),n.angle=t,n.transX=D(t)*p,n.transY=w(t)*p,n.slicedTranslation="t"+D(t)*p+J+w(t)*p,(e=n._rotateAttrs)||(e=n._rotateAttrs={ringpath:[],transform:d}),t=e.ringpath,t[0]=g,t[1]=h,t[2]=f,t[3]=m,t[4]=a,t[5]=i,e.transform=n.sliced?n.slicedTranslation:d,o.element.attr(e));this.placeDataLabels(!0,c,l)},getPlotData:function(t,e){var a,i,n=this.components.dataset[0],o=n.components.data[t].config,n=n.config.userData||(n.config.userData=[]);if(n[t])n=n[t];else{n=n[t]={};for(i in o)"object"!=typeof(a=o[i])&&"function"!=typeof a&&0!==i.indexOf("_")&&(n[i]=a);n.value=n.y,n.categoryLabel=n.label=n.seriesName,delete n.y,delete n.total,delete n.doNotSlice,delete n.name,delete n.seriesName,delete n.centerAngle,delete n.showInLegend,delete n.angle,delete n.endAngle,delete n.isVisible,delete n.setColor,delete n.slicedTranslation,delete n.startAngle,delete n.transX,delete n.transY,delete n.pValue}return n.sliced=e,n},_plotGraphicClick:function(t){var e,a,i=this.element||this,o=i.plotItem||i.data("plotItem"),r=i.data("eventArgs")||{},s=o.chart,l=o.index,c=s.components.dataset[0],d=c.config,h=d.enableMultiSlicing,c=c.components.data[l],p=c.graphics,c=c.config,u=c.doNotSlice;e=c.slicedTranslation;var g=s.get("config","animationObj"),f=g.duration||200,m=g.dummyObj,v=g.animObj,g=g.animType;if(!d.isRotating&&P.call(i,s,t),!(d.isRotating||d.singletonCase||u||(t=!h&&s.sliceInOtherPies(l),(a=c.sliced)&&t))){if(b&&!x){if(t=(new Date).getTime(),o.lastSliceTimeStamp&&400>t-o.lastSliceTimeStamp)return;o.lastSliceTimeStamp=t}return t=p.element,o=p.connector,p=p.label||p.dataLabel,e="object"==typeof e?"t"+e:e,h=c.connectorPath,i=(a?-1:1)*c.transX,d=(a?-1:1)*c.transY,u=t.data("eventArgs")||t.data("eventArgs",{}),n.raiseEvent("slicingStart",{slicedState:a,dataIndex:"index"in r&&r.index,data:s.getPlotData(l,a)},s.chartInstance),t.animateWith(m,v,{transform:a?"t0,0":e},f,g,function(){n.raiseEvent("slicingEnd",{slicedState:a,dataIndex:"index"in r&&r.index,data:s.getPlotData(l,a)},s.chartInstance)}),p&&p.x&&((e=p.data("textPos"))||(e=p.data("textPos",{x:p.x,y:p.y})),p.animateWith(m,v,{x:p.x+(a?0:i)},f,g),e.x=p.x+(a?0:i)),h&&(h[1]+=i,h[2]+=d,h[4]+=i,h[6]+=i,o.animateWith(m,v,{path:h},f,g)),u.isSliced=a=c.sliced=!a}},sliceInOtherPies:function(t){var e,a=this.components.dataset[0],i=a.components.data,n=i.length,o=0;for(a.enableMultiSlicing=!0;n--;)n!==t&&(e=i[n]).config.sliced&&++o&&this._plotGraphicClick.call(e.graphics);return a.enableMultiSlicing=!1,!!o},placeDataLabels:function(){var t=function(t,e){return t.point.value-e.point.value},e=function(t,e){return t.angle-e.angle},a=["start","start","end","end"],i=[-1,1,1,-1],n=[1,1,-1,-1];return function(o,r,s,l){var c,d=this.config,h=this.components.dataset[0].config,u=d.canvasLeft,g=d.canvasTop,f=d.canvasWidth,m=u+.5*d.canvasWidth,v=g+.5*d.canvasHeight,b=this.linkedItems.smartLabel,x=h.dataLabelOptions,P=x.style,S=p(T(parseFloat(P.lineHeight)),12),k=1===r.length?d.singletonPlaceValue:!1,_=x.skipOverlapLabels,O=x.manageLabelOverflow,M=x.connectorPadding;c=l&&l.metrics||[m,v,2*h.pieMinRadius,h.innerSize||0];var E=c[1],H=c[0];l=.5*c[2];var G=[[],[],[],[]],h=s.labelsRadius=l+x.distance,v=m=parseInt(P.fontSize,10),j=v/2,M=[M,M,-M,-M];s=s.labelsMaxInQuadrant||(s.labelsMaxInQuadrant=B(h/v));var V,Z,Y,X,U,J,Q,q,$,K,tt,et,at,it,nt,ot,rt,x=x.isSmartLineSlanted,st=c[3]/2;c=Number.POSITIVE_INFINITY;var lt,ct;V=[],Y=[],V=this.get("config","animationObj");var dt=o?0:V.duration||0,ht=V.dummyObj,pt=V.animObj,ut=V.animType;if(b.useEllipsesOnOverflow(d.useEllipsesWhenOverflow),o||b.setStyle(P),1==r.length&&!st&&k)st=r[0],ct=st.graphics,et=ct.label,st.slicedTranslation=[u,g],et&&(et.attr({visibility:C,"text-anchor":"middle",x:0,y:0,transform:["t",H,E]}),et.x=H,et.data("textPos",{x:H,y:E})),ct.connector&&ct.connector.attr({path:[]});else if(k)rt=st+(l-st)/2,y(r,function(t){lt=t.config,ct=t.graphics,(et=ct.label)&&(et.attr({transform:"t0,0"}),tt=lt.angle,K=E+rt*w(tt),J=H+rt*D(tt),et.x=J,et._x=J,et.y=K,t.sliced&&(ot=t.slicedTranslation,it=ot[0]-u,nt=ot[1]-g,J+=it,K+=nt),et.animateWith(ht,pt,{visibility:C,"text-anchor":"middle",x:0,y:0,transform:["t",J,K]},dt,ut))});else{for(y(r,function(t){lt=t.config,ct=t.graphics,(et=ct.label)&&(et.attr({transform:"t0,0"}),tt=lt.angle%W,0>tt&&(tt=W+tt),at=tt>=0&&N>tt?1:R>tt?2:z>tt?3:0,G[at].push({point:t,angle:tt}))}),r=o=4;r--;){if(_&&(P=G[r].length-s,P>0))for(G[r].sort(t),k=G[r].splice(0,P),P=0,Y=k.length;Y>P;P+=1)st=k[P].point,ct=st.graphics,ct.label.attr({visibility:"hidden"}),ct.connector&&ct.connector.attr({visibility:"hidden"});G[r].sort(e)}for(r=F(G[0].length,G[1].length,G[2].length,G[3].length),P=F(I(r,s)*v,h+v),Y=G[0].concat(G[1]),V=G[2].concat(G[3]),r=Y.length-1;r>=0;r--)k=Y[r].point.config,delete k.clearance,delete k.clearanceShift,st=A(P*w(k.angle)),Math.abs(c-st)<2*S&&(k.clearance=0,Y[r+1].point.clearanceShift=S/2),c=st;for(c=Number.POSITIVE_INFINITY,r=0,Y=V.length;Y>r;r++)k=V[r].point.config,delete k.clearance,delete k.clearanceShift,st=A(P*w(k.angle)),Math.abs(c-st)<2*S&&(k.clearance=0,V[r-1].point.clearanceShift=S/2),c=st;for(G[1].reverse(),G[3].reverse();o--;){for(k=G[o],Y=k.length,_||(v=Y>s?P/Y:m,j=v/2),S=Y*v,c=P,r=0;Y>r;r+=1,S-=v)st=A(P*w(k[r].angle)),st>c?st=c:S>st&&(st=S),c=(k[r].oriY=st)-v;for(V=a[o],Y=P-(Y-1)*v,c=0,r=k.length-1;r>=0;--r,Y+=v)st=k[r].point,tt=k[r].angle,lt=st.config,ct=st.graphics,X=lt.sliced,et=ct.label,st=A(P*w(tt)),c>st?st=c:st>Y&&(st=Y),c=st+v,S=void 0===lt.clearance?2*T(p(parseFloat(lt.style.border),12),12):2*T(p(parseFloat(lt.style.border),lt.clearance)),q=(st+k[r].oriY)/2,st=H+n[o]*h*D(L.asin(q/P)),q*=i[o],q+=E,$=E+l*w(tt),U=H+l*D(tt),(2>o&&U>st||o>1&&st>U)&&(st=U),J=st+M[o],K=q-j-2,Q=J+M[o],et.x=Q,et._x=Q,O&&(Z=o>1?Q-d.canvasLeft:d.canvasLeft+f-Q,b.setStyle(lt.style),S=p(T(parseFloat(lt.style.lineHeight)),12)+S,S=b.getSmartText(lt.displayValue,Z,S),void 0===lt.clearance&&S.height>v&&(q+=v),et.attr({text:S.text}).tooltip(S.tooltext)),et.y=K,X&&(it=lt.transX,nt=lt.transY,J+=it,st+=it,U+=it,$+=nt,Q+=it),et.attr({"text-anchor":V,vAlign:"middle"}),lt._textAttrs||(lt._textAttrs={}),lt._textAttrs.x=Q,lt._textAttrs.y=q,(S=et.data("textPos"))?et.attr({x:S.x,y:S.y}).animateWith(ht,pt,lt._textAttrs,dt):et.attr(lt._textAttrs),et.data("textPos",{x:Q,y:q}),(S=ct.connector)&&(lt.connectorPath=st=["M",U,$,"L",x?st:U,q,J,q],(U=S.data("connectorPath"))?S.attr({path:U.path}).animateWith(ht,pt,{path:st},dt):S.attr({path:st}),S.data("connectorPath",{path:st}))}}}}(),_spaceManager:function(){var t=this.config,e=this.components,a=e.dataset[0],i=a.components.data,n=a.config,o=e.legend,r=e.colorManager,s=this.linkedItems.smartLabel,l=n.dataLabelCounter,c=0,d=this.jsonData.chart,e=p(d.managelabeloverflow,0),u=p(d.slicingdistance),g=n.preSliced||d.enableslicing!==Q||d.showlegend===q&&d.interactivelegend!==Q?A(p(u,20)):0,f=p(d.pieradius,0),m=(u=p(d.enablesmartlabels,d.enablesmartlabel,1))?p(d.skipoverlaplabels,d.skipoverlaplabel,1):0,v=p(d.issmartlineslanted,1),b=l?p(d.labeldistance,d.nametbdistance,5):g,x=p(d.smartlabelclearance,5),y=t.width-(t.marginRight+t.marginLeft),P=t.height-(t.marginTop+t.marginBottom),S=I(P,y),C=h(d.smartlinecolor,r.getColor("plotFillColor")),L=p(d.smartlinealpha,100),w=p(d.smartlinethickness,.7),a=n.dataLabelOptions||(n.dataLabelOptions=a._parseDataLabelOptions()),r=a.style,r=l?p(parseInt(r.lineHeight,10),12):0,D=0===f?.15*S:f,k=2*D,_={bottom:0,right:0},O=n.pieYScale,S=n.pieSliceDepth;if(a.connectorWidth=w,a.connectorPadding=p(d.connectorpadding,5),a.connectorColor=Z(C,L),l&&(u&&(b=x),b+=g),x=k+2*(r+b),x=this._manageChartMenuBar(P>x?P-x:P/2),P-=(x.top||0)+(x.bottom||0),n.showLegend&&(this.hasLegend=!0,h(d.legendposition,Y).toLowerCase()!==X?(_=o._manageLegendPosition(P/2),P-=_.bottom):(_=o._manageLegendPosition(P/2),y-=_.right)),this._allocateSpace(_),s.useEllipsesOnOverflow(t.useEllipsesWhenOverflow),1!==l)for(;l--;)s.setStyle(i[l].config.style),t=s.getOriSize(i[l].config.displayValue),c=F(c,t.width);0===f?D=this._stubRadius(y,c,P,b):(n.slicingDistance=g,n.pieMinRadius=D,a.distance=b),i=P-2*(D*O+r),n.managedPieSliceDepth=S>i?S-i:n.pieSliceDepth,a.isSmartLineSlanted=v,a.enableSmartLabels=u,a.skipOverlapLabels=m,a.manageLabelOverflow=e},_stubRadius:function(t,e,a,i){var n=this.components.dataset[0],o=n.config,r=o.dataLabelCounter,s=this.jsonData.chart,l=p(s.slicingdistance),c=o.preSliced||s.enableslicing!==Q||s.showlegend===q&&s.interactivelegend!==Q?A(p(l,20)):0,s=p(s.pieradius,0),d=I(a,t),n=o.dataLabelOptions||(o.dataLabelOptions=n._parseDataLabelOptions()),h=n.style,r=r?p(parseInt(h.lineHeight,10),12):0,s=0===s?.15*d:s,d=0,d=I(t/2-e-c,a/2-r)-i;return d>=s?s=d:l||(c=i=F(I(i-(s-d),c),10)),o.slicingDistance=c,o.pieMinRadius=s,n.distance=i,s},getDataSet:function(t){return this.components.dataset[t]},_startingAngle:function(t,e){var a,i=this.components.dataset[0].config,n=(a=i.startAngle)*-E+(0>-1*a?360:0);if(!isNaN(t)){if(i.singletonCase||i.isRotating)return;t+=e?n:0,i.startAngle=-t*M,this._rotate(t),n=t}return _(100*((n%=360)+(0>n?360:0)))/100},eiMethods:{isPlotItemSliced:function(t){var e,a,i,n=this.apiInstance;return n&&n.components.dataset&&(i=n.components.dataset[0])&&(e=i.components.data)&&e.length&&e[t]&&(a=e[t].config)&&a.sliced},addData:function(){var t,e=this.apiInstance;return e&&e.components.dataset&&(t=e.components.dataset[0])&&t.addData.apply(t,arguments)},removeData:function(){var t,e=this.apiInstance;return e&&e.components.dataset&&(t=e.components.dataset[0])&&t.removeData.apply(t,arguments)},updateData:function(){var t,e=this.apiInstance;return e&&e.components.dataset&&(t=e.components.dataset[0])&&t.updateData.apply(t,arguments)},slicePlotItem:function(t,e){var a,i,n,o,r=this.apiInstance;return r&&r.components.dataset&&(a=r.components.dataset[0])&&(i=a.components.data)&&(o=i.length)&&i[t=a.config.reversePlotOrder?o-t-1:t]&&(n=i[t].config)&&((!!e!==n.sliced||void 0===e)&&r._plotGraphicClick.call(i[t].graphics.element)||n.sliced)},centerLabel:function(t,e){var a,i=this.apiInstance,n=i.components.dataset[0],o=n.config,r=o.piePlotOptions.innerSize,s=o.pieCenter,l=s[0],s=s[1],o=o.centerLabelConfig;if("object"!=typeof e)e=o;else for(a in o)void 0===e[a]&&(e[a]=o[a]);e.label=t,n.centerLabelConfig=e,r&&i.drawDoughnutCenterLabel(t||"",l,s,r,r,e,!0)},startingAngle:function(t,e){return this.apiInstance._startingAngle(t,e)}}},U.guageBase,{plotborderthickness:1,alphaanimation:0,singletonPlaceValue:!0}),U("pie3d",{defaultDatasetType:"Pie3D",applicableDSList:{Pie3D:!0},is3D:!0,friendlyName:"3D Pie Chart",fireGroupEvent:!0,creditLabel:$,getPointColor:function(t){return t},_configureManager:function(){var t=this.components.dataset[0],e=t.config,a=t.components,t=a.Pie3DManager,a=a.data;t&&t.configure(e.pieSliceDepth,1===a.length,e.use3DLighting,!1)},defaultPlotShadow:0,_preDrawCalculate:function(){var e,a,n=this.config,o=0,r=this.components.dataset[0],s=r.config;e=r.components,a=s.dataLabelOptions;var l,c,d,u,g=s.pie3DOptions=r._parsePie3DOptions(),f=h(s.startAngle,0)%W,m=s.managedPieSliceDepth,v=s.slicedOffset=g.slicedOffset,b=n.canvasWidth,x=n.canvasHeight,P=[n.canvasLeft+.5*b,n.canvasTop+.5*x-.5*m],n=e.data,S=I(b,x),C=a.distance;l=s.pieYScale;var k=s.slicedOffsetY||(s.slicedOffsetY=v*s.pieYScale);for(d=e.Pie3DManager,P.push(2*s.pieMinRadius,g.innerSize||0),P=t(P,function(t,e){return(u=/%$/.test(t))?[b,x-m,S,S][e]*parseInt(t,10)/100:t}),P[2]/=2,P[3]/=2,P.push(P[2]*l),P.push((P[2]+P[3])/2),P.push(P[5]*l),r.getX=function(t,e){return c=L.asin((t-P[1])/(P[2]+C)),P[0]+(e?-1:1)*D(c)*(P[2]+C)},s.center=P,y(n,function(t){o+=t.config.y}),s.labelsRadius=P[2]+C,s.labelsRadiusY=s.labelsRadius*l,s.quadrantHeight=(x-m)/2,s.quadrantWidth=b/2,r=_(1e3*f)/1e3,g=r+W,f=p(parseInt(a.style.fontSize,10),10)+4,s.maxLabels=B(s.quadrantHeight/f),s.labelFontSize=f,s.connectorPadding=p(a.connectorPadding,5),s.isSmartLineSlanted=h(a.isSmartLineSlanted,!0),s.connectorWidth=p(a.connectorWidth,1),s.enableSmartLabels=a.enableSmartLabels,d||(d=e.Pie3DManager=new i(this),this.get("graphics","datasetGroup").trackTooltip(!0)),this._configureManager(),e=n.length-1;e>=0;--e)a=n[e],a=a.config,f=r,d=o?a.y/o:0,r=_(1e3*(r+d*W))/1e3,r>g&&(r=g),l=r,a.shapeArgs={start:_(1e3*f)/1e3,end:_(1e3*l)/1e3},a.centerAngle=c=(l+f)/2%W,a.slicedTranslation=[_(D(c)*v),_(w(c)*k)],f=D(c)*P[2],s.radiusY=l=w(c)*P[4],a.tooltipPos=[P[0]+.7*f,P[1]+l],a.percentage=100*d,a.total=o},placeDataLabels:function(){var t=function(t,e){return t.point.value-e.point.value},e=function(t,e){return t.angle-e.angle},a=["start","start","end","end"],i=[-1,1,1,-1],n=[1,1,-1,-1];return function(o){var r,s,l,c=this.config,d=this.components.dataset[0],h=d.config,g=d.components.data,f=h.piePlotOptions,m=c.canvasLeft,v=c.canvasTop,d=c.canvasWidth,b=m+.5*c.canvasWidth,x=v+.5*c.canvasHeight,P=this.linkedItems.smartLabel,S=h.dataLabelOptions,k=S.style;r=p(T(parseFloat(k.lineHeight)),12);var O,B,M,E,H,G,j,V,Z,Y,X,U,J,Q,q=u(S.placeInside,!1),$=S.skipOverlapLabels,K=S.manageLabelOverflow,tt=S.connectorPadding,et=S.distance,at=S.connectorWidth,it=[[],[],[],[]],nt=parseInt(k.fontSize,10),ot=nt,rt=ot/2,tt=[tt,tt,-tt,-tt],st=S.isSmartLineSlanted,et=et>0,lt=h.center||(h.center=[b,x,f.size,f.innerSize||0]),ct=lt[1],dt=lt[0],f=lt[2],b=lt[4],x=h.labelsRadius,ht=_(100*h.labelsRadiusY)/100,pt=h.maxLabels,ut=h.enableSmartLabels,gt=h.pieSliceDepth/2,ft=this.get("config","animationObj"),mt=o?0:ft.duration,vt=ft.dummyObj,bt=ft.animObj,ft=ft.animType;if(P.useEllipsesOnOverflow(c.useEllipsesWhenOverflow),h.dataLabelCounter)if(o||P.setStyle(k),1==g.length)r=g[0],Q=r.graphics,J=r.config,X=Q.label,G=Q.connector,J.slicedTranslation=[m,v],X&&null!==J.y&&(X.attr({visibility:C,"text-anchor":"middle",x:dt,y:ct+rt-2}),X.x=dt),G&&G.hide();else if(q)y(g,function(t){if(Q=t.graphics,J=t.config,(X=Q.label)&&null!==J.y){if(Y=J.angle,Z=ct+lt[6]*w(Y)+rt-2,H=dt+lt[5]*D(Y),X.x=H,X._x=H,X.y=Z,J.sliced){t=t.slicedTranslation;var e=t[1]-v;H+=t[0]-m,Z+=e}X.attr({visibility:C,align:"middle",x:H,y:Z})}});else{for(y(g,function(t){Q=t.graphics,J=t.config,(X=Q.label)&&(Y=J.angle,0>Y&&(Y=W+Y),U=Y>=0&&N>Y?1:R>Y?2:z>Y?3:0,it[U].push({point:t,angle:Y}))}),h=c=4;h--;){if($&&(g=it[h].length-pt,g>0))for(it[h].sort(t),q=it[h].splice(0,g),g=0,B=q.length;B>g;g+=1)r=q[g].point,Q=r.graphics,Q.label.attr({visibility:"hidden"}),Q.connector&&Q.connector.attr({visibility:"hidden"});it[h].sort(e)}for(h=F(it[0].length,it[1].length,it[2].length,it[3].length),ht=F(I(h,pt)*ot,ht+ot),it[1].reverse(),it[3].reverse(),P.setStyle(k);c--;){for(g=it[c],B=g.length,$||(ot=B>pt?ht/B:nt,rt=ot/2),q=B*ot,k=ht,h=0;B>h;h+=1,q-=ot)r=A(ht*w(g[h].angle)),r>k?r=k:q>r&&(r=q),k=(g[h].oriY=r)-ot;for(q=a[c],B=ht-(B-1)*ot,k=0,h=g.length-1;h>=0;--h,B+=ot)r=g[h].point,Q=r.graphics,J=r.config,null!==J.y&&(Y=g[h].angle,l=J.sliced,X=Q.label,r=A(ht*w(Y)),k>r?r=k:r>B&&(r=B),k=r+ot,j=(r+g[h].oriY)/2,M=dt+n[c]*x*D(L.asin(j/ht)),j*=i[c],j+=ct,V=ct+b*w(Y),E=dt+f*D(Y),(2>c&&E>M||c>1&&M>E)&&(M=E),H=M+tt[c],Z=j+rt-2,G=H+tt[c],X.x=G,X._x=G,K&&(O=c>1?G-m:m+d-G,P.setStyle(J.style),r=p(T(parseFloat(J.style.lineHeight)),12)+(2*T(parseFloat(J.style.border),12)||0),r=P.getSmartText(J.displayValue,O,r),X.attr({text:r.text}).tooltip(r.tooltext)),R>Y&&(j+=gt,V+=gt,Z+=gt),X.y=Z,l&&(r=J.transX,l=J.transY,H+=r,M+=r,E+=r,V+=l,G+=r),X.attr({visibility:C,"text-anchor":q}),(l=X.data("textPos"))&&X.attr({x:l.x,y:l.y}),r={x:G,y:j},!o&&l?X.animateWith(vt,bt,r,mt,ft):X.attr(r),X.data("textPos",{x:G,y:j}),et&&at&&ut&&(G=Q.connector,J.connectorPath||(s=!0),J.connectorPath=r=["M",E,V,"L",st?M:E,j,H,j],r={path:r,"stroke-width":at,stroke:S.connectorColor||"#606060",visibility:C},G&&(o||s?G.attr(r):G.animateWith(vt,bt,r,mt,ft))))}}}}(),animate:function(){var t,e,a,i,n=this,o=n.components.dataset[0],r=o.components.data;t=n.graphics.datasetGroup;var s=r.length;e=o.config.alphaAnimation,a=function(){n.disposed||n.disposing||n.placeDataLabels(!1)};var l=n.get("config","animationObj"),o=l.duration||0,c=l.dummyObj,d=l.animObj,l=l.animType;if(e)t.attr({opacity:0}),t.animateWith(c,d,{opacity:1},o,l,a);else for(t=0;s>t;t++)e=r[t],a=e.graphics,e=e.config,i=e.shapeArgs,e=2*O,(a=a.element)&&(a.attr({start:e,end:e}),a=i.start,i=i.end,(void 0).animateWith(c,d,{cx:a-e,cy:i-e},o,l))},_rotate:function(t){var a,i=this.components.dataset[0],n=i.config,i=i.components,o=i.data,r=n.slicedOffset,s=n.slicedOffsetY,l=n.startAngle;t=isNaN(t)?-n._lastAngle:t,a=(t-l)%360,n.startAngle=p(t,n.startAngle)%360,a=-(a*O)/180,i.Pie3DManager&&i.Pie3DManager.rotate(a),y(o,function(t){var i=[],n=t.config;t=t.graphics.element;var i=n.shapeArgs,o=i.start+=a,i=i.end+=a,l=n.angle=e((o+i)/2),o=n.sliced,i=D(l),l=w(l),i=n.slicedTranslation=[_(i*r),_(l*s)];n.transX=i[0],n.transY=i[1],n.slicedX=o?D(a)*r:0,n.slicedY=o?w(a)*s:0,t&&o&&t.attr({transform:"t"+i[0]+","+i[1]})}),this.placeDataLabels(!0,o)},_plotRollOver:function(t){var e=this.data("plotItem"),a=e.chart,i=a.config,n=a.components.dataset[0],o=n.components.data[e.index],e=o.graphics.element,o=o.config.hoverEffects;n.config.isRotating||(P.call(e,a,t,"DataPlotRollOver"),o.enabled&&e.attr(o)),i.isHovered=!0},_plotRollOut:function(t){var e=this.data("plotItem"),a=e.chart,i=a.config,n=a.components.dataset[0],o=n.components.data[e.index],e=o.config,o=o.graphics.element;n.config.isRotating||(P.call(o,a,t,"DataPlotRollOut"),o.attr({color:e.color.color.split(",")[0],alpha:e._3dAlpha,borderWidth:e.borderWidth,borderColor:e.borderColor})),i.isHovered=!1},_plotDragStart:function(t,e,i){var n=this.data("plotItem").chart.components.dataset[0].config;n.isRightClicked=!r&&0!==i.button&&1!==i.button,n.enableRotation&&!n.isRightClicked&&(n.isRotating=!1,t=a.call(i,t,e,n.center,n.chartPosition,n.pieYScale),n.dragStartAngle=t,n._lastAngle=-n.startAngle,n.startingAngleOnDragStart=n.startAngle)},_plotDragEnd:function(t){var a=this.data("plotItem"),i=a.index,a=a.chart,o=a.config,r=a.components.dataset[0],s=r.config,r=r.components.Pie3DManager,l=s.startAngle;s.isRightClicked||(s.isRotating?(setTimeout(function(){s.isRotating=!1},0),n.raiseEvent("rotationEnd",{startingAngle:e(l,!0),changeInAngle:l-s.startingAngleOnDragStart},a.chartInstance),!o.isHovered&&r.colorObjs[i]&&r.onPlotHover(i,!1)):a._plotGraphicClick.call(this,t))},_plotDragMove:function(t,i,o,r,s){var l=this.data("plotItem").chart,c=l.components.dataset[0].config;isNaN(t)||isNaN(i)||!c.enableRotation||c.singletonCase||c.isRightClicked||(t=a.call(s,o,r,c.center,c.chartPosition,c.pieYScale),c.isRotating||(c.dragStartAngle!==t&&(c.isRotating=!0),n.raiseEvent("rotationStart",{startingAngle:e(c.startAngle,!0)},l.chartInstance)),i=t-c.dragStartAngle,c.dragStartAngle=t,c.moveDuration=0,c._lastAngle+=180*i/O,t=(new Date).getTime(),c._lastTime&&!(c._lastTime+c.timerThreshold<t))||(c._lastTime||l._rotate(),c.timerId=setTimeout(function(){l.disposed&&l.disposing||l._rotate()},c.timerThreshold),c._lastTime=t)},_stubRadius:function(t,e,a,i){var n=this.components.dataset[0],o=n.config,r=p(n.components.data&&n.components.data.length,0),s=n.config,l=p(s.slicingdistance),c=o.preSliced||s.enableslicing!==Q||s.showlegend===q&&s.interactivelegend!==Q?A(p(l,20)):0,s=p(s.pieradius,0),d=I(a,t),n=o.dataLabelOptions||(o.dataLabelOptions=n._parseDataLabelOptions()),h=n.style,r=r?p(parseInt(h.lineHeight,10),12):0,s=0===s?.15*d:s,d=0,d=o.pieYScale;return a-=o.pieSliceDepth,d=I(t/2-e-c,(a/2-r)/d)-i,d>=s?s=d:l||(c=i=F(I(i-(s-d),c),10)),o.slicingDistance=c,o.pieMinRadius=s,n.distance=i,s},_startingAngle:function(t,e){var a,i=this.components.dataset[0].config,n=(a=i.startAngle)+(0>a?360:0);if(!isNaN(t)){if(i.singletonCase||i.isRotating)return;t+=e?n:0,this._rotate(t),n=t}return _(100*((n%=360)+(0>n?360:0)))/100}},U.pie2d,{plotborderthickness:.1,alphaanimation:1}),U("doughnut2d",{friendlyName:"Doughnut Chart",defaultDatasetType:"Doughnut2D",creditLabel:$,applicableDSList:{Doughnut2D:!0},getPointColor:function(t,e,a){var i;return t=H(t),e=G(e),100>a&&m?(i=j(t,B(100*(85-.2*(100-a)))/100),t=V(t,B(100*(100-.5*a))/100),e={FCcolor:{color:i+","+t+","+t+","+i,alpha:e+","+e+","+e+","+e,radialGradient:!0,gradientUnits:"userSpaceOnUse",r:a}}):e={FCcolor:{color:t+","+t,alpha:e+","+e,ratio:"0,100"}},e},drawDoughnutCenterLabel:function(t,e,a,i,n,o,r){var s=this.components,l=s.dataset[0].config;o=o||l.lastCenterLabelConfig;var s=s.paper,c=this.linkedItems.smartLabel,d=this.graphics,h=d.datasetGroup,p=o.padding,u=2*o.textPadding,g={fontFamily:o.font,fontSize:o.fontSize+"px",lineHeight:1.2*o.fontSize+"px",fontWeight:o.bold?"bold":"",fontStyle:o.italic?"italic":""},m=1.414*(.5*i-p)-u;n=1.414*(.5*n-p)-u;var b;c.setStyle(g),c.useEllipsesOnOverflow(this.config.useEllipsesWhenOverflow),c=c.getSmartText(t,m,n),(n=d.doughnutCenterLabel)?(n.attr("text")!==t&&this.centerLabelChange(t),b=d.centerLabelOvalBg):(o.bgOval&&(d.centerLabelOvalBg=b=s.circle(e,a,.5*i-p,h)),n=d.doughnutCenterLabel=s.text(h).hover(this.centerLabelRollover,this.centerLabelRollout).click(this.centerLabelClick),n.chart=this),t?(n.css(g).attr({x:e,y:a,text:c.text,visibility:C,direction:l.textDirection,fill:f({FCcolor:{color:o.color,alpha:o.alpha}}),"text-bound":o.bgOval?"none":[f({FCcolor:{color:o.bgColor,alpha:o.bgAlpha}}),f({FCcolor:{color:o.borderColor,alpha:o.borderAlpha}}),o.borderThickness,o.textPadding,o.borderRadius]}).tooltip(o.toolText||c.tooltext),o.bgOval&&b&&b.attr({visibility:C,fill:v(o.bgColor),"fill-opacity":o.bgAlpha/100,stroke:v(o.borderColor),"stroke-width":o.borderThickness,"stroke-opacity":o.borderAlpha/100})):(n.attr("visibility","hidden"),b&&b.attr("visibility","hidden")),r&&(l.lastCenterLabelConfig=o,l.centerLabelConfig=o)},centerLabelRollover:function(){var t=this.chart,e=t.config,a=t.chartInstance,i=a.ref,o=t.components.dataset[0].config.lastCenterLabelConfig,e={height:e.height,width:e.width,pixelHeight:i.offsetHeight,pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:t.linkedItems.container,centerLabelText:o&&o.label};this.attr("text")&&n.raiseEvent("centerLabelRollover",e,a,this,t.hoverOnCenterLabel)},centerLabelRollout:function(){var t=this.chart,e=t.config,a=t.chartInstance,i=a.ref,o=t.components.dataset[0].config.lastCenterLabelConfig,e={height:e.height,width:e.width,pixelHeight:i.offsetHeight,pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:t.linkedItems.container,centerLabelText:o&&o.label};this.attr("text")&&n.raiseEvent("centerLabelRollout",e,a,this,t.hoverOffCenterLabel)},centerLabelClick:function(){var t=this.chart,e=t.config,a=t.chartInstance,i=a.ref,o=t.components.dataset[0].config.lastCenterLabelConfig,t={height:e.height,width:e.width,pixelHeight:i.offsetHeight,pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:t.linkedItems.container,centerLabelText:o&&o.label};this.attr("text")&&n.raiseEvent("centerLabelClick",t,a)},centerLabelChange:function(t){var e=this.config,a=this.chartInstance,i=a.ref;n.raiseEvent("centerLabelChanged",{height:e.height,width:e.width,pixelHeight:i.offsetHeight,pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:this.linkedItems.container,centerLabelText:t},a)},hoverOnCenterLabel:function(){var t=this.chart.components.dataset[0].config.lastCenterLabelConfig;(t.hoverColor||t.hoverAlpha)&&this.attr({fill:f({FCcolor:{color:t.hoverColor||t.color,alpha:t.hoverAlpha||t.alpha}})})},hoverOffCenterLabel:function(){var t=this.chart.components.dataset[0].config.lastCenterLabelConfig;(t.hoverColor||t.hoverAlpha)&&this.attr({fill:f({FCcolor:{color:t.color,alpha:t.alpha}})})}},U.pie2d,{singletonPlaceValue:!1}),U("doughnut3d",{friendlyName:"3D Doughnut Chart",defaultDatasetType:"Doughnut3D",creditLabel:$,applicableDSList:{Doughnut3D:!0},_configureManager:function(){var t=this.components.dataset[0],e=t.config,a=t.components,t=a.Pie3DManager,a=a.data;t&&t.configure(e.pieSliceDepth,1===a.length,e.use3DLighting,!0)}},U.pie3d),U("mscolumn2d",{standaloneInit:!0,friendlyName:"Multi-series Column Chart",creditLabel:$,defaultDatasetType:"column",applicableDSList:{column:!0},eiMethods:{}},U.mscartesian),U("mscolumn3d",{standaloneInit:!0,defaultDatasetType:"column3d",friendlyName:"Multi-series 3D Column Chart",applicableDSList:{column3d:!0},defaultPlotShadow:1,fireGroupEvent:!0,is3D:!0,creditLabel:$,defaultZeroPlaneHighlighted:!1},U.mscartesian3d),U("msbar2d",{standaloneInit:!0,friendlyName:"Multi-series Bar Chart",isBar:!0,hasLegend:!0,creditLabel:$,defaultDatasetType:"bar2d",applicableDSList:{bar2d:!0}},U.msbarcartesian),U("msbar3d",{standaloneInit:!0,defaultSeriesType:"bar3d",friendlyName:"Multi-series 3D Bar Chart",fireGroupEvent:!0,defaultPlotShadow:1,is3D:!0,isBar:!0,hasLegend:!0,creditLabel:$,defaultZeroPlaneHighlighted:!1,defaultDatasetType:"bar3d",applicableDSList:{bar3d:!0}},U.msbarcartesian3d),U("msarea",{standaloneInit:!0,friendlyName:"Multi-series Area Chart",
creditLabel:$,defaultDatasetType:"area",showValues:1,defaultPlotShadow:0,applicableDSList:{area:!0}},U.mscartesian),U("msline",{standaloneInit:!0,friendlyName:"Multi-series Line Chart",creditLabel:$,defaultDatasetType:"line",defaultPlotShadow:1,axisPaddingLeft:0,axisPaddingRight:0,applicableDSList:{line:!0}},U.mscartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),U("stackedarea2d",{friendlyName:"Stacked Area Chart",isStacked:!0,showsum:0,creditLabel:$,areaAlpha:100},U.msarea),U("stackedcolumn2d",{friendlyName:"Stacked Column Chart",isStacked:!0,creditLabel:$},U.mscolumn2d),U("stackedcolumn3d",{friendlyName:"3D Stacked Column Chart",isStacked:!0,creditLabel:$},U.mscolumn3d),U("stackedbar2d",{friendlyName:"Stacked Bar Chart",isStacked:!0,creditLabel:$},U.msbar2d),U("stackedbar3d",{friendlyName:"3D Stacked Bar Chart",isStacked:!0,creditLabel:$},U.msbar3d),U("marimekko",{standaloneInit:!0,friendlyName:"Marimekko Chart",isValueAbs:!0,distributedColumns:!0,stack100percent:!0,defaultDatasetType:"marimekko",applicableDSList:{marimekko:!0},isStacked:!0,showsum:1,creditLabel:$,_setAxisLimits:function(){var t,e,a,i,n=this.components,o=n.dataset,r=n.yAxis,n=n.xAxis,s=o.length,l=-(1/0),c=1/0,d=1/0,h=-(1/0),p={};a=this.config.categories;var u=[],g=function(t){l=F(l,t.max),c=I(c,t.min),h=F(h,t.xMax||-(1/0)),d=I(d,t.xMin||1/0)};for(e=0;s>e;e++)t=o[e],(i=t.groupManager)?p[t.type]=i:u.push(t);for(i in p)o=p[i].getDataLimits(),g(o);for(s=u.length,e=0;s>e;e++)o=u[e].getDataLimits(),g(o);for(-(1/0)===l&&(l=0),1/0===c&&(c=0),r[0].setAxisConfig({isPercent:this.isStacked?this.config.stack100Percent:0}),r[0].setDataLimit(l,c),-(1/0)===h&&1/0===d||(n[0].config.xaxisrange={max:h,min:d},n[0].setDataLimit(h,d)),r=p[i].getStackSumPercent(),e=r.length,i=n[0].getCategoryLen(),i>e&&a.splice(e,i-e),this._setCategories(),e=n[0].getLimit(),d=e.min,h=e.max,a=d,i=h-d,e=0;e<r.length;e++)o=r[e],s=i*o/100,o=a+s/2,n[0].updateCategory(e,{x:o}),a+=s}},U.mscartesian),U("msstackedcolumn2d",{standaloneInit:!0,isStacked:!0,defaultDatasetType:"column",applicableDSList:{column:!0},friendlyName:"Multi-series Stacked Column Chart",_createDatasets:function(){var t,e,a,i,n,o,r,s,l,c=this.components,d=this.jsonData,p=d.dataset,u=p&&p.length||0,g=this.defaultDatasetType,f=this.applicableDSList,m=d.lineset||[],v=this.config,b=v.dataSetMap,x=v.lineSetMap,y=b&&b.length,P=c.legend,C=[],L=[],w=0;o=0;var D,k,_,I,F=-1,A=this.config.catLen,O=c.xAxis[0],T=c.dataset;if(p||0!==m.length){for(this.config.categories=d.categories&&d.categories[0].category,e=c.dataset=[],d=0;u>d;d++){if(s=p[d],F++,s.dataset)for(I=!0,l=s.dataset&&s.dataset.length||0,C[d]=[],t=0;l>t;t++)o=s.dataset[t],i=(i=h(o.renderas,g))&&i.toLowerCase(),f[i]||(i=g),(a=FusionCharts.get("component",["dataset",i]))&&(r="datasetGroup_"+i,n=FusionCharts.register("component",["datasetGroup",i]),i=c[r],n&&!i?(i=c[r]=new n,i.chart=this,i.init()):i&&b&&0!==b.length&&!D&&(i.init(),D=!0),b&&b[d]&&b[d][t]?(a=b[d][t],a.index=w,r=a.JSONData,n=r.data.length,r=o.data&&o.data.length||0,k=O.getCategoryLen(),_=A-k,n-=r,n=this._getDiff(n,r,_,k),r=n.diff,n=n.startIndex,r>0&&a.removeData(n,r,!1),a.JSONData=o,a.configure()):(a=new a,a.chart=this,a.index=w,a.init(o)),w++,C[d].push(a),e.push(a),i&&i.addDataSet(a,F,t));else l=t=0,F--;if(s=b&&b[d]&&b[d].length,s>l)for(o=t,s=s-l+t;s>o;o++)i=b[d][o],P.removeItem(i.legendItemId),S.call(i)}if(y>u)for(o=d,s=y-u+d;s>o;o++)for(l=b[o].length,t=0;l>t;t++)i=b[o][t],P.removeItem(i.legendItemId),S.call(i);if(v.dataSetMap=C,this.lineset){for(d=0,u=m.length;u>d;d++)p=m[d],a=FusionCharts.get("component",["dataset","line"]),a=new a,x&&x[d]?(a=x[d],a.index=w,r=a.JSONData,n=r.data.length,r=p.data&&p.data.length||0,n>r&&a.removeData(r,n-r,!1),a.JSONData=p,a.configure()):(a.chart=this,a.index=w,a.init(p)),L.push(a),e.push(a),w++;if(m=x&&x.length,m>u)for(o=d,s=m-u+d;s>o;o++)i=x[o],P.removeItem(i.legendItemId),S.call(i);v.lineSetMap=L}I?this.config.catLen=O.getCategoryLen():(c.dataset=T,this.setChartMessage())}else this.setChartMessage()},creditLabel:$},U.mscartesian),U("mscombi2d",{friendlyName:"Multi-series Combination Chart",standaloneInit:!0,creditLabel:$,defaultDatasetType:"column",applicableDSList:{line:!0,area:!0,column:!0},_createDatasets:function(){var t,e,a,i,n,o,r,s,l,c=this.components,d=this.jsonData,p=d.dataset,u=p&&p.length,g=this.defaultDatasetType,f=this.applicableDSList,m=this.components.legend,v=c.xAxis[0],b=this.isStacked,x=[],y={},P=this.config,C=this.config.catLen,L=P.datasetMap||(P.datasetMap={line:[],area:[],column:[],column3d:[],scrollcolumn2d:[]}),w={line:[],area:[],column:[],column3d:[],scrollcolumn2d:[]};for(p||this.setChartMessage(),this.config.categories=d.categories&&d.categories[0].category,t=c.dataset=[],d=0;u>d;d++)r=p[d],o=r.parentyaxis||"",i=(i=this.isDual&&"s"===o.toLowerCase()?"line"===this.defaultSecondaryDataset?this.sDefaultDatasetType:h(r.renderas,this.sDefaultDatasetType):h(r.renderas,g))&&i.toLowerCase(),f[i]||(i=g),(n=FusionCharts.get("component",["dataset",i]))&&(void 0===y[i]?y[i]=0:y[i]++,e="datasetGroup_"+i,o=FusionCharts.register("component",["datasetGroup",i]),(a=c[e])&&x.push(a),o&&!a&&(a=c[e]=new o,a.chart=this,a.init()),o=L[i],(e=o[0])?(a=v.getCategoryLen(),n=C-a,l=e.JSONData,s=l.data&&l.data.length,l=r.data&&r.data.length||0,s-=l,n=this._getDiff(s,l,n,a),a=n.diff,n=n.startIndex,a>0&&e.removeData(n,a,!1),e.JSONData=r,e.configure(),o.splice(0,1)):(e=new n,e.chart=this,e.index=d,a&&(b?a.addDataSet(e,0,y[i]):a.addDataSet(e,y[i],0)),e.init(r)),w[i].push(e),t.push(e));for(p in L)if(o=L[p],g=o[0]&&o[0].groupManager,u=o.length,f=void 0===y[p]?0:y[p]+1,u)for(b&&g&&g.removeDataSet(0,f,u),c=0;u>c;c++)g&&!b&&g.removeDataSet(f,0,1),m.removeItem(o[c].legendItemId),"column"===o[c].type&&!0===this.is3D?(o[c].visible=!1,o[c].draw()):S.call(o[c]);P.datasetMap=w,this.config.catLen=v.getCategoryLen()}},U.mscartesian),U("mscombi3d",{standaloneInit:!0,friendlyName:"Multi-series 3D Combination Chart",defaultDatasetType:"column3d",is3D:!0,creditLabel:$,defaultPlotShadow:1,applicableDSList:{column3d:!0,line:!0,area:!0},_createDatasets:U.mscombi2d},U.mscartesian3d),U("mscolumnline3d",{friendlyName:"Multi-series Column and Line Chart",use3dlineshift:1,is3D:!0,creditLabel:$,defaultPlotShadow:1,applicableDSList:{column3d:!0,line:!0}},U.mscombi3d),U("stackedcolumn2dline",{friendlyName:"Stacked Column and Line Chart",isStacked:!0,stack100percent:0,defaultDatasetType:"column",creditLabel:$,applicableDSList:{line:!0,column:!0}},U.mscombi2d),U("stackedcolumn3dline",{friendlyName:"Stacked 3D Column and Line Chart",isStacked:!0,is3D:!0,use3dlineshift:1,creditLabel:$,stack100percent:0,applicableDSList:{column3d:!0,line:!0}},U.mscombi3d),U("mscombidy2d",{standaloneInit:!0,friendlyName:"Multi-series Dual Y-Axis Combination Chart",defaultDatasetType:"column",sDefaultDatasetType:"line",_createDatasets:U.mscombi2d,isDual:!0,creditLabel:$,applicableDSList:{column:!0,line:!0,area:!0}},U.msdybasecartesian),U("mscolumn3dlinedy",{standaloneInit:!0,friendlyName:"Multi-series 3D Column and Line Chart",defaultDatasetType:"column3d",sDefaultDatasetType:"line",is3D:!0,isDual:!0,use3dlineshift:1,creditLabel:$,_createDatasets:U.mscombi2d,defaultPlotShadow:1,applicableDSList:{column3d:!0,line:!0}},U.msdybasecartesian3d),U("stackedcolumn3dlinedy",{standaloneInit:!0,friendlyName:"Stacked 3D Column and Line Chart",isStacked:!0,is3D:!0,isDual:!0,use3dlineshift:1,defaultDatasetType:"column3d",creditLabel:$,sDefaultDatasetType:"line",defaultSecondaryDataset:"line",_createDatasets:U.mscombi2d,applicableDSList:{column3d:!0,line:!0}},U.msdybasecartesian3d),U("msstackedcolumn2dlinedy",{standaloneInit:!0,friendlyName:"Multi-series Dual Y-Axis Stacked Column and Line Chart",isDual:!0,stack100percent:0,isStacked:!0,defaultDatasetType:"column",sDefaultDatasetType:"line",hasLineSet:!0,creditLabel:$,applicableDSList:{column:!0},lineset:!0,_createDatasets:U.msstackedcolumn2d},U.msdybasecartesian),U("scrollcolumn2d",{standaloneInit:!0,friendlyName:"Scrollable Multi-series Column Chart",tooltipConstraint:"plot",canvasborderthickness:1,creditLabel:$,defaultDatasetType:"scrollcolumn2d",applicableDSList:{scrollcolumn2d:!0},avgScrollPointWidth:40,hasScroll:!0,defaultPlotShadow:1,_manageScrollerPosition:function(){var t,e=this.config;t=this._scrollBar.get;var a,i=this.components.scrollBar;t=t()[0],i.setConfiguaration(t.conf),t=e.scrollEnabled,a=i.getLogicalSpace(),this._allocateSpace({bottom:e.shift=!1===t?0:a.height+i.conf.padding})},_resetViewPortConfig:function(){this.config.viewPortConfig={scaleX:1,scaleY:1,x:0,y:0}},updateManager:function(t){var e=this.config,a=this.config.viewPortConfig,i=a.scaleX,n=this.graphics.datasetGroup,o=this.graphics.datalabelsGroup,r=this.graphics.trackerGroup,s=e.canvasWidth*(i-1)*t,l=this.components.xAxis[0],c=this.graphics.sumLabelsLayer;a.x=s/i,a="t"+-_(s)+",0",e.lastScrollPosition=t,n.attr({transform:a}),o.attr({transform:a}),r.attr({transform:a}),c&&c.attr({transform:a}),t=l.getAxisConfig("animateAxis"),l.setAxisConfig({animateAxis:!1}),l.draw(),l.setAxisConfig({animateAxis:t})},_createToolBox:function(){var t,e,a=this.components,i=this._scrollBar,n=i.get,o=i.add,r=a.scrollBar;U.mscartesian._createToolBox.call(this),t=a.tb,e=(a.toolBoxAPI||t.getAPIInstances(t.ALIGNMENT_HORIZONTAL)).Scroller,i.clear(),o({isHorizontal:!0},{scroll:function(t){return function(){t.updateManager.apply(t,arguments)}}(this)}),i=n()[0],r||(a.scrollBar=new e(i.conf,t.idCount,t.pId).attachEventHandlers(i.handler))},_setAxisScale:function(){var t,e,a,i=this.config,n=this.components.xAxis[0].getCategoryLen(),o=this.jsonData,r=i.scrollOptions||(i.scrollOptions={}),s=this.components.dataset,l=s.length,c=0;a=i.canvasWidth;var d=i.scrollToEnd,h=i.lastScrollPosition,o=p(o.chart.numvisibleplot,B(i.width/this.avgScrollPointWidth));for(e=0;l>e;e++)t=s[e],"column"===t.type&&c++;this.isStacked&&(c=1),n*=c||1,o>=2&&n>o?(i.viewPortConfig.scaleX=n/=o,a=a*(n-1)*(void 0!==h?h:d?1:0),i.viewPortConfig.x=a/n,r.vxLength=o/l,i.scrollEnabled=!0):i.scrollEnabled=!1},drawScrollBar:function(){var t,e,a,i,o,r=this,s=r.config,l=s.viewPortConfig,d=r.components,h=d.xAxis[0],u=h.config.axisData,g=h.config.axisRange,f=s.scrollOptions||(s.scrollOptions={}),m=g.max,v=g.min,b=f.vxLength,x=d.scrollBar,g=x.node,y=s.scrollToEnd,P=s.lastScrollPosition,S=l.scaleX;i=void 0!==P?P:y?1:0,l=s.canvasLeft,y=s.canvasTop,P=s.canvasHeight,t=s.canvasWidth,d=d.canvas.config,e=d.canvasBorderWidth,a=u.showAxisLine?u.axisLineThickness||0:0,o=p(e,u.lineStartExtension),u=p(e,u.lineEndExtension),f.viewPortMin=v,f.viewPortMax=m,S=f.scrollRatio=1/S,b=f.windowedCanvasWidth=h.getAxisPosition(b),h=f.fullCanvasWidth=h.getAxisPosition(m-v)-b,!1!==s.scrollEnabled?(x.draw(l-o,y+P+e+a-2,{width:t+o+u,scrollRatio:S,roundEdges:d.isRoundEdges,fullCanvasWidth:h,windowedCanvasWidth:b,scrollPosition:i}),!g&&function(){var t;c.eve.on("raphael.scroll.start."+x.node.id,function(e){t=e,n.raiseEvent("scrollstart",{scrollPosition:e},r.chartInstance)}),c.eve.on("raphael.scroll.end."+x.node.id,function(e){n.raiseEvent("scrollend",{prevScrollPosition:t,scrollPosition:e},r.chartInstance)})}()):x&&x.node&&x.node.hide()},_drawDataset:function(){this._setClipping(),U.mscartesian._drawDataset.call(this)},_setClipping:function(){var t=this.config,e=this.graphics.datasetGroup,a=this.graphics.datalabelsGroup,i=this.graphics.trackerGroup,n=t.viewPortConfig,o=this.graphics.sumLabelsLayer,r=n.scaleX,s=this.get("config","animationObj"),l=s.duration,c=s.dummyObj,d=s.animObj,s=s.animType,n=n.x,t=t.height,h=this.components.canvas.config.clip["clip-canvas"],h=h&&h.slice(0)||[];this.config.clipSet?(e.animateWith(c,d,{"clip-rect":h},l,s),a.animateWith(c,d,{"clip-rect":h},l,s),i.attr({"clip-rect":h}),h[3]=t,h[1]=0,o&&o.animateWith(c,d,{"clip-rect":h},l,s)):(e.attr({"clip-rect":h}),a.attr({"clip-rect":h}),i.attr({"clip-rect":h}),h[3]=t,h[1]=0,o&&o.attr({"clip-rect":h})),e.attr({transform:"T"+-(n*r)+",0"}),a.attr({transform:"T"+-(n*r)+",0"}),i.attr({transform:"T"+-(n*r)+",0"}),o&&o.attr({transform:"T"+-(n*r)+",0"}),this.config.clipSet=!0},configure:function(){var t,e=this.jsonData.chart;U.mscolumn2d.configure.call(this),t=this.config,t.scrollToEnd=p(e.scrolltoend,0),t.lastScrollPosition=void 0}},U.scrollbase),U("scrollarea2d",{friendlyName:"Scrollable Multi-series Area Chart",tooltipConstraint:"plot",canvasborderthickness:1,creditLabel:$,hasScroll:!0,defaultDatasetType:"scrollarea2d",applicableDSList:{scrollarea2d:!0},avgScrollPointWidth:75,defaultPlotShadow:0,_setAxisScale:function(){var t,e=this.config,a=this.components.xAxis[0].getCategoryLen(),i=this.jsonData,n=e.scrollOptions||(e.scrollOptions={});t=e.lastScrollPosition;var o=e.scrollToEnd,r=e.canvasWidth,i=p(i.chart.numvisibleplot,B(e.width/this.avgScrollPointWidth));i>=2&&a>i?(e.viewPortConfig.scaleX=a/=i,t=r*(a-1)*(void 0!==t?t:o?1:0),e.viewPortConfig.x=t/a,n.vxLength=i,e.scrollEnabled=!0):e.scrollEnabled=!1}},U.scrollcolumn2d),U("scrollline2d",{friendlyName:"Scrollable Multi-series Line Chart",tooltipConstraint:"plot",canvasborderthickness:1,defaultDatasetType:"line",creditLabel:$,avgScrollPointWidth:75},U.scrollarea2d),U("scrollstackedcolumn2d",{friendlyName:"Scrollable Stacked Column Chart",canvasborderthickness:1,tooltipConstraint:"plot",avgScrollPointWidth:75,creditLabel:$,isStacked:!0},U.scrollcolumn2d),U("scrollcombi2d",{friendlyName:"Scrollable Combination Chart",tooltipConstraint:"plot",hasScroll:!0,canvasborderthickness:1,avgScrollPointWidth:40,applicableDSList:{area:!0,line:!0,column:!0},creditLabel:$,_createDatasets:U.mscombi2d},U.scrollcolumn2d),U("scrollcombidy2d",{friendlyName:"Scrollable Dual Y-Axis Combination Chart",tooltipConstraint:"plot",canvasborderthickness:1,avgScrollPointWidth:40,hasScroll:!0,_drawDataset:U.scrollcolumn2d,updateManager:U.scrollcolumn2d,_setAxisScale:U.scrollcolumn2d,_createToolBox:U.scrollcolumn2d,_scrollBar:U.scrollcolumn2d,_manageScrollerPosition:U.scrollcolumn2d,drawScrollBar:U.scrollcolumn2d,_setClipping:U.scrollcolumn2d,creditLabel:$,configure:U.scrollcolumn2d},U.mscombidy2d),U("scatter",{friendlyName:"Scatter Chart",isXY:!0,standaloneInit:!0,hasLegend:!0,defaultZeroPlaneHighlighted:!1,creditLabel:$,defaultDatasetType:"Scatter",applicableDSList:{Scatter:!0}},U.scatterBase),g(o.eventList,{zoomedOut:"FC_ZoomedOut"}),U("bubble",{friendlyName:"Bubble Chart",standaloneInit:!0,defaultDatasetType:"bubble",creditLabel:$,applicableDSList:{bubble:!0},getDataLimits:function(){var t,e,a,i=this.components.dataset,n=-(1/0),o=1/0;for(t=0,a=i.length;a>t;t++)e=i[t],e=e.getDataLimits(),n=F(n,e.zMax||-(1/0)),o=I(o,e.zMin||1/0);return n=-(1/0)===n?0:n,o=1/0===o?0:o,{zMax:n,zMin:o}}},U.scatter),c._availableAnimAttrs&&c._availableAnimAttrs.cx&&(c._availableAnimAttrs.innerR=c._availableAnimAttrs.depth=c._availableAnimAttrs.radiusYFactor=c._availableAnimAttrs.start=c._availableAnimAttrs.end=c._availableAnimAttrs.cx),i.prototype={configure:function(t,e,a,i){var n=this.linkedItems.chart,o=n.get("components","paper"),n=n.get("graphics","datasetGroup");"object"==typeof t&&(t=t.depth,e=t.hasOnePoint,a=t.use3DLighting,i=t.isDoughnut),this.renderer||(this.renderer=o),this.hasOnePoint=e,this.use3DLighting=a,this.isDoughnut=i,this.depth=t,!this.bottomBorderGroup&&(this.bottomBorderGroup=o.group("bottom-border",n)),this.bottomBorderGroup.attr({transform:"t0,"+t}),!this.slicingWallsBackGroup&&(this.slicingWallsBackGroup=o.group("slicingWalls-back-Side",n)),!this.slicingWallsFrontGroup&&(this.slicingWallsFrontGroup=o.group("slicingWalls-front-Side",n)),!this.topGroup&&(this.topGroup=o.group("top-Side",n)),!this.pointElemStore&&(this.pointElemStore=[]),!this.slicingWallsArr&&(this.slicingWallsArr=[]),this.moveCmdArr=["M"],this.lineCmdArr=["L"],this.closeCmdArr=["Z"],this.colorObjs=[]},getArcPath:function(t,e,a,i,n,o,r,s,l,c){return a==n&&i==o?[]:["A",r,s,0,c,l,n,o]},_parseSliceColor:function(t,e,a){var i,n,o,r,s,l,c,d,h,p,u,g,v,b,x;x=3;var y=(i=this.use3DLighting)?K:tt,P=a.radiusYFactor,S=a.cx,C=a.cy,L=a.r,w=L*P,D=a.innerR||0,k=S+L,_=S-L,I=S+D,F=S-D;return e=e||100,a=e/2,y[t]&&y[t][e]?y=y[t][e]:(y[t]||(y[t]={}),y[t][e]||(y[t][e]={}),y=y[t][e],i?(i=j(t,80),n=j(t,75),l=V(t,85),c=V(t,70),d=V(t,40),h=V(t,50),V(t,30),p=V(t,65),j(t,85),o=j(t,69),r=j(t,75),s=j(t,95)):(x=10,i=j(t,90),n=j(t,87),l=V(t,93),c=V(t,87),d=V(t,80),p=h=V(t,85),V(t,80),s=j(t,85),o=j(t,75),r=j(t,80)),u=n+J+l+J+c+J+l+J+n,v=e+J+e+J+e+J+e+J+e,g=n+J+t+J+l+J+t+J+n,b=a+J+a+J+a+J+a+J+a,d=n+J+t+J+d+J+t+J+n,o=r+J+l+J+h+J+l+J+o,r="FFFFFF"+J+"FFFFFF"+J+"FFFFFF"+J+"FFFFFF"+J+"FFFFFF",x=0+J+a/x+J+e/x+J+a/x+J+0,y.top=m?{FCcolor:{gradientUnits:"userSpaceOnUse",radialGradient:!0,color:p+J+s,alpha:e+J+e,ratio:"0,100"}}:{FCcolor:{gradientUnits:"objectBoundingBox",color:c+J+c+J+l+J+n,alpha:e+J+e+J+e+J+e,angle:-72,ratio:"0,8,15,77"}},y.frontOuter={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:o,alpha:v,angle:0,ratio:"0,20,15,15,50"}},y.backOuter={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:d,alpha:b,angle:0,ratio:"0,62,8,8,22"}},y.frontInner={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:g,alpha:b,angle:0,ratio:"0,25,5,5,65"}},y.backInner={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:u,alpha:v,angle:0,ratio:"0,62,8,8,22"}},y.topBorder={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:r,alpha:x,angle:0,ratio:"0,20,15,15,50"}},y.topInnerBorder={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:r,alpha:x,angle:0,ratio:"0,50,15,15,20"}},y.bottom=f(Z(t,a)),y.startSlice=f(Z(i,e)),y.endSlice=f(Z(i,e))),y.cx===S&&y.cy===C&&y.rx===L&&y.radiusYFactor===P&&y.innerRx===D||(m&&(y.top.FCcolor.cx=S,y.top.FCcolor.cy=C,y.top.FCcolor.r=L,y.top.FCcolor.fx=S-.3*L,y.top.FCcolor.fy=C+1.2*w),y.topBorder.FCcolor.x1=y.backOuter.FCcolor.x1=y.frontOuter.FCcolor.x1=_,y.topBorder.FCcolor.x2=y.backOuter.FCcolor.x2=y.frontOuter.FCcolor.x2=k,y.topInnerBorder.FCcolor.x1=y.backInner.FCcolor.x1=y.frontInner.FCcolor.x1=F,y.topInnerBorder.FCcolor.x2=y.backInner.FCcolor.x2=y.frontInner.FCcolor.x2=I,y.cx=S,y.cy=C,y.rx=L,y.radiusYFactor=P,y.innerRx=D),y},rotate:function(t){var e,a=this.pointElemStore,i=0,n=a.length;if(!this.hasOnePoint){for(;n>i;i+=1)e=a[i],e=e._confObject,e.start+=t,e.end+=t,this._setSliceShape(e);this.refreshDrawing()}},removeSlice:function(t){var e,a=this.pointElemStore,i=t._confObject.elements,n=this.slicingWallsArr;e=a.length;var o;for(--e;e>=0;--e)o=a[e],o===t&&a.splice(e,1);for(e=n.length,--e;e>=0;--e)a=n[e],a!==i.startSlice&&a!==i.frontOuter1&&a!==i.frontOuter&&a!==i.backInner&&a!==i.endSlice||n.splice(e,1);t.hide&&t.hide(),this._slicePool||(this._slicePool=[]),this._slicePool.push(t),this.refreshDrawing()},useSliceFromPool:function(){var t=this._slicePool||(this._slicePool=[]),e=this.slicingWallsArr,a=!1;return t.length&&(a=t.shift(),this.pointElemStore.push(a),a.show(),t=a._confObject.elements,e.push(t.startSlice,t.frontOuter1,t.frontOuter),t.backInner&&e.push(t.backInner),e.push(t.endSlice)),a},refreshDrawing:function(){var t=function(t,e){return t._conf.index-e._conf.index||t._conf.cIndex-e._conf.cIndex||t._conf.isStart-e._conf.isStart||t._conf.si-e._conf.si};return function(){var e,a,i,n,o,r=this.slicingWallsArr,s=0,l=r.length,c=this.slicingWallsFrontGroup,d=this.slicingWallsBackGroup;r.sort(t);t:{var h,p,u=r[0]&&r[0]._conf.index;for(o=R>=u,a=1,e=r.length;e>a;a+=1)if(p=r[a]._conf.index,h=R>=p,h!=o||u>p)break t;a=0}for(;l>s;s+=1,a+=1)a===l&&(a=0),e=r[a],o=e._conf.index,N>o?c.appendChild(e):R>=o?(i?e.insertBefore(i):c.appendChild(e),i=e):z>=o?(n?e.insertBefore(n):d.appendChild(e),n=e):d.appendChild(e)}}(),_setSliceShape:function(t,a){var i,n,o,r,s,l,c,d,h,p,u,g,f,v,b,x,y,P,S,C,L,k,_=this.getArcPath,I=t.start,F=t.end,A=e(I),O=e(F),T=this.isDoughnut,B=t.radiusYFactor,M=t.cx,E=t.cy,H=t.r,G=H*B,j=H+(m?-1:2),V=G+(m?-1:2),Z=t.innerR||0,Y=Z*B,X=this.depth,U=X+E,J=M+H,Q=M-H,q=M+Z,$=M-Z,K=E-G,tt=["M",$,K,"L",$,U+G,"Z"],B=t.elements,et="path",at=(A+O)/2,it=A>O;n=D(A),o=w(A),r=D(O),s=w(O),l=M+H*n,c=E+G*o,d=M+j*n,h=E+V*o,P=c+X,S=M+H*r,C=E+G*s,p=M+j*r,u=E+V*s,L=C+X,T?(g=M+Z*n,f=E+Y*o,x=f+X,v=M+Z*r,b=E+Y*s,y=b+X,t.startSlice=["M",l,c,"L",l,P,g,x,g,f,"Z"],t.endSlice=["M",S,C,"L",S,L,v,y,v,b,"Z"]):(t.startSlice=["M",l,c,"L",l,P,M,U,M,E,"Z"],t.endSlice=["M",S,C,"L",S,L,M,U,M,E,"Z"]),m?(i=(A>O?W:0)+O-A,t.clipTopPath=T?[["M",l,c,"A",H,G,0,i>R?1:0,1,S,C,"L",v,b,"A",Z,Y,0,i>R?1:0,0,g,f,"Z"]]:[["M",l,c,"A",H,G,0,i>R?1:0,1,S,C,"L",M,E,"Z"]],t.clipOuterFrontPath1=[tt],t.clipTopBorderPath=[["M",d,h,"A",j,V,0,i>R?1:0,1,p,u,"L",S,C,S,C+1,"A",H,G,0,i>R?1:0,0,l,c+1,"L",l,c,"Z"]],I!=F?A>O?R>A?(t.clipOuterFrontPath=[["M",J,E,"A",H,G,0,0,1,S,C,"v",X,"A",H,G,0,0,0,J,E+X,"Z"]],t.clipOuterFrontPath1=[["M",Q,E,"A",H,G,0,0,0,l,c,"v",X,"A",H,G,0,0,1,Q,E+X,"Z"]],t.clipOuterBackPath=[["M",J,E,"A",H,G,0,1,0,Q,E,"v",X,"A",H,G,0,1,1,J,E+X,"Z"]],T&&(t.clipInnerBackPath=[["M",q,E,"A",Z,Y,0,1,0,$,E,"v",X,"A",Z,Y,0,1,1,q,E+X,"Z"]],t.clipInnerFrontPath=[["M",q,E,"A",Z,Y,0,0,1,v,b,"v",X,"A",Z,Y,0,0,0,q,E+X,"Z","M",$,E,"A",Z,Y,0,0,0,g,f,"v",X,"A",Z,Y,0,0,1,$,E+X,"Z"]])):O>R?(t.clipOuterFrontPath=[["M",J,E,"A",H,G,0,1,1,Q,E,"v",X,"A",H,G,0,1,0,J,E+X,"Z"]],t.clipOuterBackPath=[["M",Q,E,"A",H,G,0,0,1,S,C,"v",X,"A",H,G,0,0,0,Q,E+X,"Z","M",J,E,"A",H,G,0,0,0,l,c,"v",X,"A",H,G,0,0,1,J,E+X,"Z"]],T&&(t.clipInnerFrontPath=[["M",q,E,"A",Z,Y,0,1,1,$,E,"v",X,"A",Z,Y,0,1,0,q,E+X,"Z"]],t.clipInnerBackPath=[["M",$,E,"A",Z,Y,0,0,1,v,b,"v",X,"A",Z,Y,0,0,0,$,E+X,"Z","M",q,E,"A",Z,Y,0,0,0,g,f,"v",X,"A",Z,Y,0,0,1,q,E+X,"Z"]])):(t.clipOuterFrontPath=[["M",J,E,"A",H,G,0,0,1,S,C,"v",X,"A",H,G,0,0,0,J,E+X,"Z"]],t.clipOuterBackPath=[["M",l,c,"A",H,G,0,0,1,J,E,"v",X,"A",H,G,0,0,0,l,P,"Z"]],T&&(t.clipInnerFrontPath=[["M",q,E,"A",Z,Y,0,0,1,v,b,"v",X,"A",Z,Y,0,0,0,q,E+X,"Z"]],t.clipInnerBackPath=[["M",g,f,"A",Z,Y,0,0,1,q,E,"v",X,"A",Z,Y,0,0,0,g,x,"Z"]])):R>A?O>R?(t.clipOuterFrontPath=[["M",l,c,"A",H,G,0,0,1,Q,E,"v",X,"A",H,G,0,0,0,l,P,"Z"]],t.clipOuterBackPath=[["M",Q,E,"A",H,G,0,0,1,S,C,"v",X,"A",H,G,0,0,0,Q,E+X,"Z"]],T&&(t.clipInnerFrontPath=[["M",g,f,"A",Z,Y,0,0,1,$,E,"v",X,"A",Z,Y,0,0,0,g,x,"Z"]],t.clipInnerBackPath=[["M",$,E,"A",Z,Y,0,0,1,v,b,"v",X,"A",Z,Y,0,0,0,$,E+X,"Z"]])):(t.clipOuterFrontPath=[["M",l,c,"A",H,G,0,0,1,S,C,"v",X,"A",H,G,0,0,0,l,P,"Z"]],t.clipOuterBackPath=[tt],T&&(t.clipInnerFrontPath=[["M",g,f,"A",Z,Y,0,0,1,v,b,"v",X,"A",Z,Y,0,0,0,g,x,"Z"]],t.clipInnerBackPath=[tt])):(t.clipOuterFrontPath=[tt],t.clipOuterBackPath=[["M",l,c,"A",H,G,0,0,1,S,C,"v",X,"A",H,G,0,0,0,l,P,"Z"]],T&&(t.clipInnerFrontPath=[tt],t.clipInnerBackPath=[["M",g,f,"A",Z,Y,0,0,1,v,b,"v",X,"A",Z,Y,0,0,0,g,x,"Z"]])):t.clipOuterFrontPath=t.clipOuterBackPath=t.clipInnerBackPath=t.clipInnerFrontPath=[tt],et="litepath",t.clipBottomBorderPath=t.clipTopPath,t.startSlice=[t.startSlice],t.endSlice=[t.endSlice]):(j=this.moveCmdArr,V=this.lineCmdArr,n=this.closeCmdArr,X=[M,E],o=[Q,E],K=[M,K],r=[J,E],s=[M,E+G],tt=[Q,U],k=[J,U],d=[$,E],h=[q,E],p=[$,U],u=[q,U],t.clipOuterFrontPath1=[],I!=F?(A>O?R>A?(I=_(M,E,l,c,Q,E,H,G,1,0),F=_(M,E,Q,E,J,E,H,G,1,0),C=_(M,E,J,E,S,C,H,G,1,0),t.clipOuterBackPath=j.concat(o,F,V,k,_(M,U,J,U,Q,U,H,G,0,0),n),t.clipOuterFrontPath1=j.concat([l,c],I,V,tt,_(M,U,Q,U,l,P,H,G,0,0),n),t.clipOuterFrontPath=j.concat(r,C,V,[S,L],_(M,U,S,L,J,U,H,G,0,0),n),t.clipTopBorderPath=j.concat([l,c],I,F,C),T?(H=_(M,E,v,b,q,E,Z,Y,0,0),G=_(M,E,q,E,$,E,Z,Y,0,0),f=_(M,E,$,E,g,f,Z,Y,0,0),t.clipInnerBackPath=j.concat(h,G,V,p,_(M,U,$,U,q,U,Z,Y,1,0),n),t.clipInnerFrontPath=j.concat(d,f,V,[g,x],_(M,U,g,x,$,U,Z,Y,1,0),n,j,[v,b],H,V,u,_(M,U,q,U,v,y,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[v,b],H,G,f,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(j,[v,b],H,G,f)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):O>R?(I=_(M,E,l,c,J,E,H,G,1,0),F=_(M,E,J,E,Q,E,H,G,1,0),C=_(M,E,Q,E,S,C,H,G,1,0),t.clipOuterFrontPath=j.concat(r,F,V,tt,_(M,U,Q,U,J,U,H,G,0,0),n),t.clipOuterBackPath=j.concat([l,c],I,V,k,_(M,U,J,U,l,P,H,G,0,0),n,j,o,C,V,[S,L],_(M,U,S,L,Q,U,H,G,0,0),n),t.clipTopBorderPath=j.concat([l,c],I,F,C),T?(H=_(M,E,v,b,$,E,Z,Y,0,0),G=_(M,E,$,E,q,E,Z,Y,0,0),f=_(M,E,q,E,g,f,Z,Y,0,0),t.clipInnerFrontPath=j.concat(d,G,V,u,_(M,U,q,U,$,U,Z,Y,1,0),n),t.clipInnerBackPath=j.concat(h,f,V,[g,x],_(M,U,g,x,q,U,Z,Y,1,0),n,j,[v,b],H,V,p,_(M,U,$,U,v,y,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[v,b],H,G,f,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(j,[v,b],H,G,f)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):(I=_(M,E,l,c,J,E,H,G,1,0),F=_(M,E,J,E,S,C,H,G,1,0),t.clipOuterFrontPath=j.concat(r,F,V,[S,L],_(M,U,S,L,J,U,H,G,0,0),n),t.clipOuterBackPath=j.concat([l,c],I,V,k,_(M,U,J,U,l,P,H,G,0,0),n),t.clipTopBorderPath=j.concat([l,c],I,F),T?(H=_(M,E,v,b,q,E,Z,Y,0,0),G=_(M,E,q,E,g,f,Z,Y,0,0),t.clipInnerFrontPath=j.concat([v,b],H,V,u,_(M,U,q,U,v,y,Z,Y,1,0),n),t.clipInnerBackPath=j.concat(h,G,V,[g,x],_(M,U,g,x,q,U,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[v,b],H,G,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(j,[v,b],H,G)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):R>A?O>R?(I=_(M,E,l,c,Q,E,H,G,1,0),F=_(M,E,Q,E,S,C,H,G,1,0),t.clipOuterBackPath=j.concat(o,F,V,[S,L],_(M,U,S,L,Q,U,H,G,0,0),n),t.clipOuterFrontPath=j.concat([l,c],I,V,tt,_(M,U,Q,U,l,P,H,G,0,0),n),t.clipTopBorderPath=j.concat([l,c],I,F),T?(H=_(M,E,v,b,$,E,Z,Y,0,0),G=_(M,E,$,E,g,f,Z,Y,0,0),t.clipInnerBackPath=j.concat([v,b],H,V,p,_(M,U,$,U,v,y,Z,Y,1,0),n),t.clipInnerFrontPath=j.concat(d,G,V,[g,x],_(M,U,g,x,$,U,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[v,b],H,G,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(j,[v,b],H,G)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):(I=_(M,E,l,c,S,C,H,G,1,0),t.clipOuterBackPath=j.concat([l,c]),t.clipTopBorderPath=t.clipOuterBackPath.concat(I),t.clipOuterFrontPath=t.clipTopBorderPath.concat(V,[S,L],_(M,U,S,L,l,P,H,G,0,0),n),T?(H=_(M,E,v,b,g,f,Z,Y,0,0),t.clipInnerBackPath=j.concat([v,b]),t.clipTopPath=t.clipTopBorderPath.concat(V,[v,b],H,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(j,[v,b],H),t.clipInnerFrontPath=t.clipInnerBackPath.concat(H,V,[g,x],_(M,U,g,x,v,y,Z,Y,1,0),n)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):(I=_(M,E,l,c,S,C,H,G,1,0),t.clipOuterFrontPath=j.concat([l,c]),t.clipTopBorderPath=t.clipOuterFrontPath.concat(I),t.clipOuterBackPath=t.clipTopBorderPath.concat(V,[S,L],_(M,U,S,L,l,P,H,G,0,0),n),T?(H=_(M,E,v,b,g,f,Z,Y,0,0),t.clipInnerFrontPath=j.concat([v,b]),t.clipTopPath=t.clipTopBorderPath.concat(V,[v,b],H,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(t.clipInnerFrontPath,H),t.clipInnerBackPath=t.clipInnerFrontPath.concat(H,V,[g,x],_(M,U,g,x,v,y,Z,Y,1,0),n)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)),I=j.concat(o,V,r),H=j.concat(K,V,s),t.clipTopPath=t.clipTopPath.concat(I,H),t.clipOuterFrontPath=t.clipOuterFrontPath.concat(I),t.clipOuterFrontPath1=t.clipOuterFrontPath1.concat(I),t.clipOuterBackPath=t.clipOuterBackPath.concat(I),T&&(H=j.concat(d,V,h),t.clipInnerFrontPath=t.clipInnerFrontPath.concat(H),t.clipInnerBackPath=t.clipInnerBackPath.concat(H))):(t.clipTopPath=t.clipOuterFrontPath=t.clipOuterBackPath=[],T&&(t.clipInnerFrontPath=t.clipInnerBackPath=[])),t.clipBottomBorderPath=t.clipTopBorderPath),a||(B.startSlice._conf.index=A,B.endSlice._conf.index=O,B.backOuter._conf.index=g=it&&(z>=A||O>z)||z>=A&&O>z?z:A>R?A:O,B.frontOuter._conf.index=_=N>=O?O:A>O||N>=A?N:A,B.frontOuter1._conf.index=A,B.frontOuter1._conf.cIndex=R,A>O?(B.backOuter._conf.cIndex=z>A?z:W,B.startSlice._conf.cIndex=R>A?(A+R)/2:(A+W)/2,B.endSlice._conf.cIndex=B.frontOuter._conf.cIndex=0):B.backOuter._conf.cIndex=B.startSlice._conf.cIndex=B.endSlice._conf.cIndex=B.frontOuter._conf.cIndex=at,i>R?B.frontOuter1.show().attr(et,t.clipOuterFrontPath1):B.frontOuter1.hide(),t.thisElement._attr(et,t.clipTopPath),B.bottom.attr(et,t.clipTopPath),B.bottomBorder.attr(et,t.clipBottomBorderPath),B.topBorder&&B.topBorder.attr(et,t.clipTopBorderPath),B.frontOuter.attr(et,t.clipOuterFrontPath),B.backOuter.attr(et,t.clipOuterBackPath),T&&(B.backInner.attr(et,t.clipInnerBackPath),B.frontInner.attr(et,t.clipInnerFrontPath),B.backInner._conf.index=g,B.frontInner._conf.index=_,A>O?(B.backInner._conf.cIndex=W,B.frontInner._conf.cIndex=0):B.backInner._conf.cIndex=B.frontInner._conf.cIndex=at),this.hasOnePoint?(B.startSlice.hide(),B.endSlice.hide()):(B.startSlice.attr(et,t.startSlice).show(),B.endSlice.attr(et,t.endSlice).show()))},_setSliceCosmetics:function(t){var e,a=t.thisElement,i=t.showBorderEffect,n=t.elements,o=Z(t.borderColor,p(t.borderAlpha,t.alpha)),r=t.borderWidth;t.color&&(t=this._parseSliceColor(t.color,t.alpha,t),m?(e={fill:f(t.top),"stroke-width":0},i?n.topBorder.show().attr({fill:f(t.topBorder),"stroke-width":0}):(n.topBorder.hide(),e.stroke=o,e["stroke-width"]=r),a._attr(e)):(a._attr({fill:f(t.top),"stroke-width":0}),n.topBorder.attr({stroke:o,"stroke-width":r})),n.bottom.attr({fill:f(t.bottom)}),n.bottomBorder.attr({stroke:o,"stroke-width":r}),n.frontOuter.attr({fill:f(t.frontOuter)}),n.frontOuter1.attr({fill:f(t.frontOuter)}),n.backOuter.attr({fill:f(t.backOuter)}),n.startSlice.attr({fill:f(t.startSlice),stroke:o,"stroke-width":r}),n.endSlice.attr({fill:f(t.endSlice),stroke:o,"stroke-width":r}),this.isDoughnut&&(n.frontInner.attr({fill:f(t.frontInner)}),n.backInner.attr({fill:f(t.backInner)})))},createSlice:function(){var t={stroke:!0,strokeWidth:!0,"stroke-width":!0,dashstyle:!0,"stroke-dasharray":!0,translateX:!0,translateY:!0,"stroke-opacity":!0,fill:!0,opacity:!0,transform:!0,ishot:!0,cursor:!0,start:!0,end:!0,color:!0,alpha:!0,borderColor:!0,borderAlpha:!0,borderWidth:!0,rolloverProps:!0,showBorderEffect:!0,positionIndex:!0,cx:!0,cy:!0,radiusYFactor:!0,r:!0,innerR:!0},e=function(e,a){var i,n,o,r,s,l,c=this,d=c._confObject,h={},p=d.elements,u=d.Pie3DManager;if("string"==typeof e&&void 0!==a&&null!==a&&(i=e,e={},e[i]=a),e&&"string"!=typeof e){for(i in e)n=e[i],t[i]?(d[i]=n,"ishot"===i||"cursor"===i||"transform"===i?(h[i]=n,l=!0):"start"===i||"end"===i||"cx"===i||"cy"===i||"radiusYFactor"===i||"r"===i||"innerR"===i?r=!0:"color"!==i&&"alpha"!==i&&"borderColor"!==i&&"borderAlpha"!==i&&"borderWidth"!==i||(s=!0)):c._attr(i,n);if(r&&(u._setSliceShape(d),u.refreshDrawing()),(s||r)&&u._setSliceCosmetics(d),l){for(o in p)p[o].attr(h);c._attr(h)}}else c=t[e]?d[e]:c._attr(e);return c},a=function(t,e){var a,i=this._confObject.elements;for(a in i)i[a].on(t,e);return this._on(t,e)},i=function(t,e,a){var i,n=this._confObject.elements,o=-1<s.navigator.userAgent.toLowerCase().indexOf("android");for(i in n)o?"topBorder"!==i&&"frontOuter"!==i&&"startSlice"!==i&&"endSlice"!==i||n[i].drag(t,e,a):n[i].drag(t,e,a);return this._drag(t,e,a)},n=function(){var t,e=this._confObject.elements;for(t in e)e[t].hide();return this._hide()},o=function(){var t,e=this._confObject.elements;for(t in e)e[t].show();return this._show()},r=function(){var t,e=this._confObject,a=e.elements;for(t in a)a[t].destroy();return m&&(e.clipTop.destroy(),e.clipOuterFront.destroy(),e.clipOuterBack.destroy(),e.clipOuterFront1&&e.clipOuterFront1.destroy(),e.clipInnerFront&&e.clipInnerFront.destroy(),e.clipInnerBack&&e.clipInnerBack.destroy()),this._destroy()},l=function(t){var e,a=this._confObject.elements;for(e in a)a[e].tooltip(t);return this._tooltip(t)},c=function(t,e){var a,i=this._confObject.elements;if(void 0===e)return this._data(t);for(a in i)i[a].data(t,e);return this._data(t,e)},d=0;return function(){var t,s=this.renderer,h={elements:{},Pie3DManager:this},p=this.slicingWallsArr,u=h.elements,g=m?"litepath":"path";return t=s[g](this.topGroup),t._confObject=h,h.thisElement=t,t._destroy=t.destroy,t.destroy=r,t._show=t.show,t.show=o,t._hide=t.hide,t.hide=n,t._on=t.on,t.on=a,t._drag=t.drag,t.drag=i,t._attr=t.attr,t.attr=e,t._tooltip=t.tooltip,t.tooltip=l,t._data=t.data,t.data=c,this.pointElemStore.push(t),u.topBorder=s[g](this.topGroup),u.bottom=s[g](this.bottomBorderGroup).attr({"stroke-width":0}),u.bottomBorder=s[g](this.bottomBorderGroup),u.frontOuter=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.backOuter=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.startSlice=s[g](this.slicingWallsFrontGroup),u.endSlice=s[g](this.slicingWallsFrontGroup),u.frontOuter1=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.frontOuter._conf={si:d,isStart:.5},u.frontOuter1._conf={si:d,isStart:.5},u.startSlice._conf={si:d,isStart:0},u.endSlice._conf={si:d,isStart:1},u.backOuter._conf={si:d,isStart:.4},p.push(u.startSlice,u.frontOuter1,u.frontOuter,u.backOuter,u.endSlice),this.isDoughnut&&(u.frontInner=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.backInner=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.backInner._conf={si:d,isStart:.5},u.frontInner._conf={si:d,isStart:.4},p.push(u.frontInner,u.backInner)),d+=1,t}}()},i.prototype.constructor=i},[3,2,2,"sr4"]]),FusionCharts.register("module",["private","modules.renderer.js-zoomline",function(){var t,e=this,a=e.hcLib,i=a.hashify,n=e.window,o=n.document,r=n.Image,s=n.MouseEvent,l=/msie/i.test(n.navigator.userAgent)&&!n.opera,c=a.chartAPI,d=a.extend2,h=a.addEvent,p=a.pluck,u=a.pluckNumber,g=a.getFirstColor,f=a.graphics.convertColor,m=a.bindSelectionEvent,v=a.parseUnsafeString,b=a.componentDispose,x=a.Raphael,y=a.toRaphaelColor,P=a.hasTouch,S=a.plotEventHandler,C=a.getMouseCoordinate,L=!/fusioncharts\.com$/i.test(n.location.hostname),w="rgba(192,192,192,"+(l?.002:1e-6)+")",D=n.Math,k=D.ceil,_=D.floor,I=D.round,F=D.max,A=D.min,O=D.cos,T=D.sin,B=n.parseFloat,M=n.parseInt;
d(a.eventList,{zoomed:"FC_Zoomed",pinned:"FC_Pinned",resetzoomchart:"FC_ResetZoomChart"}),c("zoomline",{standaloneInit:!0,canvasborderthickness:1,defaultDatasetType:"zoomline",applicableDSList:{zoomline:!0},friendlyName:"Zoomable and Panable Multi-series Line Chart",creditLabel:L,_drawAxis:function(){var t,e,a=this.components.yAxis||[];for(t=0,e=a.length;e>t;t++)a[t].draw()},_setCategories:function(){var t,e,a,i=this.config,n=this.jsonData,o=this.components.xAxis;e=i.cdmchar;var r=n.categories&&n.categories[0].category||[];if((i.cdm||"string"==typeof r)&&r.split){for(i=r.split(e),t=[],e=0,a=i.length;a>e;e+=1)t.push({label:i[e]});this.config.categories=n.categories[0].category=t}o[0].setAxisPadding(0,0),o[0].setCategory(t||r)},_createDatasets:function(){var t,e,a,i,n,o,r,s,l;n={};var c=this.config;t=this.components,s=this.jsonData;var d=s.dataset,h=d&&d.length,u=c.cdmchar,g=c.cdm,f=this.defaultDatasetType,m=this.applicableDSList,c=this.components.legend.components.items||[];for(s=s.categories&&s.categories[0].category,d&&s||this.setChartMessage(),this.config.categories=s,s=t.dataset||(t.dataset=[]),l=s.length,t=0;h>t;t++){if(r=d[t],g&&r.data&&r.data.split){for(o=r.data.split(u),i=[],e=0,a=o.length;a>e;e++)i.push({value:o[e]});r.data=i}e=r.parentyaxis||"",e=(e=this.isDual&&"s"===e.toLowerCase()?p(r.renderas,this.sDefaultDatasetType):p(r.renderas,f))&&e.toLowerCase(),m[e]||(e=f),(a=FusionCharts.get("component",["dataset",e]))&&(void 0===n[e]?n[e]=0:n[e]++,(e=s[t])?(a=(e.JSONData.data||[]).length,i=(r.data||[]).length,a>i&&e.removeData(i,a-i,!1),s[t].JSONData=r,s[t].configure(),s[t]._deleteGridImages&&s[t]._deleteGridImages()):(e=new a,s.push(e),e.chart=this,e.index=t,e.init(r)))}if(l>h){for(n=l-h,e=t,h=n+t;h>e;e++)b.call(s[e]);s.splice(t,n),c.splice(t,n)}},isWithinCanvas:function(t,e){var i=a.getMouseCoordinate(e.get("linkedItems","container"),t),n=i.chartX,o=i.chartY,r=e.get("config"),s=r.canvasLeft,l=r.canvasTop,c=r.canvasLeft+r.canvasWidth,r=r.canvasHeight+r.canvasTop;return i.insideCanvas=!1,i.originalEvent=t,n>s&&c>n&&o>l&&r>o&&(i.insideCanvas=!0),i},highlightPoint:function(t,e,i,n,o,r){var s=this,l=s.config,c=s.components,d=s.graphics,h=c.paper,p=d.tracker,u=(c=c.dataset[o])&&c.config;o=c&&u.zoomedRadius||0;var g=c&&u.hoverCosmetics,c=g&&g.fill,u=g&&g.borderColor,g=g&&g.borderThickness,f={},f=function(t){a.plotEventHandler.call(this,s,t)},m=function(t){a.plotEventHandler.call(this,s,t,"dataplotRollover")},v=function(t){a.plotEventHandler.call(this,s,t,"dataplotRollout")};p||(p=d.tracker=h.circle(0,0,0,d.trackerGroup).attr({"clip-rect":l.canvasLeft+","+l.canvasTop+","+l.canvasWidth+","+l.canvasHeight}).click(f).trackTooltip(!0).hover(m,v)),n&&p.data("eventArgs",{x:n.x,y:n.y,tooltip:n.tooltip,link:n.link}),l.lastHoveredPoint=n,f=Number(t)?{r:o,fill:c,stroke:u,"stroke-width":g}:{r:o,fill:w,stroke:w,"stroke-width":0},p.attr(f).tooltip(r).transform("t"+(e+l.canvasLeft)+","+(i+l.canvasTop)),n&&s.fireMouseEvent("mouseover",p&&p.node,l.lastMouseEvent)},fireMouseEvent:function(t,e,a){var i;e&&t&&(a||(a={}),a.originalEvent&&(a=a.originalEvent),a.touches&&(a=a.touches[0]),e.dispatchEvent?(s?i=new s(t,{bubbles:!!a.bubbles,cancelable:!!a.cancelable,clientX:a.clientX||a.pageX&&a.pageX-o.body.scrollLeft-o.documentElement.scrollLeft||0,clientY:a.clientY||a.pageY&&a.pageY-o.body.scrollTop-o.documentElement.scrollTop||0,screenX:a.screenX||0,screenY:a.screenY||0,pageX:a.pageX||0,pageY:a.pageY||0}):o.createEvent&&(i=o.createEvent("HTMLEvents"),i.initEvent(t,!!a.bubbles,!!a.cancelable)),i.eventName=t,i&&e.dispatchEvent(i)):o.createEventObject&&e.fireEvent&&(i=o.createEventObject(),i.eventType=t,i.eventName=t,e.fireEvent("on"+t,i)))},configure:function(){var t,e,a=this.jsonData.chart||{},i=this.components.colorManager,n=i.getColor("canvasBorderColor");a.animation=0,a.showvalues=0,c.msline.configure.call(this),e=this.config,t=e.style,d(e,{useRoundEdges:u(a.useroundedges,0),animation:!1,zoomType:"x",canvasPadding:u(a.canvaspadding,0),scrollColor:g(p(a.scrollcolor,i.getColor("altHGridColor"))),scrollShowButtons:!!u(a.scrollshowbuttons,1),scrollHeight:u(a.scrollheight,16)||16,scrollBarFlat:u(a.flatscrollbars,0),allowPinMode:u(a.allowpinmode,1),skipOverlapPoints:u(a.skipoverlappoints,1),showToolBarButtonTooltext:u(a.showtoolbarbuttontooltext,1),btnResetChartTooltext:p(a.btnresetcharttooltext,"Reset Chart"),btnZoomOutTooltext:p(a.btnzoomouttooltext,"Zoom out one level"),btnSwitchToZoomModeTooltext:p(a.btnswitchtozoommodetooltext,"<strong>Switch to Zoom Mode</strong><br/>Select a subset of data to zoom into it for detailed view"),btnSwitchToPinModeTooltext:p(a.btnswitchtopinmodetooltext,"<strong>Switch to Pin Mode</strong><br/>Select a subset of data and compare with the rest of the view"),pinPaneFill:f(p(a.pinpanebgcolor,n),u(a.pinpanebgalpha,15)),zoomPaneFill:f(p(a.zoompanebgcolor,"#b9d5f1"),u(a.zoompanebgalpha,30)),zoomPaneStroke:f(p(a.zoompanebordercolor,"#3399ff"),u(a.zoompaneborderalpha,80)),showPeakData:u(a.showpeakdata,0),maxPeakDataLimit:u(a.maxpeakdatalimit,a.maxpeaklimit,null),minPeakDataLimit:u(a.minpeakdatalimit,a.minpeaklimit,null),crossline:{enabled:u(a.showcrossline,1),line:{"stroke-width":u(a.crosslinethickness,1),stroke:g(p(a.crosslinecolor,"#000000")),"stroke-opacity":u(a.crosslinealpha,20)/100},labelEnabled:u(a.showcrosslinelabel,a.showcrossline,1),labelstyle:{fontSize:B(a.crosslinelabelsize)?B(a.crosslinelabelsize)+"px":t.outCanfontSize,fontFamily:p(a.crosslinelabelfont,t.outCanfontFamily)},valueEnabled:u(a.showcrosslinevalues,a.showcrossline,1),valuestyle:{fontSize:B(a.crosslinevaluesize)?B(a.crosslinevaluesize)+"px":t.inCanfontSize,fontFamily:p(a.crosslinevaluefont,t.inCanvasStyle.fontFamily)}},useCrossline:u(a.usecrossline,1),tooltipSepChar:p(a.tooltipsepchar,", "),showTerminalValidData:u(a.showterminalvaliddata,0),cdmchar:p(a.dataseparator,"|"),cdm:u(a.compactdatamode,0)})},getValuePixel:function(t){var e=this.config.viewPortConfig;return e.ddsi+_(t/e.ppp)},__toolbar:function(){var t,e,a,i,n,o,r=this,s=r.components,l=s.tb=new(FusionCharts.register("component",["toolbox","toolbox"])),c=l.getDefaultConfiguration();return l.init({iAPI:{chart:r},graphics:r.graphics,chart:r,components:s}),t=s.toolBoxAPI||l.getAPIInstances(l.ALIGNMENT_HORIZONTAL),e=t.SymbolStore,a=t.ComponentGroup,i=t.Toolbar,n=t.Symbol,o=t.Scroller,l.graphics={},{reInit:function(){l.init({iAPI:{chart:r},graphics:r.graphics,chart:r,components:s})},addSymbol:function(t,e,a,i){return t=new n(t),a&&i.setConfiguaration({buttons:d(d({},c),a)}),e.tooltext=a.tooltip,e&&t.attachEventHandlers(e),i.addSymbol(t),t},addScroll:function(t,e){var a=new o(t);return e&&a.attachEventHandlers(e),a},addComponentGroup:function(t,e){var i;return i=new a,i.setConfiguaration({group:{fill:e?e.fill:f("EBEBEB",0),borderThickness:e?u(e.borderThickness,0):0}}),i},addToolBox:function(t){var e,a=new i;for(e=0;e<t.length;e+=1)a.addComponent(t[e]);return a},setDrawingArea:function(t,e){return t.drawingArea=e,t},draw:function(t){var e,a,i;for(e=0;e<t.length;e+=1)a=t[e],i=a.drawingArea,a.draw(i.x,i.y)},registerSymbol:function(t,a){e.register(t,a)},getLogicalSpace:function(t){return t.getLogicalSpace()},getNode:function(t){return t.node}}},__preDraw:function(){var e,a,i,n,o,r,s,l,c,h,p=this,g=p.components,f=g.paper,v=p.graphics;a=v.imageContainer;var b=p.config,y=b.canvasLeft,P=b.canvasWidth;e=p.jsonData.chart;var S=b.cdm;i=g.xAxis[0];var C=b.viewPortConfig,L=p.components.canvas.config,D=F(L.canvasPadding,L.canvasPaddingLeft,L.canvasPaddingRight);h=g.yAxis[0],l=v.datasetGroup;var L=b.canvasHeight,k=b.canvasTop,_=p.jsonData.chart,_=b.borderWidth||(b.borderWidth=u(_.showborder,1)?u(_.borderthickness,1):0),I=b.allowPinMode,A=b.crossline,C=i.getCategoryLen(),O=M(u(e.displaystartindex,1),10)-1,T=M(u(e.displayendindex,C||2),10)-1,B=0,E=g.dataset,R=E.length,g=v.crossline;if(b.updateAnimDuration=500,a.transform("t"+y+","+k),a.attr({"clip-rect":y+","+k+","+P+","+L}),b.status="zoom",b.maxZoomLimit=u(e.maxzoomlimit,1e3),b.viewPortHistory=[],1>(a=u(e.pixelsperpoint,15))&&(a=1),(i=u(e.pixelsperlabel,e.xaxisminlabelwidth,i.getAxisData("labels").rotation?20:60))<a&&(i=a),(0>O||O>=(C-1||1))&&(O=0),(O>=T||T>(C-1||1))&&(T=C-1||1),C=b.viewPortConfig=d(b.viewPortConfig,{amrd:u(e.anchorminrenderdistance,20),nvl:u(e.numvisiblelabels,0),cdm:S,oppp:a,oppl:i,dsi:O,dei:T,vdl:T-O,clen:C,offset:0,step:1,llen:0,alen:0,ddsi:O,ddei:T,ppc:0}),C.clen){for(;R--;)e=E[R].config,B=F(B,e.drawAnchors&&(e.anchorRadius||0)+(Number(e.anchorBorderThickness)||0)||0);b.overFlowingMarkerWidth=B,D=b.canvasPadding=F(B,D),b._prezoomed=C.dei-C.dsi<C.clen-1,n=b._visw=b.canvasWidth-2*D,o=b._visx=b.canvasLeft+D,b._visout=-(b.height+L+1e3),b._ypvr=h&&h.getPVR()||0,e=b._yminValue=h.getLimit().min,r=b._ymin=h.getPixel(e),h=l.attr("clip-rect",[o-B,k,n+2*B,L]),v.scroll||(v.scroll=f.group("scroll").insertAfter(v.datasetGroup)),I&&(l=x.crispBound(0,k-r,0,L,_),s=b["clip-pinrect"]=[l.x,k,l.width,l.height],c=(v.zoompin=f.group("zoompin")).insertBefore(h).transform(b._pingrouptransform=["T",o,r]).hide(),v.pinrect=f.rect(0,k-r,n,L,c).attr({"stroke-width":0,stroke:"none",fill:b.pinPaneFill,"shape-rendering":"crisp",ishot:!0}),v.pintracker=f.rect(v.trackerGroup).attr({transform:c.transform(),x:0,y:k-r,width:0,height:L,stroke:"none",fill:w,ishot:!0,cursor:x.svg&&"ew-resize"||"e-resize"}).hide().drag(function(t){var e=o+t+this.__pindragdelta,a=this.__pinboundleft,i=this.__pinboundright,n=this.data("cliprect").slice(0);a>e?e=a:e>i&&(e=i),c.transform(["T",e,r]),v.pintracker.transform(c.transform()),x.svg||(n[0]=n[0]+e-o-this.__pindragdelta,c.attr("clip-rect",n)),this.__pindragoffset=t},function(){this.__pinboundleft=0-s[0]+o+y,this.__pinboundright=this.__pinboundleft+n-s[2],this.data("cliprect",c.attr("clip-rect")),c._.clipispath=!0},function(){c._.clipispath=!1,this.__pindragdelta=this.__pindragoffset,delete this.__pindragoffset,delete this.__pinboundleft,delete this.__pinboundright})),_++,l=x.crispBound(y-_,k+L+_,P+_+_,b.scrollHeight,_),_--,m(p,{attr:{stroke:b.zoomPaneStroke,fill:b.zoomPaneFill,strokeWidth:0},selectionStart:function(){},selectionEnd:function(t){var e=t.selectionLeft-y;t=e+t.selectionWidth,v.crossline&&v.crossline.hide(),p[b.viewPortConfig.pinned?"pinRangePixels":"zoomRangePixels"](e,t)}}),A&&0!==A.enabled&&1===b.useCrossline?(g||(g=v.crossline=new t),g.configure(p,A)):g&&g.hide()}},resetZoom:function(){var t=this.config.viewPortHistory,a=t[0];return t.length?(t.length=0,this.zoomTo(a.dsi,a.dei,a)&&e.raiseEvent("zoomReset",this._zoomargs,this.chartInstance,[this.chartInstance.id]),!0):!1},eiMethods:{zoomOut:function(){var t;return(t=this.apiInstance)?t.zoomOut&&t.zoomOut():void 0},zoomTo:function(t,e){var a;return(a=this.apiInstance)?a.zoomRange&&a.zoomRange(t,e):void 0},resetChart:function(){var t;(t=this.apiInstance)&&(t.pinRangePixels&&t.pinRangePixels(),t.resetZoom&&t.resetZoom())},setZoomMode:function(t){var e;(e=this.apiInstance)&&e.activatePin&&e.activatePin(!t)},getViewStartIndex:function(){var t;return this.apiInstance&&(t=this.apiInstance.config.viewPortConfig)?t.ddsi:void 0},getViewEndIndex:function(){var t,e;return this.apiInstance&&(t=this.apiInstance.config.viewPortConfig)?(e=t.ddei-1,(e>=t.clen?t.clen:e)-1):void 0}},zoomOut:function(){var t,a,i=this.config;a=i.viewPortHistory;var n,o,r;return t=a.pop(),a=a[0]||i.viewPortConfig,t?(n=t.dsi,o=t.dei):i._prezoomed&&(n=0,o=a.clen-1),(r=this.zoomTo(n,o,t))&&e.raiseEvent("zoomedout",r,this.chartInstance),!0},zoomRangePixels:function(t,a){var i,n=this.config,o=n.viewPortHistory,n=n.viewPortConfig,r=n.ppp,s=n.ddsi;o.push(n),(i=this.zoomTo(s+_(t/r),s+_(a/r)))?e.raiseEvent("zoomedin",i,this.chartInstance):o.pop()},zoomRange:function(t,a){var i,n,o=this.config,r=o.viewPortConfig;n=this.components.xAxis[0];var s,l=o.viewPortHistory;l.push(r),i=n.getPixel(t),n=n.getPixel(a),r.x=i,r.scaleX=o.canvasWidth/(i-n),(s=this.zoomTo(+t,+a))?e.raiseEvent("zoomedin",s,this.chartInstance):l.pop()},zoomTo:function(t,a,i){var n,o;n=this.config;var r=this.components,s=n.viewPortConfig,l=n.canvasHeight;o=n.canvasLeft;var c=n.canvasTop,h=n.canvasBottom,p=n.viewPortHistory,u=s.clen,g=this.components.xAxis[0];return 0>t&&(t=0),t>=u-1&&(t=u-1),t>=a&&(a=t+1),a>u-1&&(a=u-1),t===a||t===s.dsi&&a===s.dei?!1:(this.pinRangePixels(),s=d({},s),s.dsi=t,s.dei=a,s=n.viewPortConfig=s,i?this.updateVisual(i.x,i.y,i.scaleX,i.scaleY):(i=g.getPixel(t),n=g.getPixel(a),o=this.getOriginalPositions(i-o,c,n-o,h-c),this.zoomSelection(o[0],0,o[2],l)),r.scrollBar.node.attr({"scroll-ratio":s.vdl/(u-!!u),"scroll-position":[s.dsi/(u-s.vdl-1),!0]}),r={level:p.length+1,startIndex:t,startLabel:g.getLabel(t).oriLabel,endIndex:a,endLabel:g.getLabel(a).oriLabel},e.raiseEvent("zoomed",r,this.chartInstance,[this.chartInstance.id,t,a,r.startLabel,r.endLabel,r.level]),r)},activatePin:function(t){var a=this.config.viewPortConfig,i=this.components.tb.graphics.pinButton;return a.pinned^(t=!!t)?(t||this.pinRangePixels(),e.raiseEvent("zoomModeChanged",{pinModeActive:t},this.chartInstance,[]),this.updateButtonVisual(i.node,t?"pressed":"enable"),a.pinned=t):void 0},updateButtonVisual:function(t,e){return t.attr({disable:{config:{hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"},normal:{fill:"#FFFFFF",stroke:"#E3E3E3","stroke-width":1,cursor:"default"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},"button-disabled":!1,stroke:"#E3E3E3","stroke-opacity":1},enable:{config:{hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#aaaaaa",cursor:"pointer"},normal:{fill:"#FFFFFF",stroke:"#C2C2C2","stroke-width":1,cursor:"pointer"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"pointer"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#C2C2C2",cursor:"pointer"}},"button-disabled":!1,fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],stroke:"#C2C2C2","stroke-opacity":1},pressed:{config:{pressed:{fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0]}},fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],stroke:"#E3E3E3"}}[e])},pinRangePixels:function(t,e){var a,i=this.components,n=i.paper,o=this.graphics,r=this.config,s=r.canvasLeft,l=r.viewPortConfig,c=o.zoompin;a=o.pinrect;var d,h,p,u=r["clip-pinrect"],g=r._pingrouptransform,i=i.dataset,f=e-t,o=o.pintracker;if(l&&c&&a){if(t===e)return c.hide(),o.hide(),l.pinned=!1;for(p=i.length;p--;)d=i[p],a=d.graphics,h=a.pinline,h||(h=a.pinline=n.path(c)),h.attr({path:a.lineElement.attrs.path,transform:["T",-r._visx,-r._ymin]}).attr(d.config.pin);return u[0]=t+s,u[2]=f,c.attr({"clip-rect":u,transform:g}).show(),o.__pindragdelta=0,o.show().attr({transform:g,x:t,width:f}),this.getValuePixel(t),this.getValuePixel(e),l.pinned=!0}},_createLayers:function(){var t,e=this.components.paper;c.scatter._createLayers.call(this),t=this.graphics,t.imageContainer=e.group("dataset-orphan",t.dataSetGroup),this.__preDraw(),this.toogleDragPan(!0)},getValue:function(t){var e=this.config,a=this.components,i=e.viewPortConfig;t=this.getOriginalPositions(t.x,t.y,t.x,t.y);var n=a.xAxis[0].config.axisRange,a=a.yAxis[0].config.axisRange,o=n.min,r=a.max;return{x:o+(t[0]-e.canvasLeft)/(e.canvasWidth*i.scaleX/(n.max-o)),y:r-(t[1]-e.canvasTop)/(e.canvasHeight*i.scaleY/(r-a.min))}},getOriginalPositions:function(t,e,a,i){var n=this.config,o=n.viewPortConfig,r=o.scaleX,s=o.scaleY,l=o.x,o=o.y,c=A(t,a);return t=F(t,a),a=A(e,i),e=F(e,i),t=t>n.canvasWidth?n.canvasWidth:t,e=e>n.canvasHeight?n.canvasHeight:e,c=0>c?0:c,a=0>a?0:a,[l+c/r,o+a/s,(t-c)/r,(e-a)/s]},zoomSelection:function(t,e,a,i){var n=this.config;a&&i&&(a=Math.abs(n.canvasWidth/a),i=Math.abs(n.canvasHeight/i),this.updateVisual(t,e,a,i))},updateVisual:function(t,e,a,i,n){var o=this.config,r=o.viewPortConfig,s=o.canvasWidth,l=o.canvasHeight,c=o.viewPortHistory.slice(-1)[0]||r,o=o.maxZoomLimit;r.x=isNaN(t)?t=c.x:t,r.y=isNaN(e)?e=c.y:e,r.scaleX=a||(a=c.scaleX),r.scaleY=i||(i=c.scaleY),a>o&&(r.x=A(t,s-s/o),r.scaleX=o),i>o&&(r.y=A(e,l-l/o),r.scaleY=o),this.updateManager(n)},toogleDragPan:function(t){var e=this.config.viewPortConfig,a=e.status;t&&(e.status="zoom"===a?"pan":"zoom")},resize:function(){var t=this.config,e=this.graphics,a=this.components.canvas,i=a.graphics,n=i.canvasBorderElement,i=i.canvasElement,a=a.config.canvasBorderThickness,o=a/2,r=t.canvasHeight-=a,s=t.canvasWidth-=2*a,l=t.canvasLeft+=a;t.canvasBottom-=a,t.canvasRight-=a,i?i.attr({x:l,y:t.canvasTop,height:r,width:s}):this.drawCanvas(),n&&n.attr({x:l-o,y:t.canvasTop-o,height:r+a,width:s+a,"stroke-width":a}),e.imageContainer.attr({"clip-rect":t.canvasLeft+","+t.canvasTop+","+t.canvasWidth+","+t.canvasHeight}).transform("t"+t.canvasLeft+","+t.canvasTop),e.trackerElem.attr({x:t.canvasLeft,y:t.canvasTop,width:t.canvasWidth,height:t.canvasHeight}),e.tracker&&e.tracker.attr({"clip-rect":t.canvasLeft+","+t.canvasTop+","+t.canvasWidth+","+t.canvasHeight})},updateManager:function(t){var e,a,i,o,r,s=this.components,l=s.dataset,c=l.length,d=this.config,h=d.viewPortConfig,p=d._ypvr,u=d._visw,g=this.components.xAxis[0],f=function(){return g.getPixel.apply(g,arguments)},m=g.getAxisData("labels").style,v=this.updateButtonVisual,b=s.tb.graphics,x=b.zoomOutButton,b=b.resetButton,y=d.viewPortHistory;for(!h&&(h=d.viewPortConfig),a=h.oppp,e=o=h.nvl,i=h.vdl=h.dei-h.dsi,o=h.ppl=e?u/e:h.oppl,u=h.step=(r=h.ppp=u/i)<a?k(a/r):1,m=h.lskip=k(F(o,B(m.lineHeight))/r/u),void 0!==t?(o=(h.clen-i-1)*t,h.offset=(o-(o=M(o)))*r,i=o+i):(o=h.dsi,i=h.dei,h.offset=0),r=h.norm=o%u,h.ddsi=o-=r,h.ddei=i=i+2*u-r,h.pvr=p,h._ymin=d._ymin,h._yminValue=d._yminValue,h.x=(f(o)-f(g.getLimit().min)+h.offset)/h.scaleX,i-o>g.getCategoryLen()?h.scaleX=1:h.scaleX=g.getCategoryLen()/Math.abs(i-o-u-.9),void 0!==t&&s.scrollBar.node.attr({"scroll-position":t}),t=g._getVisibleConfig(),t=Math.ceil((t.maxValue-t.minValue+1)/e),g.setLabelConfig({step:e?t:m*u}),g.setAxisData({labelStep:e?t:m*u}),g.setAxisConfig({animateAxis:!1}),g.draw(),g.setAxisConfig({animateAxis:!0}),e=0;c>e;e+=1)l[e].draw();v(x.node,h.vdl===h.clen-1?"disable":"enable"),v(b.node,0<y.length?"enable":"disable"),n.FC_DEV_ENVIRONMENT&&n.jQuery&&(FusionCharts["debugger"].enable()?(this.debug=this.debug||(n.jQuery("#fc-zoominfo").length||n.jQuery("body").append('<pre id="fc-zoominfo">'),n.jQuery("#fc-zoominfo").css({position:"absolute",left:"10px",top:"0","pointer-events":"none",opacity:.7,width:"250px",zIndex:"999",border:"1px solid #cccccc","box-shadow":"1px 1px 3px #cccccc",background:"#ffffff"})),this.debug.text(JSON.stringify(h,0,2))):(this.debug&&n.jQuery("#fc-zoominfo").remove(),delete this.debug))},_drawDataset:function(){c.zoomline.updateManager.call(this)},getParsedLabel:function(t){var e=this.xlabels;return e.parsed[t]||(e.parsed[t]=v(e.data[t]||""))},_createToolBox:function(){var t,e,a,i,n,o,r,s=this,l=s.config;r=l.allowPinMode,i=s.components;var d=l.showToolBarButtonTooltext;t=i.chartMenuBar,t&&t.drawn||(c.scrollcolumn2d._createToolBox.call(s),t=i.tb,e=t.graphics||(t.graphics={}),a=i.toolBoxAPI||t.getAPIInstances(t.ALIGNMENT_HORIZONTAL),a=a.Symbol,i=i.chartMenuBar.componentGroups[0],n=e.zoomOutButton=new a("zoomOutIcon",void 0,t.idCount++,t.pId).attachEventHandlers({click:function(){s.zoomOut()},tooltext:d&&l.btnZoomOutTooltext||""}),o=e.resetButton=new a("resetIcon",void 0,t.idCount++,t.pId).attachEventHandlers({click:function(){s.resetZoom()},tooltext:d&&l.btnResetChartTooltext||""}),r&&(r=e.pinButton=new a("pinModeIcon",void 0,t.idCount++,t.pId).attachEventHandlers({click:function(){s.activatePin(!l.viewPortConfig.pinned)},tooltext:d&&l.btnSwitchToPinModeTooltext||""}),i.addSymbol(r,!0)),i.addSymbol(o,!0),i.addSymbol(n,!0))},_scrollBar:c.scrollcolumn2d,_manageScrollerPosition:c.scrollcolumn2d,draw:function(){var t,a,i,n,o,r,s,l,d,h,p=this,u=p.config,g=p.graphics||(p.graphics={});r=p.components,t=p.jsonData,n=t.dataset;var f=t.categories&&t.categories[0].category;c.msline.draw.call(p),s=u.canvasLeft,l=u.canvasTop,d=u.canvasHeight,h=u.canvasWidth,t=u.borderWidth,a=u.useRoundEdges,i=u.viewPortConfig,n&&f&&(t++,n=x.crispBound(s-t,l+d+t,h+t+t,u.scrollHeight,t),t--,r=(o=r.scrollBar)&&o.node,o.draw(n.x+(a&&-1||t%2),n.y-(a&&4||2),{isHorizontal:!0,width:n.width-(!a&&2||0),height:n.height,showButtons:u.scrollShowButtons,scrollRatio:i.vdl/(i.clen-!!i.clen),scrollPosition:[i.dsi/(i.clen-i.vdl-1),!1],r:a&&2||0,parentLayer:g.parentGroup}),!r&&function(){var t;x.eve.on("raphael.scroll.start."+o.node.id,function(a){t=a,p.crossline&&p.crossline.disable(!0),e.raiseEvent("scrollstart",{scrollPosition:a},p.chartInstance)}),x.eve.on("raphael.scroll.end."+o.node.id,function(a){p.crossline&&p.crossline.disable(!1),e.raiseEvent("scrollend",{prevScrollPosition:t,scrollPosition:a},p.chartInstance)})}())}},c.msline,{showValues:0}),c("zoomlinedy",{isDual:!0,standaloneInit:!0,defaultDatasetType:"zoomline",applicableDSList:{zoomline:!0},creditLabel:L,friendlyName:"Zoomable and Panable Multi-series Dual-axis Line Chart",_spaceManager:c.msdybasecartesian._spaceManager,_setAxisLimits:c.msdybasecartesian._setAxisLimits,_createAxes:c.msdybasecartesian._createAxes,_feedAxesRawData:c.msdybasecartesian._feedAxesRawData},c.zoomline),FusionCharts.register("component",["dataset","zoomline",{_setConfigure:function(){var t=this.config,e=this.chart.jsonData.chart,a=this.JSONData;t.drawAnchors=u(e.drawanchors,e.showanchors,1),t.anchorRadius=u(a.anchorradius,e.anchorradius,t.lineThickness+2),this.__base__._setConfigure.apply(this,arguments)},configure:function(){var t,e,i={};t=this.chart.jsonData.chart,t.animation=0,t.showvalues=u(t.showvalues,0),this.__base__.configure.call(this),e=this.config,t=e.lineThickness+u(t.pinlinethicknessdelta,1),i["stroke-width"]=t>0&&t||0,i["stroke-dasharray"]=[3,2],i.stroke=a.hashify(e.lineColor),i["stroke-opacity"]=e.lineAlpha/100,i["stroke-linejoin"]=e["stroke-linejoin"]="round",i["stroke-linecap"]=e["stroke-linecap"]="round",e.pin=i,e.animation=!1,e.transposeanimduration=0},draw:function(){var t,e,i,n,o,s,l,c,d,h,g,f,m,v,b,x,P,C,L,D,k,_,I,O,T,B=!1,M=!1,E=this,R=E.JSONData,N=E.chart,W=N.components,z=E.config,H=E.index||E.positionIndex,G=N.config,j=N.jsonData.chart,V=E.components,Z=V.data,Y=Z.length,X=W.paper,U=W.xAxis[0],J=E.yAxis,Q=N.graphics,q=Q.datalabelsGroup,$=a.parseUnsafeString,K=a.getValidValue,tt=G.style,et={fontFamily:tt.fontFamily,fontSize:tt.fontSize,lineHeight:tt.lineHeight,fontWeight:tt.fontWeight,fontStyle:tt.fontStyle,color:tt.color},at=z.lineThickness,it=E.graphics.container,nt=E.graphics.trackerContainer,ot=function(t){S.call(this,N,t)},rt=function(t,e){return function(a){e&&E._hoverPlotAnchor(t,"DataPlotRollOver",j),S.call(this,N,a,"DataPlotRollOver")}},st=function(t,e){return function(a){e&&E._hoverPlotAnchor(t,"DataPlotRollOut",j),S.call(this,N,a,"DataPlotRollOut")}},lt=G.viewPortConfig,ct=z.showTooltip,dt=Q.datasetGroup,ht=z.shadow,pt=E.graphics.dataLabelContainer,ut={},gt=N.is3D,ft=z.use3dlineshift,mt=J.getAxisBase(),vt=J.yBasePos=J.getAxisPosition(mt),bt=U.getAxisPosition(0),xt=U.getAxisPosition(1)-bt,yt=gt?10:0,Pt=gt&&ft?10:0,St=[F(0,G.canvasLeft-yt),F(0,G.canvasTop-Pt),F(1,G.canvasWidth+2*yt),F(1,G.canvasHeight+Pt)],Ct=[F(0,G.canvasLeft-yt),F(0,G.canvasTop-Pt),1,F(1,G.canvasHeight+2*Pt)],Lt=U.axisData&&U.axisData.scroll||{},wt=N.hasScroll||!1,Dt=z.lineDashStyle,kt={color:z.lineColor,alpha:z.lineAlpha};[y(kt),Dt].join(":");var _t,It,Ft,At,Ot,Tt,Bt,Mt,Et,Rt,Nt,Wt,zt=E.graphics.lineElement,Ht=E.visible,Gt=E.pool||(E.pool={element:[]}),jt={},Vt={},Zt={},Yt=z.anchorRadius,Xt=[],Ut=G.showTerminalValidData,Jt=G.viewPortConfig,Qt=G.showPeakData,qt=G.maxPeakDataLimit,$t=G.minPeakDataLimit,Kt=u(G.useCrossline,0),te=Jt.step,ee=U.getPixel(Jt.step)-bt<Jt.amrd,ae=function(t,e){var a=t.graphics;D=t.config,h=D.setValue,d=D.setLink,At=D.x||e,_=K($(p(D.setLevelTooltext,R.plottooltext,j.plottooltext))),k=D.showValue,ut=D.anchorProps,C=ut.shadow,f=D.displayValue,Ot=D.dip||0,t||(t=Z[e]={graphics:{}}),Ft={color:D.color,alpha:D.alpha},I=D.dashStyle,n=D.xPos||U.getAxisPosition(At)-yt,o=E.visible?J.getAxisPosition(h)+Pt:vt,P=D.hoverEffects,ut.isAnchorHoverRadius=P.anchorRadius,Tt=U.getLabel(e),s=Kt?"":D.toolText+(_?"":D.toolTipValue),g={index:e,link:d,value:h,displayValue:f,categoryLabel:Tt,toolText:s,id:z.userID,datasetIndex:H,datasetName:R.seriesname,visible:Ht},null===D.setValue||ee||(ut.imageUrl?(L=new r,L.onload=E._onAnchorImageLoad(E,e,g,n,o),L.onerror=E._onErrorSetter(n,o,e,E),L.src=ut.imageUrl):(l=a.element,l||(l=Gt.element&&Gt.element.length?a.element=Gt.element.shift():a.element=X.polypath(it.anchorGroup)),l.attr({polypath:[ut.symbol[1]||2,n,o,ut.radius,ut.startAngle,Ot],fill:y({color:ut.bgColor,alpha:ut.bgAlpha}),stroke:y({color:ut.borderColor,alpha:ut.borderAlpha}),"stroke-width":ut.borderThickness,visibility:ut.radius?Ht:"hidden"}).shadow(C,it.anchorShadowGroup).data("anchorRadius",ut.radius).data("anchorHoverRadius",P.anchorRadius).data("setRolloverAttr",b).data("setRolloutAttr",v),l[D.setValue?"show":"hide"]()),P.enabled&&(b={polypath:[P.anchorSides||2,n,o,P.anchorRadius,P.startAngle,P.dip],fill:y({color:P.anchorColor,alpha:P.anchorBgAlpha}),stroke:y({color:P.anchorBorderColor,alpha:P.anchorBorderAlpha}),"stroke-width":P.anchorBorderThickness},v={polypath:[ut.sides,n,o,ut.radius,ut.startAngle,Ot],fill:y({color:ut.bgColor,alpha:ut.bgAlpha}),stroke:y({color:ut.borderColor,alpha:ut.borderAlpha}),"stroke-width":ut.borderThickness},l&&l.data("anchorRadius",ut.radius).data("anchorHoverRadius",P.anchorRadius).data("setRolloverAttr",b).data("setRolloutAttr",v)),Yt=F(ut.radius,P&&P.anchorRadius||0),x={cx:n,cy:o,r:Yt,cursor:d?"pointer":"",stroke:w,"stroke-width":ut.borderThickness,fill:w,ishot:!0,visibility:Ht},ut.imageUrl||!d&&!ct||(c=a.hotElement,c||(c=Gt.hotElement&&Gt.hotElement.length?a.hotElement=Gt.hotElement.shift():a.hotElement=X.circle(nt)),c.show().attr(x),(c||l).data("eventArgs",g).data("groupId",void 0).click(ot).tooltip(s),P.enabled&&(c||l).hover(rt(t,P.enabled),st(t,P.enabled)))),t._xPos=n,t._yPos=o,[y(Ft||kt),I||Dt].join(":"),Zt=E.getLinePath([t],Zt),_t=y(Ft||kt),It=I||Dt,p(D.setColor,D.setAlpha,D.setDashed),[_t,It].join(":"),k&&!ut.imageUrl&&E.drawLabel(e),Xt.push(t)},ie=function(t,e){var a=t&&t.length,i=t.slice().sort(function(t,e){return t.config.setValue-e.config.setValue}),n=i&&i.pop().config.setValue,o=i.length&&i.shift().config.setValue||n,i=0;if(n>qt||$t>o)for(;a>i;)l=t[i],n=l.config.setValue,(n>qt||$t>n)&&(n=e+i,ae(l,n)),i+=1},ne=function(e,a){--e,a+=1;var n;for(i=e;a>i;i+=1)for(n in t=Z[i]&&Z[i].graphics||{},Z[i]&&(Z[i].config.isRemoving=!0),t)Gt[n]||(Gt[n]=[]),t[n]&&(Gt[n].push(t[n].hide()),t[n]=void 0)},oe=lt.ddsi||0,re=lt.ddei||Y,se=z._oldStartIndex,le=z._oldEndIndex,ce=z._oldStep,de=V.removeDataArr,he=de&&de.length;for(dt.line=dt.line||X.group("line",dt),dt.lineConnector=dt.lineConnector||X.group("line-connector",dt),it||(it=E.graphics.container={lineShadowGroup:X.group("connector-shadow",dt.line),anchorShadowGroup:X.group("anchor-shadow",dt.lineConnector),lineGroup:X.group("line",dt.line),anchorGroup:X.group("anchors",dt.lineConnector)},Ht||(it.lineShadowGroup.hide(),it.anchorShadowGroup.hide(),it.lineGroup.hide(),it.anchorGroup.hide())),nt||(nt=E.graphics.trackerContainer=X.group("line-hot",nt).toBack(),Ht||nt.hide()),Z||(Z=E.components.data=[]),N._addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",et),pt||(pt=E.graphics.dataLabelContainer=E.graphics.dataLabelContainer||X.group("datalabel",q),Ht||pt.hide()),O=xt*Y,ee&&!z._oldHideAnchors?ne(se,le):te!==ce?ne(se,le):(oe>se&&ne(se,oe>le?le:oe),le>re&&ne(se>re?se:re,le),(se>oe||re>le)&&ne(se,le)),z._oldHideAnchors=ee,z._oldEndIndex=re,z._oldStep=te,E.setVisibility(Ht),i=z._oldStartIndex=oe;re>=i;i+=te){if(m=Z[i]||{},D=m.config||{},D.isRemoving=!1,h=D.setValue||null,Et=i,Ut)if(0===i&&null===h){for(Bt=0,Mt=e=i;Y>Mt;)if(null!==Z[Mt].config.setValue||B?B=!0:Mt++,null===Z[e].config.setValue&&!M&&Y>=e?(e+=te,Bt++):M=!0,B&&M){B=M=!1;break}0!==Mt%te&&(D=Z[Mt].config,Et=Mt)}else if(i>=Y&&null===h){for(Mt=e=i;Mt>0&&(void 0!==Z[Mt]||B?B=!0:Mt--,void 0===Z[e]&&!M&&e>=0?e-=te:M=!0,!B||!M););0!==Mt%te&&(D=Z[Mt].config,Et=Mt)}(m=Z[Et])&&(ae(m,Et),Qt&&te>1&&(Rt=A(i+1,re),Wt=A(Rt+te,re),Nt=Wt===re?Z.slice(Rt):Z.slice(Rt,Wt),Nt.length&&ie(Nt,Rt)))}Vt=E.getLinePath(Xt,{}),jt=E.getLinePath(Xt,jt),z.lastPath=Vt,zt||(zt=Gt.lineElement&&Gt.lineElement.length?E.graphics.lineElement=Gt.lineElement.shift():E.graphics.lineElement=X.path(it.lineGroup)),zt.attr({path:Vt.getPathArr(),"stroke-dasharray":Dt,"stroke-width":at,stroke:y(kt),"stroke-linecap":"round","stroke-linejoin":at>=2?"round":"miter"}).shadow(ht,it.lineShadowGroup),wt&&(T=Lt.startPercent,St[2]=O+Ct[0],1===T&&(Ct[0]=St[2],St[0]=0)),St[3]+=Pt,E.drawn=!0,he&&E.remove()},setVisibility:function(t,e){var a=this.graphics&&this.graphics.container,i=this.graphics&&this.graphics.trackerContainer,n=this.graphics&&this.graphics.dataLabelContainer,o=t?"show":"hide";a.lineGroup[o](),a.anchorGroup[o](),a.anchorShadowGroup[o](),a.lineShadowGroup[o](),i[o](),n[o](),e&&this.transposeLimits(t)},transposeLimits:function(t){var e=this.chart,a=this.yAxis;e._chartAnimation(),this.visible=t,this._conatinerHidden=!t,e._setAxisLimits(),a.draw(),e._drawDataset()},hide:function(){this.setVisibility(!1,!0)},show:function(){this.setVisibility(!0,!0)}},"Line"]),t=function(){},t.prototype.configure=function(t,e){var a,n,o,r=this,s=t.components,l=s.numberFormatter,c=s.paper,p=t.config;a=t.graphics,n=this.left=p._visx,o=this.top=p.canvasTop;var u,g,f=this.height=p.canvasHeight,m=this._visout=p._visout,v=this.plots=t.components.dataset,b=a.datalabelsGroup,x=e.labelstyle,y=e.valuestyle,P=s.yAxis[0],S=P.getLimit(),C=s.yAxis[1],L=C&&C.getLimit();g=this.tracker;var s=this.labels,w=this.positionLabel;u=t.get("linkedItems");var D=u.container,k=u.eventListeners||(u.eventListeners=[]);if(r.width=p._visw,u=this.group,u||(u=this.group=c.group("crossline-labels",b),this.container=D),u.attr({transform:["T",n,p._ymin]}),g||(g=r.tracker=D,k.push(h(D,"touchstart mousemove",function(e){var a=r.onMouseMove,i=r.onMouseOut;t.isWithinCanvas(e,t).insideCanvas?a.call(r,e):i.call(r,e)},r)),k.push(h(D,"mousedown",function(){r.onMouseDown()},r)),k.push(h(D,"mouseup",function(){r.onMouseUp()},r)),k.push(h(D,"mouseout",function(){r.onMouseOut()},r))),g=this.line,g||(g=this.line=c.path(b).toBack()),g.attr(d({path:["M",n,o,"l",0,f]},e.line)),s||(s=this.labels=e.valueEnabled&&c.set()),e.labelEnabled&&(w||(w=this.positionLabel=c.text("").insertAfter(a.datalabelsGroup)),w.attr({x:m,y:o+f+(p.scrollHeight||0)+2.5,"vertical-align":"top",direction:p.textDirection,text:""}).css(x)),this.hide(),this.ppixelRatio=-P.getPVR(),this.spixelRatio=C&&-C.getPVR(),this.yminValue=p._yminValue,this.pyaxisminvalue=S.min,this.pyaxismaxvalue=S.max,this.syaxisminvalue=L&&L.min,this.syaxismaxvalue=L&&L.max,this.positionLabels=p.xlabels||{data:[],parsed:[]},this.chart=t,this.getZoomInfo=function(){return p.viewPortConfig},this.getDataIndexFromPixel=function(e){return Math.round(t.components.xAxis[0].getValue(e))},this.getPositionLabel=function(e){return t.components.xAxis[0].getLabel(e).oriLabel},e.valueEnabled){for(a=0,n=v.length;n>a;a+=1)o=v[a],o=i(o.config.lineColor),s[a]||(s[a]=s.items[a]=c.text(u)),s[a].attr({x:0,y:m,text:"",fill:o,direction:p.textDirection}).css(y);for(;a<s.items.length;a+=1)s[a].remove(),delete s[a],s.items.splice(a,1);this.numberFormatter=l}else if(s.items.length){for(a=0;a<s.items.length;a+=1)s[a].remove(),delete s[a];s.length=0}},t.prototype.disable=function(t){return void 0!==t&&(this.disabled=!!t)&&this.visible&&this.hide(),this.disabled},t.prototype.onMouseOut=function(){this.hide(),this.position=void 0},t.prototype.onMouseDown=function(){!P&&this.hide(),this._mouseIsDown=!0},t.prototype.onMouseUp=function(){!P&&this.hide(),delete this._mouseIsDown},t.prototype.onMouseMove=function(t){if(!(this.disabled||this._mouseIsDown&&!P)){var e,a=this.getZoomInfo(),i=this.line,n=this.left,a=a.step,o=this.chart,r=o.components.xAxis[0],s=r.getCategoryLen(),l=o.get("config"),o=l.canvasLeft,l=l.canvasRight;t=C(this.container,t).chartX-n;var c,n=r.getLimit().min,d=r.config.axisData.axisDimention.x-o;c=(c=this.getDataIndexFromPixel(I(t)))+((e=c%a)>a/2?a-e:-e),t=r.getPixel(c)-d-o,l-o>=t&&(i.transform(["T",I(t),0]),this.hidden&&this.show(),(c>=s||n>c)&&this.hide(),c!==this.position||this.hidden)&&(this.position=c,this.lineX=t,this.updateLabels())}},t.prototype.updateLabels=function(){var t=this,e=t.labels,a=t.plots,i=t.width,n=t.position,o=t.lineX,r=_(o),s=t.ppixelRatio,l=t.spixelRatio,c=t.yminValue,d=t._visout,h=t.numberFormatter,p=t.pyaxisminvalue,u=t.pyaxismaxvalue,g=t.syaxisminvalue,f=t.syaxismaxvalue,m=function(){function e(){this.y=0,this.lRef=void 0,this.__index=this.__shift=0}function a(t){for(var e=0;t>e;)this.push(e++);return this;
}function i(t){var e,a,i,n,o=Number.POSITIVE_INFINITY;for(e=0;e<this.length;e++)a=this[e]-t,i=0>a?m.NEG:m.POS,a=g(a),o>=a&&(o=a,n={absValue:a,noScaleSide:i});return n}function n(t){this.holes=a.call([],t)}var o,r,l=-1*t.height,h=c*s,p=0,u={},g=Math.abs,f=Math.floor,m={};"function"!=typeof Object.create&&(Object.create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(a){var i,n,o;if("object"!=typeof a)throw new TypeError("Object prototype may only be an Object or null");if(t.prototype=a,o=new t,t.prototype=null,1<arguments.length)for(n in i=Object(arguments[1]))e.call(i,n)&&(o[n]=i[n]);return o}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var a,i,n;if(null==this)throw new TypeError('"this" is null or not defined');if(i=Object(this),n=i.length>>>0,0===n)return-1;if(a=+e||0,1/0===Math.abs(a)&&(a=0),a>=n)return-1;for(a=Math.max(a>=0?a:n-Math.abs(a),0);n>a;){if(a in i&&i[a]===t)return a;a++}return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var a,i,n,o,r;if(null==this)throw new TypeError(" this is null or not defined");if(n=Object(this),o=n.length>>>0,"function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(a=e),i=0;o>i;)i in n&&(r=n[i],t.call(a,r,i,n)),i++}),e.prototype.constructor=e,e.prototype.applyShift=function(t){this.__shift=t,this.lRef.calcY=this.y+=t*p},e.prototype.applyDirectIndex=function(t){this.__index=t,this.lRef.calcY=this.y=l-t*p*-1};try{Object.defineProperty(m,"POS",{enumerable:!1,configurable:!1,get:function(){return 1}}),Object.defineProperty(m,"NEG",{enumerable:!1,configurable:!1,get:function(){return-1}})}catch(v){m.POS=1,m.NEG=-1}n.prototype=Object.create(Array.prototype),n.prototype.constructor=n,n.prototype.repositionHoles=function(){var t,e,a=0;for(t=this.holes.length=0;t<this.length;t++)e=this[t],!e&&(this.holes[a++]=t)},n.prototype.attachShift=function(t,a,n){var o,r=this.length;if(t===d)n.calcY=d;else if(r=a>r-1?r-1:a,o=this[r],a=new e,a.y=t,a.lRef=n,o){if(t=i.call(this.holes,r),n=r+t.absValue*t.noScaleSide,t.noScaleSide===m.POS)return a.applyDirectIndex(n),this.splice(n,1,a),this.holes.splice(this.holes.indexOf(n),1),n;if(t.noScaleSide===m.NEG){for(t=this.splice(n+1,this.length-1),this.pop(),t.forEach(function(t){t&&t.applyShift(-1)}),[].push.apply(this,t);this[n];)n++;return this.push(0),this.repositionHoles(),t=i.call(this.holes,n),n+=t.absValue*t.noScaleSide,a.applyDirectIndex(n),this.splice(n,1,a),this.repositionHoles(),this.length-1}}else a.applyDirectIndex(r),this.splice(r,1,a),this.holes.splice(this.holes.indexOf(r),1)};try{Object.defineProperty(u,"top",{enumerable:!1,configurable:!1,get:function(){return l}}),Object.defineProperty(u,"bottom",{enumerable:!1,configurable:!1,get:function(){return h}})}catch(b){u.top=l,u.bottom=h}return u.init=function(t){var e;for(p=t+2,l+=p/2,r=f(g(l)/p),o=new n(r),e=0;r>e;e++)o.push(0)},u.occupy=function(t,e){var a=f(g(l-t)/p);o.attachShift(t,a,e)},u}();e&&(e[0].attr({text:h.yAxis("0")}),m.init(e[0].getBBox().height,e.length),e.forEach(function(t,e){var i=a[e],o=i.components.data[n]&&i.components.data[n].config.setValue,r=i.config.parentYAxis;m.occupy(void 0===o||!i.visible||(r?o>f||g>o:o>u||p>o)?d:r?(o-g)*l:(o-p)*s,t)})),e&&e.forEach(function(t,e){var s=a[e];(s=h[s.config.parentYAxis?"sYAxis":"yAxis"](s.components.data[n]&&s.components.data[n].config.setValue))?(t.attr({text:s}),s=t.getBBox(),s=s.width,s=.5*s+10,t.attr({x:F(0,A(r,i)),y:t.calcY,"text-anchor":s>=o&&"start"||o+s>=i&&"end"||"middle","text-bound":["rgba(255,255,255,0.8)","rgba(0,0,0,0.2)",1,2.5]})):t.attr({x:-i})}),t.positionLabel&&t.positionLabel.attr({x:o+t.left,text:t.getPositionLabel(n),"text-bound":["rgba(255,255,255,1)","rgba(0,0,0,1)",1,2.5]})},t.prototype.show=function(){this.disabled||(this.hidden=!1,this.group.attr("visibility","visible"),this.line.attr("visibility","visible"),this.positionLabel&&this.positionLabel.attr("visibility","visible"))},t.prototype.hide=function(){this.hidden=!0,this.group.attr("visibility","hidden"),this.line.attr("visibility","hidden"),this.positionLabel&&this.positionLabel.attr("visibility","hidden")},t.prototype.dispose=function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]},x.addSymbol({pinModeIcon:function(t,e,a){var i=.5*a,n=t-a,o=t+a,r=t-i,s=t+i,l=t+.5,c=l+1,d=l+1.5,h=e-a,p=e+i,u=e-i,i=e+(a-i);return["M",n,h,"L",r,u,r,i,n,p,t-.5,p,t,e+a+.5,l,p,o,p,s,i,s,u,o,h,d,h,d,u,d,i,c,i,c,u,d,u,d,h,"Z"]},zoomOutIcon:function(t,e,a){t-=.2*a,e-=.2*a;var i=.8*a,n=x.rad(43),o=x.rad(48),r=t+i*O(n),n=e+i*T(n),s=t+i*O(o),o=e+i*T(o),l=x.rad(45),c=r+a*O(l),d=n+a*T(l),h=s+a*O(l);return a=o+a*T(l),["M",r,n,"A",i,i,0,1,0,s,o,"Z","M",r+1,n+1,"L",c,d,h,a,s+1,o+1,"Z","M",t-2,e,"L",t+2,e,"Z"]},resetIcon:function(t,e,a){var i=t-a,n=(D.PI/2+D.PI)/2;t+=a*O(n);var n=e+a*T(n),o=2*a/3;return["M",i,e,"A",a,a,0,1,1,t,n,"L",t+o,n-1,t+2,n+o-.5,t,n]}})}]);