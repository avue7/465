FusionCharts.register("module",["private","modules.renderer.js-gantt",function(){var t,e,a=this,o=a.hcLib,i=a.window,r=/msie/i.test(i.navigator.userAgent)&&!i.opera,s=o.chartAPI,n=o.extend2,l=o.pluck,h=o.pluckNumber,c=o.pluckFontSize,d=o.getFirstColor,p=o.parseConfiguration,g=o.setAttribDefs,f=o.graphics,v=f.convertColor,m=f.getDarkColor,b=o.parseUnsafeString,u=o.getFirstValue,x=o.getValidValue,C=o.toPrecision,w=o.Raphael,k=o.chartPaletteStr,y=o.componentDispose,F=o.COMMASTRING,A=o.setLineHeight,P=o.getDashStyle,D=o.toRaphaelColor,L=o.each,T=o.attrTypeNum,S=o.attrTypeBool,E=o.dropHash,H=o.HASHSTRING,i=!/fusioncharts\.com$/i.test(i.location.hostname),B="rgba(192,192,192,"+(r?.002:1e-6)+")",_=f.mapSymbolName,r=Math,O=r.max,W=r.min,M=r.abs,N=parseInt,V=parseFloat,z=o.graphics.getLightColor,I=o.plotEventHandler,j=function(t){return void 0!==t&&null!==t},G={left:"start",right:"end",center:"middle"},R={left:0,right:1,center:.5,undefined:.5},X={left:5,right:-5,center:0,undefined:0},U=function(){},J=function(){for(var t=0,e=arguments.length,a=!1,t=0;e>t;t++){if(a=arguments[t],isNaN(a))return!1;a=!0}return a};s("gantt",{defaultDatasetType:"task",applicableDSList:{task:!0,milestone:!0,connectors:!0},fireGroupEvent:!0,aligncaptionwithcanvas:0,hasInteractiveLegend:!1,creditLabel:i,_createDatasets:function(){var t,e,a,o,i,r,s,n,l=this.config,h=this.components,c=this.jsonData,d=[],p=this.defaultDatasetType,g=this.applicableDSList,f=l.datasetMap||(l.datasetMap={task:[],milestone:[],connectors:[]}),v={task:[],milestone:[],connectors:[]},m={};for(c.tasks&&(d=d.concat(c.tasks)),c.milestones&&(d=d.concat(c.milestones)),c.connectors&&(d=d.concat(c.connectors)),t=d&&d.length,!d||d instanceof Array||(d=[d],t=1),t||this.setChartMessage(),this.config.categories=c.categories&&c.categories[0].category,c=h.dataset=[],h=0;t>h;h++)i=d[h],i.task?n=a="task":i.milestone?n=a="milestone":i.connector&&(a="connectors",n="connector"),a=a&&a.toLowerCase(),g[a]||(a=p),(o=FusionCharts.get("component",["dataset",a]))&&(void 0===m[a]?m[a]=0:m[a]++,e=f[a],(r=e[0])?(o=r.JSONData,o=o[n].length,s=i[n].length,v[a].push(r),c.push(r),r.index=h,o>s&&r.removeData(s-1,o-s,!1),r.JSONData=i,r.configure(),e.shift()):(e=new o,v[a].push(e),c.push(e),e.chart=this,e.index=h,e.init(i)));this._createLegendItems();for(a in f)if(d=f[a],t=d.length)for(h=0;t>h;h++)(e=d[h])&&y.call(e);l.datasetMap=v},configure:function(){var t=this.config,e=this.components.background.config,a=this.jsonData.chart;this.__setDefaultConfig(),s.mscartesian.configure.call(this),t.showBorder=h(a.showborder,0),t.borderWidth=t.showBorder?h(a.borderthickness,1):0,e.borderWidth=t.borderWidth,t.lastVScrollPosition=void 0,t.lastHScrollPosition=void 0},_createLegendItems:function(){var t,e,a,o,i,r,s=this.components,n=this.jsonData,l=s.legend,h=s.legendItems,n=n.legend&&n.legend.item||[];for(t=s.legendItems&&s.legendItems.length||0,e=n.length,t>e&&(l.emptyItems(e,t-e),h&&h.splice(e,t-e)),h||(s.legendItems=h=[]),t=0,s=n.length;s>t;t++)i=n[t],r=h[t],o=i.color,e=z(o,60).replace(E,H),a=z(o,40),a={FCcolor:{color:o+","+o+","+a+","+o+","+o,ratio:"0,70,30",angle:270,alpha:"100,100,100,100,100"}},!r&&(r=h[t]={}),e={fillColor:D(a),strokeColor:D(e),label:i.label,interactiveLegend:!1,legendItemId:r.legendItemId},h[t].legendItemId=l.addItems(this,U,e)},_setAxisLimits:function(){},_createAxes:function(){var t=this.components,e=FusionCharts.get("component",["axis","time"]),a=FusionCharts.get("component",["axis","process"]);t.yAxis=[],t.xAxis=[],t.yAxis[0]=a=new a,t.xAxis[0]=t=new e,a.chart=this,t.chart=this,a.init(),t.init()},_feedAxesRawData:function(){var t,e=this.components,a=e.colorManager,o=this.jsonData,i=o.chart,r=this.is3d,s=r?k.chart3D:k.chart2D;t={outCanfontFamily:l(i.outcnvbasefont,i.basefont,"Verdana,sans"),outCanfontSize:c(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:l(i.outcnvbasefontcolor,i.basefontcolor,a.getColor(s.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:i.xaxisbreaks,axisNamePadding:i.xaxisnamepadding,axisValuePadding:i.labelpadding,axisNameFont:i.xaxisnamefont,axisNameFontSize:i.xaxisnamefontsize,axisNameFontColor:i.xaxisnamefontcolor,axisNameFontBold:i.xaxisnamefontbold,axisNameFontItalic:i.xaxisnamefontitalic,axisNameBgColor:i.xaxisnamebgcolor,axisNameBorderColor:i.xaxisnamebordercolor,axisNameAlpha:i.xaxisnamealpha,axisNameFontAlpha:i.xaxisnamefontalpha,axisNameBgAlpha:i.xaxisnamebgalpha,axisNameBorderAlpha:i.xaxisnameborderalpha,axisNameBorderPadding:i.xaxisnameborderpadding,axisNameBorderRadius:i.xaxisnameborderradius,axisNameBorderThickness:i.xaxisnameborderthickness,axisNameBorderDashed:i.xaxisnameborderdashed,axisNameBorderDashLen:i.xaxisnameborderdashlen,axisNameBorderDashGap:i.xaxisnameborderdashgap,useEllipsesWhenOverflow:i.useellipseswhenoverflow,divLineColor:l(i.vdivlinecolor,a.getColor(s.divLineColor)),divLineAlpha:l(i.vdivlinealpha,r?a.getColor("divLineAlpha3D"):a.getColor("divLineAlpha")),divLineThickness:h(i.vdivlinethickness,1),divLineIsDashed:Boolean(h(i.vdivlinedashed,i.vdivlineisdashed,0)),divLineDashLen:h(i.vdivlinedashlen,4),divLineDashGap:h(i.vdivlinedashgap,2),showAlternateGridColor:h(i.showalternatevgridcolor,0),alternateGridColor:l(i.alternatevgridcolor,a.getColor("altVGridColor")),alternateGridAlpha:l(i.alternatevgridalpha,a.getColor("altVGridAlpha")),numDivLines:h(i.numvdivlines,this.numVDivLines),labelFont:i.labelfont,labelFontSize:i.labelfontsize,labelFontColor:i.labelfontcolor,labelFontAlpha:i.labelalpha,labelFontBold:i.labelfontbold,labelFontItalic:i.labelfontitalic,maxLabelHeight:i.maxlabelheight,axisName:i.xaxisname,axisMinValue:i.xaxisminvalue,axisMaxValue:i.xaxismaxvalue,setAdaptiveMin:i.setadaptivexmin,adjustDiv:i.adjustvdiv,labelDisplay:i.labeldisplay,showLabels:i.showlabels,rotateLabels:i.rotatelabels,slantLabel:h(i.slantlabels,i.slantlabel),labelStep:h(i.labelstep,i.xaxisvaluesstep),showAxisValues:h(i.showxaxisvalues,i.showxaxisvalue),showLimits:h(i.showvlimits,this.showvlimits),showDivLineValues:h(i.showvdivlinevalues,i.showvdivlinevalues),zeroPlaneColor:i.vzeroplanecolor,zeroPlaneThickness:i.vzeroplanethickness||2,zeroPlaneAlpha:i.vzeroplanealpha,showZeroPlaneValue:i.showvzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:h(i.showxaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:h(i.xaxislinethickness,i.axislinethickness,1),axisLineAlpha:h(i.xaxislinealpha,i.axislinealpha,100),axisLineColor:l(i.xaxislinecolor,i.axislinecolor,"#000000")},a={outCanfontFamily:l(i.outcnvbasefont,i.basefont,"Verdana,sans"),outCanfontSize:c(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:l(i.outcnvbasefontcolor,i.basefontcolor,a.getColor(s.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:i.yaxisbreaks,axisNamePadding:i.yaxisnamepadding,axisValuePadding:i.yaxisvaluespadding,axisNameFont:i.yaxisnamefont,axisNameFontSize:i.yaxisnamefontsize,axisNameFontColor:i.yaxisnamefontcolor,axisNameFontBold:i.yaxisnamefontbold,axisNameFontItalic:i.yaxisnamefontitalic,axisNameBgColor:i.yaxisnamebgcolor,axisNameBorderColor:i.yaxisnamebordercolor,axisNameAlpha:i.yaxisnamealpha,axisNameFontAlpha:i.yaxisnamefontalpha,axisNameBgAlpha:i.yaxisnamebgalpha,axisNameBorderAlpha:i.yaxisnameborderalpha,axisNameBorderPadding:i.yaxisnameborderpadding,axisNameBorderRadius:i.yaxisnameborderradius,axisNameBorderThickness:i.yaxisnameborderthickness,axisNameBorderDashed:i.yaxisnameborderdashed,axisNameBorderDashLen:i.yaxisnameborderdashlen,axisNameBorderDashGap:i.yaxisnameborderdashgap,axisNameWidth:i.yaxisnamewidth,useEllipsesWhenOverflow:i.useellipseswhenoverflow,rotateAxisName:h(i.rotateyaxisname,1),axisName:i.yaxisname,divLineColor:l(i.divlinecolor,a.getColor(s.divLineColor)),divLineAlpha:l(i.divlinealpha,r?a.getColor("divLineAlpha3D"):a.getColor("divLineAlpha")),divLineThickness:h(i.divlinethickness,1),divLineIsDashed:Boolean(h(i.divlinedashed,i.divlineisdashed,0)),divLineDashLen:h(i.divlinedashlen,4),divLineDashGap:h(i.divlinedashgap,2),showAlternateGridColor:h(i.showalternatehgridcolor,1),alternateGridColor:l(i.alternatehgridcolor,a.getColor("altHGridColor")),alternateGridAlpha:l(i.alternatehgridalpha,a.getColor("altHGridAlpha")),numDivLines:h(i.numdivlines,this.numDivLines),axisMinValue:i.yaxisminvalue,axisMaxValue:i.yaxismaxvalue,setAdaptiveMin:i.setadaptiveymin,adjustDiv:i.adjustdiv,labelStep:i.yaxisvaluesstep,showAxisValues:h(i.showyaxisvalues,i.showyaxisvalue),showLimits:h(i.showlimits,this.showLimits),showDivLineValues:h(i.showdivlinevalues,i.showdivlinevalue),zeroPlaneColor:i.zeroplanecolor,zeroPlaneThickness:i.zeroplanethickness||2,zeroPlaneAlpha:i.zeroplanealpha,showZeroPlaneValue:i.showzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:h(i.showyaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:h(i.yaxislinethickness,i.axislinethickness,1),axisLineAlpha:h(i.yaxislinealpha,i.axislinealpha,100),axisLineColor:l(i.yaxislinecolor,i.axislinecolor,"#000000")},t.vtrendlines=o.trendlines,o=e.yAxis[0],e=e.xAxis[0],o.setCommonConfigArr(a,!0,!0,!1),e.setCommonConfigArr(t,!1,!1,!0),o.configure(),e.configure()},_setCategories:function(){var t=this.get("components"),e=this.jsonData,a=t.xAxis,t=t.yAxis,o=e.processes,i=e.datatable,e=e.categories;t[0].setAxisPadding(.5,.5),t[0].setProcess(o),t[0].setDataTable(i),a[0].setCategory(e)},_setAxisValuePadding:function(){var t,e,a=this.components.dataset,o=a.length,i=-(1/0),r=-(1/0);for(t=0;o>t;t++)e=a[t],e=e.getAxisValuePadding&&e.getAxisValuePadding()||{},i=O(i,e.left||-(1/0)),r=O(r,e.right||-(1/0))},_spaceManager:function(){var t,e=this.config,a=this.components,o=a.xAxis&&a.xAxis[0],i=a.yAxis&&a.yAxis[0],r=a.legend.config.legendPos,s=100-(e.ganttwidthpercent||67);t=e.borderWidth;var n=a=0;this._resetViewPortConfig&&this._resetViewPortConfig(),o.resetTransletAxis(),i.resetTransletAxis(),this._allocateSpace({top:t,bottom:t,left:t,right:t}),t="bottom"===r?.225*e.canvasHeight:.225*e.canvasWidth,this._manageChartMenuBar(t),this._manageLegendSpace("right"===r?.3*e.canvasWidth:.3*e.canvasHeight),e.actualCanvasTop=e.canvasTop,e.actualCanvasLeft=e.canvasLeft,r=i.placeAxis(s/100*e.canvasWidth),a+=(r.left||0)+(r.right||0),i&&this._allocateSpace(r),t=.6*e.canvasHeight,r=o.placeAxis(t),n+=r.top||0,e.totalWidth=a,e.totalHeight=n,o&&this._allocateSpace(r),e=i&&i.setProcessHeight(),i.setAxisData({processTotalHeight:e})},_drawCanvas:function(){var t=this.jsonData.chart,e=this.components,a=this.config,o=this.graphics,i=e.paper,r=e.canvas,e=r.graphics,s=r.config,r=s.clip={},n=e.canvasBorderElement,l=this.get("config","animationObj"),c=l.duration,d=l.dummyObj,p=l.animObj,l=l.animType,g=e.canvasElement,f=a.actualCanvasLeft,v=a.actualCanvasTop,m=a.canvasWidth,b=a.canvasHeight,u=a.canvasLeft,x=a.canvasTop,C=a.canvasWidth+a.totalWidth,a=a.canvasHeight+a.totalHeight,o=o.canvasGroup,w=s.canvasBorderRadius,k=s.canvasBorderWidth,y=.5*k,F=s.canvasBorderColor,A=s.canBGColor,P=s.shadow,t=s.showCanvasBG=Boolean(h(t.showcanvasbg,1)),L=s.shadowOnCanvasFill,T=s.showCanvasBorder,s={x:f-y,y:v-y,width:C+k,height:a+k,r:w,"stroke-width":k,stroke:F,"stroke-linejoin":k>2?"round":"miter"};T?n?(n.show(),n.animateWith(d,p,{x:f-y,y:v-y,width:C+k,height:a+k,r:w},c,l),n.attr({"stroke-width":k,stroke:F,"stroke-linejoin":k>2?"round":"miter"}),n.shadow(P)):e.canvasBorderElement=i.rect(s,o).shadow(P):n&&n.hide(),r["clip-canvas"]=[O(0,u),O(0,x),O(1,m),O(1,b)],r["clip-canvas-init"]=[O(0,u),O(0,x),1,O(1,b)],t?(s={x:f,y:v,width:C,height:a,r:w,"stroke-width":0,stroke:"none",fill:D(A)},g?(g.show(),c&&g.animateWith(d,p,{x:f,y:v,width:C,height:a,r:w},c,l),g.attr(s),g.shadow(L)):e.canvasElement=i.rect(s,o).shadow(L)):g&&g.hide()},_postSpaceManagement:function(){var t,e,a,o=this.config,i=this.components,r=i.xAxis&&i.xAxis[0],s=i.yAxis&&i.yAxis[0],n=s.getAxisData("processTotalHeight"),l=o.canvasHeight,h=i.legend,c=o.xDepth,d=i.canvas.config,p=d.canvasBorderWidth,g=d.canvasPadding,f=i.vScrollBar.userConf,v=d.canvasPaddingLeft,d=d.canvasPaddingRight,m=o.ganttpanedurationunit,b=i.hProcessScrollBar,i=(i=i.hScrollBar)&&i.userConf.height||0,b=b&&b.userConf.height||0;a=void 0!==Number(o.ganttpaneduration)&&void 0!==m,m=s.getAxisData("totalWidth"),e=s.getAxisData("totalVisiblelWidth"),i=O(m>e?b:0,a?i:0),n>l-i&&(t=!0),n=t?f.width||0:0,n=o.canvasWidth-(c||0)-O(v,g)-O(d,g)-n,r&&r.setAxisDimention({x:o.canvasLeft+(c||0)+O(v,g),y:o.canvasTop-(o.shift||0),opposite:o.canvasBottom+p,axisLength:n}),o.currentCanvasWidth=n,s&&s.setAxisDimention({x:o.canvasLeft-(o.shift||0),y:o.canvasTop,opposite:o.canvasRight+p,axisLength:o.canvasHeight}),this._manageScrollerPosition(),h.postSpaceManager()},_resetViewPortConfig:function(){this.config.viewPortConfig={scaleX:1,scaleY:1,x:0,y:0}},_manageScrollerPosition:function(){var t,e=this.config,a=this.components,o=a.hScrollBar,i=a.vScrollBar,r=a.hProcessScrollBar,s=e.totalWidth||0,n=e.totalHeight||0;this._setAxisScale&&this._setAxisScale(),t=e.vScrollEnabled,a=e.hScrollEnabled,o=o.getLogicalSpace(),e.hScrollHeight=!1===a?0:o.height+i.conf.padding,o=i.getLogicalSpace(),e.vScrollWidth=!1!==t?o.width+i.conf.padding:0,o=r.getLogicalSpace(),e.hProcessScrollHeight=e.hProcessScrollEnabled?o.height+r.conf.padding:0,n+=O(e.hProcessScrollHeight,e.hScrollHeight),this._allocateSpace({bottom:O(e.hProcessScrollHeight,e.hScrollHeight)}),e.totalWidth=s,e.totalHeight=n},updateManager:function(t,e){var a=this.config,o=this.config.viewPortConfig,i=o.scaleX,r=this.components.xAxis[0],s=this.components.yAxis[0],n=this.graphics.datasetGroup,l=this.graphics.datalabelsGroup,h=this.graphics.trackerGroup,c=a.xOffset||0,d=a.yOffset||0,p=a.canvasHeight,g=a.currentCanvasWidth,f=o.scaleY;e?a.lastHScrollPosition=t:a.lastVScrollPosition=t,e?(c=a.xOffset=g*(i-1)*t,o.x=c/i,r.translateAxis(-c,void 0)):(d=a.yOffset=p*(f-1)*t,o.y=d/f,s.translateAxis(void 0,-d)),a="t"+-c+", "+-d,n.attr({transform:a}),l.attr({transform:a}),h.attr({transform:a})},_setAxisScale:function(){var t=this.components,e=this.config,a=t.xAxis[0],o=a.getLimit(),i=o.max,o=o.min,r=new Date(o),s=t.yAxis[0],n=this.components.numberFormatter,l=Number(e.ganttpaneduration),h=e.scrollOptions||(e.scrollOptions={}),c=e.ganttpanedurationunit,d=i-o,o=e.canvasHeight,p=e.scrolltodate,g=e.canvasWidth,f=e.canvasLeft,v=t.hProcessScrollBar,t=(t=t.hScrollBar)&&t.userConf.height||0,v=v&&v.userConf.height||0,m=a.getPixel(i)-f,i=s.getAxisData("processTotalHeight");if(void 0===l||void 0===c)e.hScrollEnabled=!1;else{switch(c){case"y":r.setFullYear(r.getFullYear()+l);break;case"m":r.setMonth(r.getMonth()+l);break;case"d":r.setDate(r.getDate()+l);break;case"h":r.setHours(r.getHours()+l);break;case"mn":r.setMinutes(r.getMinutes()+l);break;default:r.setSeconds(r.getSeconds()+l)}r=r.getTime(),r=a.getPixel(r)-f,e.hScrollEnabled=!0,e.viewPortConfig.scaleX=r=m/r,h.horizontalVxLength=d/NaN*l,p&&(n=n.getDateValue(p).ms,a=a.getPixel(n),e.viewPortConfig.x=W(a-f,g*(r-1))/r)}a=s.getAxisData("totalWidth"),s=s.getAxisData("totalVisiblelWidth"),e.hProcessScrollEnabled=a>s,s=O(e.hProcessScrollEnabled?v:0,e.hScrollEnabled?t:0),o-=s,Math.floor(i)>o?(e.viewPortConfig.scaleY=i/o,e.vScrollEnabled=!0):e.vScrollEnabled=!1},drawScrollBar:function(){var t,e,o,i,r,s=this,n=s.config,l=s.components,c=l.xAxis[0],d=c.config.axisData,p=c.config.axisRange,g=n.viewPortConfig,f=n.scrollOptions||(n.scrollOptions={}),v=p.max,m=p.min,b=f.horizontalVxLength,u=l.hScrollBar,p=u.node,x=l.vScrollBar,C=x.node,k=l.hProcessScrollBar,y=k.node,F=n.useverticalscrolling,A=v-m,P=n.canvasRight,D=g.scaleX,L=g.scaleY,T=n.vScrollEnabled,S=l.yAxis[0],E=T?x.conf.width:0;t=n.canvasLeft,e=n.canvasTop,o=n.canvasHeight,i=n.canvasWidth,l=l.canvas.config,r=l.canvasBorderWidth,h(r,d.showLine?d.axisLineThickness:0),h(r,d.lineStartExtension),h(r,d.lineEndExtension),f.viewPortMin=m,f.viewPortMax=v,f.scrollRatio=b/A,d=f.windowedCanvasWidth=c.getAxisPosition(b),v=f.fullCanvasWidth=c.getAxisPosition(v-m)-d,c=f.fullCanvasHeight=S.getAxisData("processTotalHeight"),f=f.windowedCanvasHeight=o,m=S.getAxisData("totalWidth"),S=S.getAxisData("totalVisiblelWidth"),L=1/L,!1!==n.hScrollEnabled?(u.draw(t,e+o,{width:i-E,scrollRatio:1/D,scrollPosition:g.x*D/(i*(D-1)),roundEdges:l.isRoundEdges,fullCanvasWidth:v,windowedCanvasWidth:d}),!p&&function(){var t;w.eve.on("raphael.scroll.start."+u.node.id,function(e){t=e,a.raiseEvent("scrollstart",{scrollPosition:e},s.chartInstance)}),w.eve.on("raphael.scroll.end."+u.node.id,function(e){a.raiseEvent("scrollend",{prevScrollPosition:t,scrollPosition:e},s.chartInstance)})}()):u&&u.node&&u.node.hide(),!1!==T&&F?(x.draw(P-E,e,{height:o,scrollRatio:L,roundEdges:l.isRoundEdges,fullCanvasWidth:c,windowedCanvasWidth:f}),!C&&function(){var t;w.eve.on("raphael.scroll.start."+x.node.id,function(e){t=e,a.raiseEvent("scrollstart",{scrollPosition:e},s.chartInstance)}),w.eve.on("raphael.scroll.end."+x.node.id,function(e){a.raiseEvent("scrollend",{prevScrollPosition:t,scrollPosition:e},s.chartInstance)})}()):x&&x.node&&x.node.hide(),m>S?(k.draw(t-S,e+o,{width:S,scrollRatio:S/m,roundEdges:l.isRoundEdges,fullCanvasWidth:v,windowedCanvasWidth:d}),!y&&function(){var t;w.eve.on("raphael.scroll.start."+k.node.id,function(e){t=e,a.raiseEvent("scrollstart",{scrollPosition:e},s.chartInstance)}),w.eve.on("raphael.scroll.end."+k.node.id,function(e){a.raiseEvent("scrollend",{prevScrollPosition:t,scrollPosition:e},s.chartInstance)})}()):k&&k.node&&k.node.hide()},_createLayers:function(){var t,e,a=this.components.paper;s.mscartesian._createLayers.call(this),e=this.graphics,t=e.datasetGroup,e.parentTaskGroup=e.parentTaskGroup||a.group("parentTaskGroup",t),e.parentConnectorsGroup=e.parentConnectorsGroup||a.group("parentConnectorsGroup",t),e.parentMilestoneGroup=e.parentMilestoneGroup||a.group("parentMilestoneGroup",t)},_drawDataset:function(){this._setClipping(),s.mscartesian._drawDataset.call(this)},drawLegend:function(){var t=this.config,e=this.components.legend,a=e.config,o=a.width,i=a.height,r=t.marginLeft,s=t.marginTop,n=t.width,l=t.marginRight,h=t.marginBottom,c=t.totalWidth+t.canvasWidth,d=t.totalHeight+t.canvasHeight,t=t.height;"right"===a.legendPos?(a=d-i,o=n-o-l,i=s+(0>a?0:a)/2):(a=c-o,o=r+(0>a?0:a)/2,i=t-i-h),e.drawLegend(o,i)},_setClipping:function(){var t=this.config,e=this.graphics.datasetGroup,a=this.graphics.datalabelsGroup,o=this.graphics.trackerGroup,i=t.viewPortConfig,r=i.scaleX,i=i.x,s=this.config.animationObj,n=s.dummyAnimElem,l=s.animObj,h=s.animType,s=s.transposeAnimDuration,c=this.components.canvas.config.clip["clip-canvas"].slice(0);this.config.clipSet?(e.animateWith(n,l,{"clip-rect":c},s,h),a.animateWith(n,l,{"clip-rect":c},s,h),o.animateWith(n,l,{"clip-rect":c},s,h)):(e.attr({"clip-rect":c}),a.attr({"clip-rect":c}),o.attr({"clip-rect":c})),t.xOffset=i*r,e.attr({transform:"T"+-(i*r)+",0"}),a.attr({transform:"T"+-(i*r)+",0"}),o.attr({transform:"T"+-(i*r)+",0"}),this.config.clipSet=!0},_createToolBox:function(){var t,e,a=this.components,o=a.yAxis[0],i=this._scrollBar,r=i.get,n=i.add;(a.chartMenuBar||{}).drawn||(s.mscartesian._createToolBox.call(this),t=a.tb,e=a.toolBoxAPI,e=e.Scroller,i.clear(),n({isHorizontal:!0},{scroll:function(t,e){return function(a){t.updateManager.call(t,a,e)}}(this,!0)}),n({isHorizontal:!1},{scroll:function(t,e){return function(a){t.updateManager.call(t,a,e)}}(this,!1)}),n({isHorizontal:!0},{scroll:function(){return function(t){o.manageProcessScroll(t)}}(this,!0)}),i=r()[0],n=r()[1],r=r()[2],a.hScrollBar=a.hScrollBar||new e(i.conf,1,t.pId).attachEventHandlers(i.handler),a.vScrollBar=a.vScrollBar||new e(n.conf,2,t.pId).attachEventHandlers(n.handler),a.hProcessScrollBar=a.hProcessScrollBar||new e(r.conf,3,t.pId).attachEventHandlers(r.handler))},_preDraw:function(){this._setAxisValuePadding(),this._setCategories()},defaultPaletteOptions:function(){var t=arguments;return o.extend2(o.extend2(o.extend2(o.extend2({},t[0]),t[1]),t[2]),t[3])}(n({},o.defaultGaugePaletteOptions),{paletteColors:["AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" ")],bgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],bgAngle:[270,270,270,270,270],bgRatio:["100","100","100","100","100"],bgAlpha:["100","100","100","100","100"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],gridColor:["DDDDDD","D8DCC5","99C4CD","DEC49C","FEC1D0"],gridResizeBarColor:["999999","545454","415D6F","845001","D55979"],categoryBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],dataTableBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["666666","545454","415D6F","845001","D55979"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],plotFillColor:["EEEEEE","D8DCC5","BCD8DE","E9D8BE","FEDAE3"],scrollBarColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"]})},s.scrollbase,{taskbarroundradius:0,taskbarfillmix:" { light-10 }, { dark-20 }, { light-50 }, { light-85 }",taskbarfillratio:"0,8,84,8",showslackasfill:1,dateintooltip:1,tasklabelsalign:"center",datepadding:3,showtasknames:0,showpercentlabel:!1,showhovereffect:1,slackfillcolor:"FF5E5E",connectorextension:10,tasklabelspadding:2,taskdatepadding:3,showlabels:void 0,showtooltip:1,showtaskhovereffect:void 0,useverticalscrolling:1,ganttpanedurationunit:void 0,ganttpaneduration:void 0,showtaskstartdate:void 0,showtaskenddate:void 0,ganttwidthpercent:void 0,showshadow:1}),g&&g({showpercentlabel:{type:S,pAttr:"showpercentlabel"},fontsize:{type:T},alpha:{type:T},showborder:{type:S},borderthickness:{type:T},borderalpha:{type:T},showHoverEffect:{type:T},hoverFillAlpha:{type:T},slackHoverFillColor:{type:T},slackHoverFillAlpha:{type:S},showlabels:{type:S,pAttr:"showtasknames"},slackfillcolor:{pAttr:"slackfillcolor"},showtasklabels:{type:S,pAttr:"showtasknames"},showtasknames:{type:S,pAttr:"showlabels"},showconnectorhovereffect:{type:T,pAttr:"showhovereffect"},connectorextension:{type:T},tasklabelspadding:{type:T},taskdatepadding:{type:T},showstartdate:{type:T,pAttr:"showtaskstartdate"},showenddate:{type:T,pAttr:"showtaskenddate"},showtaskhovereffect:{type:T,pAttr:"showhovereffect"},useverticalscrolling:{type:T},taskbarroundradius:{type:T},showshadow:{type:T}}),FusionCharts.register("component",["dataset","Task",{type:"task",configure:function(){var t=n({},this.JSONData);this.__setDefaultConfig(),p(t,this.config,this.chart&&this.chart.config,{task:!0}),this._setConfigure()},_setConfigure:function(t){var e=this.config,a=this.chart,i=a.jsonData,r=i.chart,s=this.JSONData;t=t||s.task;var n,c,p,g,f,C,w,k,y,F,P,L,T,S,E,H,_,M,N,V,z=(i.processes||{}).process||[],i=t&&t.length,I=a.components.colorManager,j=a.get("config"),G=a.get("components","numberFormatter"),R=j.taskbarfillmix,X=j.taskbarfillratio,U=j.showslackasfill,J=this.components.data,Y=j.dateintooltip,z=z.length,$={right:"right",left:"left",undefined:"center",center:"center"},Z=a.components.tasksMap={},q=j.style.inCanvasStyle,K=0;if(J||(J=this.components.data=[]),e.showlabels=l(s.showlabels,s.showlabels,s.showname,r.showtasklabels,r.showtasknames,0),i)for(a=0;i>a;a+=1)y=t[a],n=K%z,(F=l(y.processid))&&"string"==typeof F&&(F=F.toLowerCase()),V=y.id,P=h(y.alpha,e.alpha),E=l(y.color,e.color,I.getColor("plotFillColor")),L=h(y.borderalpha,e.borderalpha,"100"),T=l(y.bordercolor,e.bordercolor,I.getColor("plotBorderColor")),S=u(l(y.label,y.name),""),g=I.parseColorMix(E,R),f=I.parseAlphaList(P.toString(),g.length),C=I.parseRatioList(X,g.length),H=h(y.angle,e.angle),k=J[a]||(J[a]={config:{}}),k=k.config,k.index=a,k.link=y.link,k.processId=l(y.processid,"__FCDPID__"+n),k.style={color:d(l(y.fontcolor,e.fontcolor,q.color)),fontSize:h(y.fontsize,e.fontsize,q.fontSize)+"px",fontFamily:l(y.font,e.font,q.fontFamily)},A(k.style),k.startMs=G.getDateValue(y.start).ms,k.endMs=G.getDateValue(y.end).ms,p=G.getFormattedDate(k.startMs),c=G.getFormattedDate(k.endMs),k.tAlpha=P,k.tBorderColor=T,k.tBorderAlpha=L,w="",k.percentComplete=n=W(h(y.percentcomplete,-1),100),k.labelAlign=$[[l(y.labelalign,j.tasklabelsalign).toLowerCase()]],k.showAsGroup=h(y.showasgroup,0),_=k.showPercentLabel=h(y.showpercentlabel,e.showpercentlabel),h(y.showlabel,y.showname,e.showlabels)&&(w=S),_&&-1!==n&&(w+=" "+n+"%"),k.percentComplete=n,N={FCcolor:{color:g.join(),alpha:f,ratio:C,angle:H}},M=I.parseColorMix(l(y.slackfillcolor,e.slackfillcolor),R),M=U?{FCcolor:{color:M.join(),alpha:f,ratio:C,angle:H}}:B,f={FCcolor:{color:I.parseColorMix(l(y.hoverfillcolor,e.hoverfillcolor,j.taskhoverfillcolor,m(E,80)),R).join(),alpha:I.parseAlphaList(l(y.hoverfillalpha,e.hoverfillalpha).toString(),g.length),ratio:C,angle:H}},E=v(l(y.hoverbordercolor,e.hoverbordercolor,m(T,80)),l(y.hoverborderalpha,e.hoverborderalpha,L)),g=U?{FCcolor:{color:I.parseColorMix(m(l(y.slackhoverfillcolor,e.slackhoverfillcolor,j.slackfillcolor),80),R).join(),alpha:I.parseAlphaList(l(y.slackhoverfillalpha,e.slackhoverfillalpha,"100").toString(),g.length),ratio:C,angle:H}}:B,k.color=D(N),k.slackColor=D(M),k.hoverFillColor=D(f),k.hoverBorderColor=E,k.slackHoverColor=D(g),k.showHoverEffect=h(y.showhovereffect,e.showhovereffect,j.showtaskhovereffect,1),k.taskHeight=l(y.height,"35%"),k.topPadding=l(y.toppadding,"35%"),k.showPercentLabel=_,k.endDate=h(y.showenddate,e.showenddate)?c:void 0,k._endDate=c,k.startDate=h(y.showstartdate,e.showstartdate)?p:void 0,k._startDate=p,k.shadow={opacity:O(P,L)/100,inverted:!0},k.id=F,k.taskId=V,k.borderColor=v(T,L),k.borderThickness=h(y.showborder,e.showborder)?h(y.borderthickness,e.borderthickness):0,y=x(b(l(y.tooltext,e.hovertext,e.plottooltext,r.plottooltext))),y=void 0!==y?o.parseTooltext(y,[3,28,29,30,31],{end:c,start:p,label:S,percentComplete:-1!==n?G.percentValue(n):"",processName:""},e):(""!==S?S+(Y?", ":""):"")+(Y?p+" - "+c:""),k.label=w,k.toolText=y,"string"==typeof V&&(V=V.toLowerCase()),void 0!==V&&(Z[V]=J[a]),K+=1;this.visible=h(s.visible,1)},getAxisValuePadding:function(){},draw:function(){var t;t=this.visible;var e,a=this.chart,o=a.jsonData,i=a.get("config"),r=a.get("config","animationObj"),s=r.duration,n=r.dummyObj,l=r.animObj,r=r.animType,c=a.components,d=i.canvasTop,p=c.paper,c=c.xAxis[0],g=this.yAxis;e=a.graphics.parentTaskGroup;var f,v,m=this.components,b=m.data,u=m.removeDataArr,x=u&&u.length,C=a.config.dataLabelStyle;f=a.graphics.datalabelsGroup;var k=this.graphics.dataLabelContainer;v={fontFamily:C.fontFamily,fontSize:C.fontSize,lineHeight:C.lineHeight,fontWeight:C.fontWeight,fontStyle:C.fontStyle,color:C.color};var y,F,A,P,D,L,T,S,E,H,_,O,z,I,U,Y,$,C=function(){k.show(),a._animCallBack()},Z=this.graphics,q=Z.container,Z=Z.shadowContainer,m=m.pool||[];$=i.showtooltip;var K=i.datepadding,Q=i.viewPortConfig,tt=Q.x,o=o.processes.process&&o.processes.process.length,Q=Q.scaleX,et=i.taskbarroundradius,at=i.showshadow;for(q||(q=this.graphics.container=p.group("columns",e),t?q.show():q.hide()),k||(k=this.graphics.dataLabelContainer=p.group("labels",f),t?k.show():k.hide()),a._addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",v),Z||(Z=this.graphics.shadowContainer=p.group("shadow",e).toBack(),t||Z.hide()),$?q.trackTooltip(!0):q.trackTooltip(!1),e=b.length,t=$=0;e>t;t++)F=(v=(f=b[t])&&f.config)&&v.startMs,A=v&&v.endMs,void 0!==f&&void 0!==F&&null!==A&&(P=v.toolText,A=v.taskHeight,F=v.link,O=v.borderThickness,D=v.id,Y=v.color,z=!1,$>o-1&&($=0),S=void 0!==v.id?g.getProcessPositionById(D):g.getProcessPositionByIndex($),$++,L=S.height,E=L*(/%/g.test(v.topPadding)&&.01*V(v.topPadding,10))||h(v.topPadding,L),A=v.height=L*(/%/g.test(A)&&.01*V(A,10))||h(A,L),void 0!==v.id&&g.getProcessPositionById(D),D=v.xPos=c.getAxisPosition(v.startMs)+tt*Q,y=c.getAxisPosition(v.endMs)+tt*Q,y=v.width=M(T=y-D),S=S.bottom+d-L,S=v.yPos=S+W(E,L-A),I=.5*A,!f.graphics&&(f.graphics={}),U=w.crispBound(D,S,y,A,O),D=U.x,S=U.y,y=U.width,A=U.height,!1!==J(D,S,y,A)&&(E=f.graphics.element,v.showAsGroup?(L="path",T={path:["M",D,S]},I={path:["M",D,S,"v",A,"L",D+I,S+I,"H",D+y-I,"L",D+y,S+A,"v",-A,"H",D]}):(L="rect",I={x:U.x,y:U.y,width:U.width||1,height:A},T=s?{x:U.x,y:U.y,width:0,height:A}:I),E&&E&&E.type!==L&&(E.hide(),E=f.graphics.element=null),E||(L=v.showAsGroup?"path":"rect",m.element&&m.element.length&&(E=m.element[0]).type===L?f.graphics.element=E=m.element.shift():(E=f.graphics.element=p[L](q).attr(T).data("dataset",this),z=!0,this.slackElemHandlers(E,a))),L={processId:v.processId,taskId:v.taskId,start:v._startDate,end:v._endDate,showAsGroup:v.showAsGroup,link:v.link,sourceType:"task",percentComplete:-1!==v.percentComplete},-1===v.percentComplete||v.showAsGroup?(f.graphics.taskFill&&f.graphics.taskFill.hide(),f.graphics.slackElem&&f.graphics.slackElem.hide()):(T=y*v.percentComplete*.01,Y=B,H=f.graphics.taskFill,_=f.graphics.slackElem,H||(m.taskFill&&m.taskFill.length?H=f.graphics.taskFill=m.taskFill.shift():(H=f.graphics.taskFill=p.rect(q),this.slackElemHandlers(H,a),z=!0,H.attr({x:D,y:S,height:A,width:s?0:T}))),_||(m.slackElem&&m.slackElem.length?_=f.graphics.slackElem=m.slackElem.shift():(_=f.graphics.slackElem=p.rect(q),this.slackElemHandlers(_,a),z=!0,_.attr({x:D,y:S,width:0,height:A}))),H.show().animateWith(n,l,{x:D,y:S,height:A,width:T,r:0},s,r),H.attr({fill:v.color,cursor:F?"pointer":"",ishot:!0,"stroke-width":0}).data("chart",a).data("dataObj",f).data("dataset",this).tooltip(P),_.show().animateWith(n,l,{x:D+T||1,y:S,width:y-T,height:A,r:0},s,r),_.attr({fill:v.slackColor,cursor:F?"pointer":"",ishot:!0,"stroke-width":0}),H&&H.data("eventArgs",L),_&&_.data("eventArgs",L).data("dataObj",f).data("dataset",this).data("chart",a)),E.show().animateWith(n,l,I,s,r).attr({fill:Y,stroke:v.borderColor,cursor:F?"pointer":"",ishot:!0,r:et,"stroke-width":O}).shadow({opacity:at},Z).tooltip(P).data("dataObj",f).data("chart",a).data("dataset",this).data("eventArgs",L),s&&z&&(k.hide(),E.animateWith(n,l,{width:U.width||1},s,r,C)),O=f.graphics.label,j(v.label)&&""!==v.label?(P=v.labelAlign,O||(m.valElem&&m.valElem.length?O=f.graphics.label=m.valElem.shift():(O=f.graphics.label=p.text(k).data("dataset",this),this.slackElemHandlers(O,a))),O.show().animateWith(n,l,{x:D+y*R[P]+X[P],y:S-.5*N(v.style.lineHeight,10)-i.tasklabelspadding},s,r).attr({text:v.label,"text-anchor":G[P],direction:i.textDirection,cursor:F?"pointer":"",ishot:!0}).css(v.style).data("dataObj",f).data("dataObj",f).data("eventArgs",L)):O&&O.hide().attr({"text-bound":[]}),P=f.graphics.startLabel,j(v.startDate)&&""!==v.startDate?(P||(m.startValElem&&m.startValElem.length?P=f.graphics.startLabel=m.startValElem.shift():(P=f.graphics.startLabel=p.text(k).data("dataset",this),this.slackElemHandlers(P,a))),P.show().animateWith(n,l,{x:D-2-K,y:S+.5*A},s,r).attr({text:v.startDate,"text-anchor":"end",cursor:F?"pointer":"",ishot:!0,direction:i.textDirection}).css(v.style).data("dataObj",f).data("chart",a).data("eventArgs",L)):P&&P.hide().attr({"text-bound":[]}),P=f.graphics.endLabel,j(v.endDate)&&""!==v.endDate?(P||(m.endValElem&&m.endValElem.length?P=f.graphics.endLabel=m.endValElem.shift():(P=f.graphics.endLabel=p.text(k).data("dataset",this),this.slackElemHandlers(P,a))),P.show().animateWith(n,l,{x:D+y+2+K,y:S+.5*A},s,r).attr({text:v.endDate,cursor:F?"pointer":"",ishot:!0,direction:i.textDirection,"text-anchor":"start"}).css(v.style).data("dataObj",f).data("chart",a).data("eventArgs",L)):P&&P.hide().attr({"text-bound":[]})));for(this.drawn=!0,t=0;x>t;t++)this._removeDataVisuals(u.shift());
},slackElemHandlers:function(t,e){var a=this;t&&t.click(function(t){I.call(this,e,t)}).hover(function(t){var o=this.data("dataObj");I.call(this,e,t,"DataPlotRollOver"),o.config.showHoverEffect&&a.taskHoverHandler.call(this,e)},function(t){var o=this.data("dataObj");I.call(this,e,t,"DataPlotRollOut"),o.config.showHoverEffect&&a.taskHoverOutHandler.call(this,e)})},taskHoverHandler:function(){var t=this.data("dataObj")||{},e=this.data("dataset").components.data,t=t.config||{},a=t.index,e=e[a]&&e[a].graphics,a={fill:t.hoverFillColor,stroke:t.hoverBorderColor};-1===t.percentComplete||t.showAsGroup||(e.slackElem.attr({fill:t.slackHoverColor}),e.taskFill.attr({fill:t.hoverFillColor}),delete a.fill),e.element.attr(a)},taskHoverOutHandler:function(){var t=this.data("dataObj")||{},e=(this.data("dataset")||{}).components.data,t=t.config||{},a=t.index,e=e[a]&&e[a].graphics,a={fill:t.color,stroke:t.borderColor,"stroke-width":t.borderThickness,"stroke-dasharray":t.dashedStyle};e&&(-1===t.percentComplete||t.showAsGroup||(e.slackElem.attr({fill:t.slackColor}),e.taskFill.attr({fill:t.color}),delete a.fill),e.element.attr(a))},slackElemClickHandler:function(t){var e=this.data("chart");I.call(this,e,t)},_removeDataVisuals:function(t){var e,a,o,i=this.components.pool||(this.components.pool={});if(t)for(e in a=t.graphics)t=i[e]||(i[e]=[]),o=a[e],o.hide&&"function"==typeof o.hide&&(o.attr({"text-bound":[]}),o.hide(),o.transform&&o.transform("")),t.push(a[e])}},"column",{showpercentlabel:void 0,showlabels:void 0,showborder:1,borderthickness:1,font:"",fontcolor:"",fontsize:"",color:"",alpha:"100",angle:270,slackfillcolor:void 0,borderalpha:"100",hoverfillcolor:"",hoverfillalpha:"100",slackhoverfillalpha:"100",showstartdate:void 0,showenddate:void 0}]),FusionCharts.register("component",["dataset","Milestone",{type:"Milestone",configure:function(){var t=this.config,e=n({},this.JSONData);this.__setDefaultConfig(),p(e,t,{milestones:!0}),this._setConfigure()},_setConfigure:function(t){var e,a,i,r,s,n,c,p,g=this.chart,f=this.JSONData,v=(t=t||f.milestone)&&t.length,C=g.components.colorManager,w=g.get("config"),k=g.get("components","numberFormatter"),y=this.components.data,F=g.config.style,P=F.inCanvasStyle,g=g.components.tasksMap;for(y||(y=this.components.data=[]),a=0;v>a;a+=1)i=t[a],(e=y[a])||(e=y[a]={config:{}}),e=e.config,p=u(i.taskid,"").toLowerCase(),s=l(i.shape,"polygon").toLowerCase(),r=h(i.numsides,5),n=0,"star"===s?n=.4:(_(r),_(r).split("-")),s=l(i.color,C.getColor("legendBorderColor")),c=x(b(l(i.tooltext,i.hovertext,w.milestonetooltext))),void 0!==c&&g[p]?(F=g[p].config,c=o.parseTooltext(c,[28,32,33,34,35,36],{date:k.getFormattedDate(i.date),taskStartDate:F._startDate,taskEndDate:F._endDate,taskLabel:F.label,taskPercentComplete:-1!==F.percentComplete?k.percentValue(F.percentComplete):"",processName:""},i)):(F=new Date(i.date).getTime(),c=isNaN(F)?i.date:k.getFormattedDate(i.date)),F={color:d(l(i.fontcolor,w.milestonefontcolor,P.color)),fontSize:h(i.fontsize,w.milestonefontsize,P.fontSize)+"px",fontFamily:l(i.font,w.milestonefont,P.fontFamily),fontWeight:h(i.fontbold,w.milestonefontbold,0)&&"bold"||"normal",fontStyle:h(i.fontitalic,w.milestonefontitalic,0)&&"italic"||"normal"},A(F),e.numSides=r,e.startAngle=h(i.startangle,90),e.radius=i.radius,e.origDate=i.date,e.date=k.getDateValue(i.date),e.fillColor=d(s),e.fillAlpha=.01*h(i.fillalpha,i.alpha,100),e.borderColor=d(l(i.bordercolor,s)),e.borderAlpha=.01*h(i.borderalpha,i.alpha,100),e.displayValue=b(i.label),e.style=F,e.hoverFillColor=d(l(i.hoverfillcolor,w.milestonehoverfillcolor,m(s,80))),e.hoverFillAlpha=.01*h(i.hoverfillalpha,w.milestonehoverfillalpha,i.fillalpha,i.alpha,100),e.hoverBorderColor=d(l(i.hoverbordercolor,w.milestonehoverbordercolor,m(l(i.bordercolor,s),80))),e.hoverBorderAlpha=.01*h(i.hoverborderalpha,w.milestonehoverborderalpha,i.borderalpha,i.alpha,100),e.showHoverEffect=h(i.showhovereffect,w.showmilestonehovereffect,w.showhovereffect,1),e.depth=n,e.taskId=p,e.borderThickness=h(i.borderthickness,1),e.link=i.link,e.toolText=c;this.visible=h(f.visible,1)},draw:function(){var t,e,a,o,i,r,s,n,l,c=this.chart,d=c.components,p=d.xAxis[0],g=this.components.data,f=d.tasksMap,v=c.config,m=c.get("config","animationObj"),b=m.duration,u=c.graphics.datalabelsGroup,x=this.graphics.container,C=c.graphics.parentMilestoneGroup,k=this.graphics.dataLabelContainer,y=this.visible,d=d.paper,F=this.components.removeDataArr||[],A=F.length,P=m.dummyObj,D=m.animObj,m=m.animType;a=v.showtooltip;var L=this.components.pool||[];for(x||(x=this.graphics.container=d.group("milestone",C),y?x.show():x.hide()),k||(k=this.graphics.dataLabelContainer=d.group("labels",u),y?k.show():k.hide()),a?x.trackTooltip(!0):x.trackTooltip(!1),l=g&&g.length,n=0;l>n;n+=1)(u=g[n])&&(y=u.config,t=f[y.taskId],!u.graphics&&(u.graphics={}),C=u.graphics,a=C.element,s=C.label,t?(e=t.config,r=w.animation({"fill-opacity":y.fillAlpha,"stroke-opacity":y.borderAlpha},b,m),t={sides:y.sides,date:y.origDate,radius:y.radius,taskId:y.taskId,toolText:y.toolText,link:y.link,numSides:y.numSides},o=p.getPixel(y.date.ms),i=e.yPos+.5*e.height,e=h(y.radius,.6*e.height),!1!==J(o,i,e)&&(e=[y.numSides,o,i,e,y.startAngle,y.depth],a||(a=L.element&&L.element.length?C.element=L.element.shift():C.element=d.polypath(x).click(this.clickHandler(c)).hover(this.rollOverHandler(c),this.rollOutHandler(c))),a.show().animateWith(P,D,{polypath:e},b,m).attr({fill:y.fillColor,"fill-opacity":b?0:y.fillAlpha,stroke:y.borderColor,"stroke-opacity":b?0:y.borderAlpha,groupId:"gId"+n,ishot:!0,cursor:y.link?"pointer":"","stroke-width":y.borderThickness}).tooltip(y.toolText).data("eventArgs",t).data("dataObj",u),""!==y.displayValue&&void 0!==y.displayValue&&(s||(s=L.label&&L.label.length?C.label=L.label.shift():C.label=d.text(k).click(this.clickHandler(c)).hover(this.rollOverHandler(c),this.rollOutHandler(c))),s.show().animateWith(P,D,{x:o,y:i},b,m).attr({text:y.displayValue,groupId:"gId"+n,cursor:y.link?"pointer":"",ishot:!0,direction:v.textDirection,"text-anchor":"middle"}).css(y.style).tooltip(y.toolText).data("eventArgs",t).data("dataObj",u)),b&&r&&C.element.animate(r.delay(b)))):(a&&a.hide(),s&&s.hide().attr({"text-bound":[]})));for(n=0;A>n;n++)this._removeDataVisuals(F.shift())},clickHandler:function(t){return function(e){I.call(this,t,e,"MilestoneClick")}},rollOverHandler:function(t){return function(e){var a=this.data("dataObj"),o=a.config;I.call(this,t,e,"MilestoneRollOver"),o.showHoverEffect&&a.graphics.element.attr({fill:o.hoverFillColor,stroke:o.hoverBorderColor,"fill-opacity":o.hoverFillAlpha,"stroke-opacity":o.hoverBorderAlpha})}},rollOutHandler:function(t){return function(e){var a=this.data("dataObj"),o=a.config;I.call(this,t,e,"MilestoneRollOut"),o.showHoverEffect&&a.graphics.element.attr({fill:o.fillColor,stroke:o.borderColor,"fill-opacity":o.fillAlpha,"stroke-opacity":o.borderAlpha})}}},"Task",{showpercentlabel:0,showstartdate:0,showenddate:0,showlabels:void 0,showborder:1,borderthickness:1,showHoverEffect:1,slackFillColor:"FF5E5E",font:"",fontcolor:"",fontsize:"",color:"",alpha:"100",bordercolor:"",borderalpha:"100",hoverFillColor:"",hoverFillAlpha:"100",slackHoverFillColor:10,slackHoverFillAlpha:"100"}]),FusionCharts.register("component",["dataset","Connectors",{configure:function(){var t=this.config,e=n({},this.JSONData);this.__setDefaultConfig(),p(e,t,{connector:!0}),this._setConfigure()},_setConfigure:function(t){var e,a,o,i,r,s,n,c=this.config,d=this.chart,p=this.JSONData,g=(t=t||p.connector)&&t.length||0,f=d.components.colorManager,d=d.get("config"),b=this.components.data;for(b||(b=this.components.data=[]),e=0;g>e;e+=1)o=t[e],(a=b[e])||(a=b[e]={config:{}}),!a.config&&(a.config={}),a=a.config,i=l(o.color,c.color,f.getColor("plotBorderColor")),r=h(o.alpha,c.alpha,100),s=h(o.thickness,c.thickness,1),n=h(o.isdashed,c.isdashed,1),a.fromTaskId=u(o.fromtaskid,"").toLowerCase(),a.toTaskId=u(o.totaskid,"").toLowerCase(),a.fromTaskConnectStart=h(o.fromtaskconnectstart,0),a.toTaskConnectStart=h(o.totaskconnectstart,1),a.color=v(i),a.alpha=.01*r,a.link=o.link,a.showHoverEffect=h(o.showhovereffect,c.showhovereffect,d.showconnectorhovereffect,1),a.hoverColor=v(l(o.hovercolor,c.hovercolor,d.connectorhovercolor,m(i,80)),h(o.hoveralpha,c.hoveralpha,d.connectorhoveralpha,r)),a.hoverThickness=h(o.hoverthickness,c.hoverthickness,d.connectorhoverthickness,s),a.thickness=s,a.dashedStyle=n?P(h(o.dashlen,c.dashlen,5),h(o.dashgap,c.dashgap,s),s):"none";this.visible=h(p.visible,1)},draw:function(){var t,e,a,o,i,r,s,n,l,h,c,d,p,g,f,v,m=this.chart,b=m.components,u=this.components.data,x=b.paper,C=u.length,b=b.tasksMap,k=m.config.connectorextension,y=m.graphics.parentConnectorsGroup,F=this.graphics.container,A=this.components.pool||[],P=this.visible,D=m.get("config","animationObj"),L=D.duration,T=D.dummyObj,S=D.animObj,D=D.animType,E=this.components.removeDataArr||[],H=E.length;for(F||(F=this.graphics.container=x.group("connectors",y),P?F.show():F.hide()),v=0;C>=v;v+=1)if(y=u[v])if(c=y.config,!y.graphics&&(y.graphics={}),P=y.graphics,t=c.fromTaskId&&c.fromTaskId.toLowerCase(),e=c.toTaskId&&c.toTaskId.toLowerCase(),t=b[t],a=b[e],e=P.connector,t&&a){if(d=t.config,n=a.config,t=d.yPos+.5*d.height,a=n.yPos+.5*n.height,o=t==a,i=d.xPos,r=d.xPos+d.width,s=n.xPos,n=n.xPos+n.width,!1!==J(i,r,s,n)){if(h=0,0===c.fromTaskConnectStart&&1===c.toTaskConnectStart&&(h=1),0===c.fromTaskConnectStart&&0===c.toTaskConnectStart&&(h=2),1===c.fromTaskConnectStart&&1===c.toTaskConnectStart&&(h=3),1===c.fromTaskConnectStart&&0===c.toTaskConnectStart&&(h=4),o)switch(d=d.height,h){case 1:l=(s-r)/10,l=["M",r,t,r+l,t,"L",r+l,t,r+l,t-d,"L",r+l,t-d,s-l,t-d,"L",s-l,t-d,s-l,t,"L",s-l,t,s,a];break;case 2:l=["M",r,t,r+k,t,"L",r+k,t,r+k,t-d,"L",r+k,t-d,n+k,t-d,"L",n+k,a-d,n+k,a,n,a];break;case 3:l=["M",i,t,i-k,t,"L",i-k,t,i-k,t-d,"L",i-k,t-d,s-k,t-d,"L",s-k,t-d,s-k,t,"L",s-k,t,s,t];break;case 4:l=["M",i,t,i-k,t,"L",i-k,t,i-k,t-d,"L",i-k,t-d,n+k,t-d,"L",n+k,t-d,n+k,t,"L",n+k,t,n,t]}else switch(h){case 1:l=s>=r?["M",r,t,r+(s-r)/2,t,"L",r+(s-r)/2,t,r+(s-r)/2,a,"L",r+(s-r)/2,a,s,a]:["M",r,t,r+k,t,"L",r+k,t,r+k,t+(a-t)/2,"L",r+k,t+(a-t)/2,s-k,t+(a-t)/2,"L",s-k,t+(a-t)/2,s-k,a,"L",s-k,a,s,a];break;case 2:l=0>n-r?0:n-r,l=["M",r,t,r+k+l,t,"L",r+k+l,t,r+k+l,a,"L",r+k+l,a,n,a];break;case 3:l=0>i-s?0:i-s,l=["M",i,t,i-k-l,t,"L",i-k-l,t,i-k-l,a,"L",i-k-l,a,s,a];break;case 4:l=i>n?["M",i,t,i-(i-n)/2,t,"L",i-(i-n)/2,t,i-(i-n)/2,a,"L",i-(i-n)/2,a,n,a]:["M",i,t,i-k,t,"L",i-k,t,i-k,t+(a-t)/2,"L",i-k,t+(a-t)/2,n+k,t+(a-t)/2,"L",n+k,t+(a-t)/2,n+k,a,"L",n+k,a,n,a]}e||(e=A.connector&&A.connector.length?P.connector=A.connector.shift():P.connector=x.path(F),L?(f=w.animation({"stroke-opacity":c.alpha},L,D),p=0,g=L):p=c.alpha),e.show().animateWith(T,S,{path:l},L,D).attr({stroke:c.color,"stroke-opacity":p,"stroke-width":c.thickness,"stroke-dasharray":c.dashedStyle}),f&&e.animate(f.delay(g||0)),e={fromTaskId:c.fromTaskId,toTaskId:c.toTaskId,fromTaskConnectStart:c.fromTaskConnectStart,toTaskConnectStart:c.toTaskConnectStart,link:c.link,sourceType:"connector"},t=P.tracker,t||(t=A.tracker&&A.tracker.length?P.tracker=A.tracker.shift():P.tracker=x.path(F).click(this.connectorClick(m)).hover(this.rollOverHandler(m),this.rollOutHandler(m))),t.attr({path:l,stroke:B,"stroke-width":O(c.thickness,10),ishot:!0,cursor:c.link?"pointer":""}).data("dataObj",y).data("eventArgs",e)}}else e&&e.hide();for(v=0;H>v;v++)this._removeDataVisuals(E.shift())},connectorClick:function(t){return function(e){I.call(this,t,e,"ConnectorClick")}},rollOverHandler:function(t){return function(e){var a=this.data("dataObj"),o=a.config,i=t.components.tasksMap,r=i[o.fromTaskId],i=i[o.toTaskId],s={stroke:o.hoverColor,"stroke-dasharray":o.dashedStyle,"stroke-width":o.hoverThickness},a=a.graphics.connector;I.call(this,t,e,"ConnectorRollOver"),o.showHoverEffect&&(L([r,i],function(t){var e={fill:t.config.hoverFillColor,stroke:t.config.hoverBorderColor},a=t.graphics.slackElem,o=t.graphics.element,i=t.graphics.taskFill;t.config.percentComplete&&!t.config.showAsGroup&&(a&&a.attr({fill:t.config.slackHoverColor}),i&&i.attr({fill:t.config.hoverFillColor,stroke:t.config.hoverBorderColor}),delete e.fill),o&&o.attr(e)}),a&&a.attr(s))}},rollOutHandler:function(t){return function(e){var a=this.data("dataObj"),o=a.config,i=t.components.tasksMap,r=i[o.fromTaskId],i=i[o.toTaskId],s={stroke:o.color,"stroke-width":o.thickness,"stroke-dasharray":o.dashedStyle},a=a.graphics.connector;I.call(this,t,e,"ConnectorRollOut"),o.showHoverEffect&&(L([r,i],function(t){var e={fill:t.config.color,stroke:t.config.borderColor,"stroke-width":t.config.borderThickness,"stroke-dasharray":t.config.dashedStyle},a=t.graphics.slackElem,o=t.graphics.element,i=t.graphics.taskFill;t.config.percentComplete&&!t.config.showAsGroup&&(a&&a.attr({fill:t.config.slackColor}),i&&i.attr({fill:t.config.color}),delete e.fill),o&&o.attr(e)}),a&&a.attr(s))}}},"Task",{isdashed:1,thickness:1}]),FusionCharts.get("component",["axis","ganttCommon",{_drawPlotLine:function(){var t,e,a,o,i,r=this.config,s=this.chart,n=r.canvas,l=s.config,h=r.axisData.ganttPlotLineContainer,c=n.canvasBottom||l.canvasBottom,d=n.canvasLeft||l.canvasLeft,p=n.canvasRight||l.canvasRight,g=n.canvasTop||l.canvasTop,f=s.components.paper,v=r.gridArr,n=this.graphics.line||[],l=r.animateAxis,m=0,b=[];for(t=s.get("config","animationObj"),o=t.animObj,i=t.dummyObj,s=t.transposeAnimDuration,t=t.animType,r={"stroke-dasharray":r.plotLineDashStyle,"stroke-width":r.plotLineThickness,stroke:r.plotLineColor},e=0,a=v.length;a>e;e+=1)void 0!==v[e].x?b.push("M",v[e].x,g,"L",v[e].x,c):b.push("M",d,v[e].y,"L",p,v[e].y);for(n[m]?(h=n[m].graphics,s&&l?h.animateWith(i,o,{path:b},s,t):h.attr({path:b}),h.attr(r)):(h=f.path(b,h),h.attr(r),n[m]={},n[m].graphics=h),e=m+1,a=n.length;a>e;e+=1)n[e].graphics.attr({path:"M0,0"});this.graphics.line=n},_drawPlotBand:function(){},translateAxis:function(t,e){var a,o,i=this.config,r=i.axisData,s=i.isVertical,n=r.lastTranslate||(r.lastTranslate={x:0,y:0}),l=r.ganttPlotHoverBandContainer;a=void 0!==t?t-n.x:0,o=void 0!==e?e-n.y:0,n.x=void 0!==t?t:n.x,n.y=void 0!==e?e:n.y,r.labelContainer&&r.labelContainer.translate(a,o),r.hotContainer&&r.hotContainer.translate(a,o),r.headerContainer&&r.headerContainer.translate(a,0),s?(r.ganttPlotLineContainer&&r.ganttPlotLineContainer.translate(0,o),l&&l.translate(0,o)):(r.ganttPlotLineContainer&&r.ganttPlotLineContainer.translate(a,0),l&&l.translate(a,0),this.setAxisConfig({animateAxis:!1}),i.drawTrendLines&&this._drawTrendLine(),this.setAxisConfig({animateAxis:!0}))},resetTransletAxis:function(){var t,e=this.config.axisData;t={transform:"t0,0"},e.lastTranslate={x:0,y:0},e.labelContainer&&e.labelContainer.attr(t),e.headerContainer&&e.headerContainer.attr(t),e.ganttPlotLineContainer&&e.ganttPlotLineContainer.attr(t),e.ganttPlotHoverBandContainer&&e.ganttPlotHoverBandContainer.attr(t),e.hotContainer&&e.hotContainer.attr(t)},_drawProcessAndDataTableStyleParser:function(t){var e,a,o,i,r,s,n,c,p,g,f,m,b,u=this.config.axisData,x=this.chart,C=x.linkedItems.smartLabel,w=x.components.colorManager,k=u.labels.style,y=t.elem||{},F=t.dimension,P=y._attrib||{},D=F.left,L=F.right,T=F.top,S=F.bottom;switch(t.type){case"category":case"datatable":case"process":e=l(P.font,k.fontFamily),a=l(P.fontsize,k.fontSize).replace(/px/i,"")+"px",i=l(Number(P.isitalic)?"italic":void 0,k.fontStyle),r=v(l(P.bgcolor?d(P.bgcolor):void 0,w.getColor("categoryBgColor")),h(P.bgalpha,100)),f=l(P.fontcolor?d(P.fontcolor):void 0,k.color),m=h(P.isunderline,0)&&"underline"||"none",p=l(P.valign,"center").toLowerCase(),g=l(P.align,"middle").toLowerCase(),c=y.drawLabel||"",o=l(Number(P.isbold)?"bold":void 0,k.fontWeight),b=y.link;break;case"header":e=l(P.headerfont,k.fontFamily),a=l(P.headerfontsize,k.fontSize).replace(/px/i,"")+"px",o=l(1===Number(P.headerisbold)?"bold":void 0===P.headerisbold?"bold":void 0,k.fontWeight),f=l(P.headerfontcolor?d(P.headerfontcolor):void 0,k.color),m=h(P.headerisunderline,0)&&"underline"||"none",i=l(P.headerisitalic?"italic":void 0,k.fontStyle),r=v(l(P.headerbgcolor?d(P.headerbgcolor):void 0,w.getColor("categoryBgColor")),h(P.headerbgalpha,100)),p=l(P.headervalign,"center").toLowerCase(),g=l(P.headeralign,"middle").toLowerCase(),c=y.drawLabel||"",b=y.headerlink}switch(t.type){case"category":u.gridLinePath+="M"+D+","+T+"L"+D+","+S+"L"+L+","+S,o=l(1===Number(P.isbold)?"bold":void 0===P.isbold?"bold":void 0,k.fontWeight);break;case"datatable":case"process":u.gridLinePath+="M"+D+","+S+"L"+L+","+S+"L"+L+","+T;break;case"header":u.gridLineHeaderPath+="M"+D+","+S+"L"+L+","+S+"L"+L+","+T}return w=l(y._attrib.hoverbandcolor,u.hoverColor),P=h(y._attrib.hoverbandalpha,u.hoverAlpha),"left"===g?(s=D+2,g="start"):"right"===g?(s=D+(L-D)-2,g="end"):(g="middle",s=D+(L-D)/2),"top"===p?n=T-2:"bottom"===p?n=T+(S-T)-2:(p="center",n=T+(S-T)/2),k={fontFamily:e,fontSize:a,fontWeight:o,fontStyle:i,color:f,textDecoration:m},e=A(k),e=Number(e.replace(/px/i,"")),e=S-T>e?S-T:e,C.useEllipsesOnOverflow(x.config.useEllipsesWhenOverflow),C.setStyle(k),x=C.getSmartText(c,L-D,e),k={posAttr:{x:s,y:n},textAttr:{text:x.text,"text-anchor":g,"vertical-align":p,cursor:b?"pointer":"default"},css:k,rectAttr:{x:D,y:T,width:L>D?L-D:0,height:S>T?S-T:0},rectFill:{fill:r,"stroke-width":0,cursor:b?"pointer":"default"},eventArgs:{isHeader:"header"===t.type,label:c,vAlign:p,align:g,link:b,id:y.id},tooltext:x.oriText},"datatable"===t.type||"process"===t.type||"category"===t.type?(L=v(w,P),D=h(y._attrib.showhoverband,u.useHover),u=h(y._attrib.showganttpanehoverband,u.usePlotHover,D),k.dataArgs={rollOverColor:L,useHover:D,usePlotHover:u,dimension:F,hoverEle:y,type:t.type,pos:t.pos,axis:this,groupId:t.elemIndex}):k.dataArgs={rollOverColor:void 0,useHover:0,usePlotHover:0,dimension:F,hoverEle:y,type:t.type,pos:t.pos,axis:this,groupId:t.elemIndex},k},_drawProcessAndDataTableElement:function(a){var o,i,r,s,n,l,h,c=this,d=c.config,p=d.axisData,g=c.chart,f=g.components,v=c.components.categoryElement||[],m=p.hoverElemsArr||(p.hoverElemsArr=[]),b=f.paper,f=a.elemIndex,u=p.labelHoverEventName,d=d.animateAxis,x=g.config.showtooltip,C=function(t){I.call(this,g,t,u.click)},w=function(a){t=clearTimeout(t),e&&!e.removed||(e=null),e&&c._gridOutHandler.call(e),c._gridHoverHandler.call(this),I.call(this,g,a,u.rollOver)},k=function(a){e=this,t=clearTimeout(t),t=setTimeout(function(){c._gridOutHandler.call(e)},500),I.call(e,g,a,u.rollOut)};o=g.get("config","animationObj"),n=o.animObj,l=o.dummyObj,i=o.transposeAnimDuration,h=o.animType,"header"===a.type?(o=p.headerBackContainer,r=p.headerTextContainer):(o=p.labelBackContainer,r=p.labelTextContainer),p=c._drawProcessAndDataTableStyleParser(a),v[f]?(b=v[f].graphics.label,s=v[f].graphics.rect,o.appendChild(s),r.appendChild(b),i&&d?(s.animateWith(l,n,p.rectAttr,i,h),b.animateWith(l,n,p.posAttr,i,h)):(s.attr(p.rectAttr),b.attr(p.posAttr)),s.attr(p.rectFill),b.attr(p.textAttr).css(p.css)):(s=b.rect(p.rectAttr,o),b=b.text(p.posAttr,r),b.attr(p.textAttr).css(p.css),s.attr(p.rectFill),v[f]={},v[f].graphics={},v[f].config={},v[f].graphics.label=b,v[f].graphics.rect=s,s.hover(w,k).click(C),b.hover(w,k).click(C)),"header"!==a.type&&(m[a.pos]||(m[a.pos]=[]),m[a.pos].push({bgElem:s,bgColor:p.rectFill.fill})),s.data("dataObj",a.elem).data("eventArgs",p.eventArgs).data("data",p.dataArgs),b.data("dataObj",a.elem).data("eventArgs",p.eventArgs).data("data",p.dataArgs).tooltip(p.tooltext).trackTooltip(!!x),c.components.categoryElement=v},_drawGridLine:function(){var t,e,a,o,i,r=this.config,s=r.axisData,n=this.chart,l=n.components.paper,h=this.graphics.gridLine||[],c=r.animateAxis,d=0,p=0,g=2;for(t=n.get("config","animationObj"),o=t.animObj,i=t.dummyObj,n=t.transposeAnimDuration,t=t.animType,r={"stroke-dasharray":r.lineDashStyle,"stroke-width":r.lineThickness,stroke:r.lineColor};g>p;p+=1){if(0===p)a=s.gridLinePath,e=s.labelLineContainer;else if(a=s.gridLineHeaderPath,e=s.headerLineContainer,!a)continue;h[d]?(e=h[d].graphics,n&&c?e.animateWith(i,o,{path:a},n,t):e.attr({path:a}),e.attr(r)):(e=l.path(a,e),e.attr(r),h[d]={},h[d].graphics=e),d+=1}for(p=d,g=h.length;g>p;p+=1)h[p].graphics.attr({path:"M0,0"});this.graphics.gridLine=h},_gridHoverHandler:function(){var t=this.data("data"),e=t.type,a=t.dimension,o=t.axis,i=o.chart,r=i.config,s=i.components.paper,n=o.config.axisData,i=n.hoverElemsArr||[],n=n.ganttPlotHoverBandContainer,o=o.graphics.plotHoverElement||(o.graphics.plotHoverElement=[]),e="category"===e?{x:a.left,y:r.canvasTop,width:a.left<a.right?a.right-a.left:0,height:r.height,fill:t.rollOverColor,"stroke-width":0}:{y:a.top,x:r.canvasLeft,height:a.top<a.bottom?a.bottom-a.top:0,width:r.width,fill:t.rollOverColor,"stroke-width":0};if(t.usePlotHover&&(o[0]?o[0].attr(e).show():o[0]=s.rect(e,n)),t.useHover&&i[t.pos])for(e=0,a=i[t.pos].length;a>e;e+=1)i[t.pos][e].bgElem.attr({fill:t.rollOverColor})},_gridOutHandler:function(){var t,e,a=this.data("data"),o=a.axis,i=o.config.axisData.hoverElemsArr||[],o=o.graphics.plotHoverElement||[];if(a.usePlotHover&&o[0]&&o[0].hide(),a.useHover&&i[a.pos])for(o=0,t=i[a.pos].length;t>o;o+=1)e=i[a.pos][o],e.bgElem.attr({fill:e.bgColor})},_disposeExtraProcessAndDataTableElement:function(t){var e,a=this.components.categoryElement||[];for(e=a.length;e>t;t+=1)a[t].graphics.label.attr({text:""}),a[t].graphics.rect.attr({x:0,y:0,width:0,heigth:0})}},"cartesian"]),FusionCharts.get("component",["axis","time",{configure:function(){var t=this.config,e=t.axisData,a=t.rawAttr,o=this.chart,i=o.jsonData.chart,o=o.components.colorManager;FusionCharts.register("component",["axis","cartesian"]).prototype.configure.call(this),t.plotLineColor=t.lineColor=v(l(i.ganttlinecolor,o.getColor("gridColor")),h(i.ganttlinealpha,100)),t.plotLineThickness=t.lineThickness=h(i.ganttlinethickness,1),t.plotLineDashStyle=t.lineDashStyle=h(i.ganttlinedashed,0)?P(h(i.ganttlinedashlen,1),i.ganttlinedashgap,t.lineThickness):"none",e.hoverColor=l(i.categoryhoverbandcolor,i.hoverbandcolor,o.getColor("gridColor")),e.hoverAlpha=h(i.categoryhoverbandalpha,i.hoverbandalpha,30),e.useHover=h(i.showcategoryhoverband,i.showhoverband,i.showhovereffect,1),e.usePlotHover=h(i.showganttpaneverticalhoverband),e.trendlinesDashLen=h(a.trendlinesDashLen,3),e.trendlinesDashGap=h(a.trendlinesDashGap,3),e.gridLineHeaderPath="",e.gridLinePath=""},setCategory:function(t){var e;e=this.chart.get("components").numberFormatter;var a,o,i,r,s=this.config,l=s.axisData,h=s.axisRange,c=s.startPad||0,d=s.endPad||0,s=1/0,p=-(1/0);if(l.categories={},t){l.hasCategory=1,l=l.categories.category=n({},t),this._extractAttribToEnd(l,{});for(i in l)if(l.hasOwnProperty(i)&&"_attrib"!==i)for(r=0,t=l[i].category.length;t>r;r+=1)a=l[i].category[r],o=e.getDateValue(a.start).ms,a=e.getDateValue(a.end).ms,isNaN(o)&&(o=void 0),o>p&&(p=o),s>=o&&(s=o),isNaN(a)&&(a=void 0),a>p&&(p=a),s>=a&&(s=a);e=p+d,h.min=Number(C(s-c,10)),h.max=Number(C(e,10)),h.tickInterval=Number(C(1,10))}else l.hasCategory=0},_drawComponents:function(){var t=this.config;this._drawCategories(),t.drawPlotlines&&this._drawPlotLine(),t.drawPlotBand&&this._drawPlotBand(),t.drawTrendLines&&this._drawTrendLine()},_drawCategories:function(){var t,e,a,o,i,r,s=this.config,n=s.axisData,l=(n.axisDimention||{}).y,h=n.totalHeight||0,c=this.chart,d=c.components,p=c.config,g=p.viewPortConfig,f=d.paper,d=d.numberFormatter,v=s.canvas,m=s.gridArr||(s.gridArr=[]),m=v.canvasLeft||p.canvasLeft,b=v.canvasTop||p.canvasTop,u=v.canvasHeight||p.canvasHeight,x=v.canvasWidth||p.canvasWidth,p=n.lastTranslate||(n.lastTranslate={x:0,y:0}),C=c.graphics,w=C.axisBottomGroup,v=0;if(a=c.get("config","animationObj"),c=a.animObj,o=a.dummyObj,i=a.transposeAnimDuration,a=a.animType,r=W(h,b-(n.maxTopSpaceAvailable||0)),r=r>0?r:0,C.ganttPlotHoverBandContainerParent=C.ganttPlotHoverBandContainerParent||f.group("guntt-plot-band-container-parent",w),n.ganttPlotHoverBandContainer?n.ganttPlotHoverBandContainer.animateWith(o,c,{"clip-rect":m+","+b+","+x+","+u},i,a):(n.ganttPlotHoverBandContainer=f.group("guntt-plot-band-container",C.ganttPlotHoverBandContainerParent),n.ganttPlotHoverBandContainer.attr({"clip-rect":m+","+b+","+x+","+u})),n.ganttPlotLineContainer?n.ganttPlotLineContainer.animateWith(o,c,{"clip-rect":m+","+b+","+x+","+u},i,a):(n.ganttPlotLineContainer=f.group("guntt-plot-line-container",w),n.ganttPlotLineContainer.attr({"clip-rect":m+","+b+","+x+","+u})),n.labelContainer?n.labelContainer.animateWith(o,c,{"clip-rect":m+","+(b-r)+","+x+","+r},i,a):(n.labelContainer=f.group("guntt-label-container",w),n.labelContainer.attr({"clip-rect":m+","+(b-r)+","+x+","+r})),n.labelBackContainer||(n.labelBackContainer=f.group("guntt-label-back-container",n.labelContainer)),n.labelLineContainer||(n.labelLineContainer=f.group("guntt-label-line-container",n.labelContainer)),n.labelTextContainer||(n.labelTextContainer=f.group("guntt-label-text-container",n.labelContainer)),n.gridLinePath="",n.gridLineHeaderPath="",n.hoverElemsArr=[],n.labelHoverEventName={click:"CategoryClick",rollOver:"CategoryRollOver",rollOut:"CategoryRollOut"},n.hasCategory){f=n.categories.category;for(t in f)if(f.hasOwnProperty(t)&&"_attrib"!==t)for(e in b=f[t].category,u=void 0,m=s.gridArr=[],b)x=d.getDateValue(b[e].start).ms,C=d.getDateValue(b[e].end).ms,!b.hasOwnProperty(e)||"_attrib"===e||isNaN(x)||isNaN(C)||(x={elem:b[e],elemIndex:v,pos:v,dimension:{left:u||this.getPixel(x),right:this.getPixel(C),top:l-h+f[t]._attrib.topPos,bottom:l-h+f[t]._attrib.bottomPos},type:"category",isHeader:!1},u=x.dimension.right,this._drawProcessAndDataTableElement(x),v+=1,m.push({x:x.dimension.left}));0<g.x?p.x=-(g.x*g.scaleX):n.lastTranslate={x:0,y:0}}this._drawGridLine(),this._disposeExtraProcessAndDataTableElement(v)},placeAxis:function(t){var e,a,o,i,r,s,n,h=this.config,c=this.chart,d=c.config,p=c.get("components").numberFormatter,g=c.linkedItems.smartLabel,f=h.axisData,v=f.labels.style,m=0,u={top:0,bottom:0},x=0,C=f.trend.trendStyle,w=h.vTrendLines,k=f.useEllipsesWhenOverflow,y=0,F=0;if(g.useEllipsesOnOverflow(d.useEllipsesWhenOverflow),g.setStyle({fontSize:v.fontSize,fontFamily:v.fontFamily,lineHeight:v.lineHeight,fontWeight:v.fontWeight}),f.maxTopSpaceAvailable=d.canvasTop,f.hasCategory)for(o in e=f.categories.category)if(e.hasOwnProperty(o)&&"_attrib"!==o){m=0,a=e[o].category;for(r in a)a.hasOwnProperty(r)&&"_attrib"!==r&&(i=a[r],i.drawLabel=b(i.label||i.name),s=i._attrib,s={fontFamily:l(s.fontfamily,v.fontFamily).replace(/px/i,"")+"px",fontSize:l(s.fontsize,v.fontSize),fontWeight:l(1===Number(s.isbold)?"bold":void 0===s.isbold?"bold":void 0,v.fontWeight),fontStyle:l(s.isitalic?"italic":void 0,v.fontStyle)},A(s),g.setStyle(s),i=g.getOriSize(i.drawLabel),i.height>m&&(n=i,m=i.height));e[o]._attrib.topPos=x,x+=n.height+8,e[o]._attrib.bottomPos=x}if(v=t-x,h.drawTrendLines&&h.drawTrendLabels&&w&&h.isActive)for(g.setStyle({fontSize:C.fontSize,fontFamily:C.fontFamily,lineHeight:C.lineHeight,fontWeight:C.fontWeight}),f.trendBottomPadding=-1,r=0,h=w.length;h>r;r+=1)for(o=0,m=w[r].line.length;m>o;o+=1)e=w[r].line[o],i=e.origText||e.displayvalue||e.endvalue||e.startvalue||"",i=b(i),e.startvalue=e.start&&p.getDateValue(e.start).ms,e.endvalue=e.end&&p.getDateValue(e.end).ms,e.origText=i,i=g.getSmartText(i,c.canvasWidth,C.lineHeight,k),a=i.height+2,0>v-a?e.displayvalue="":(e.displayvalue=i.text,y=y<i.height?i.height:y),i.tooltext?e.valueToolText=i.tooltext:delete e.valueToolText;return f.totalHeight=x,y>0&&(F+=y+M(f.trendBottomPadding||0)),x=x>t?t:x,u.top+=x,u.bottom+=F,d.categorySpaceUsed=x,u}},"ganttCommon"]),FusionCharts.get("component",["axis","process",{configure:function(){var t=this.config,e=t.axisData,a=this.chart,o=a.jsonData.chart,a=a.components.colorManager;FusionCharts.register("component",["axis","cartesian"]).prototype.configure.call(this),t.lineColor=v(l(o.gridbordercolor,a.getColor("gridColor")),h(o.gridborderalpha,100)),t.lineThickness=h(o.gridborderthickness,1),t.lineDashStyle=h(o.gridborderdashed,0)?P(h(o.gridborderdashlen,1),o.gridborderdashgap,t.lineThickness):"none",t.plotLineColor=v(l(o.ganttlinecolor,a.getColor("gridColor")),h(o.ganttlinealpha,100)),t.plotLineThickness=h(o.ganttlinethickness,1),t.plotLineDashStyle=h(o.ganttlinedashed,0)?P(h(o.ganttlinedashlen,1),o.ganttlinedashgap,t.lineThickness):"none",t.gridResizeBarColor=v(l(o.gridresizebarcolor,a.getColor("gridResizeBarColor")),h(o.gridresizebaralpha,100)),t.gridResizeBarThickness=h(o.gridresizebarthickness,1),t.forceRowHeight=h(o.forcerowheight,0),t.rowHeight=h(o.rowheight,0),e.hoverColor=l(o.processhoverbandcolor,o.hoverbandcolor,a.getColor("gridColor")),e.hoverAlpha=h(o.processhoverbandalpha,o.hoverbandalpha,30),e.useHover=h(o.showprocesshoverband,o.showhoverband,o.showhovereffect,1),e.usePlotHover=h(o.showganttpanehorizontalhoverband),e.showFullDataTable=h(o.showfulldatatable,1),e.useVerticalScrolling=h(o.useverticalscrolling,1),e.gridLineHeaderPath="",e.gridLinePath=""},setDataTable:function(t){var e=this.config.axisData;e.dataTables={},e.dataTables.dataTable={},t?(e.hasDataTables=1,n(e.dataTables.dataTable,t),t=e.dataTables.dataTable,this._extractAttribToEnd(t,{})):e.hasDataTables=0},setProcess:function(t){var e;e=this.config;var a=e.axisData,o=e.axisRange,i=e.startPad||0;e=e.endPad||0;var r,s,l;if(a.processes={},t){for(a.hasProcess=1,r=a.processes.process=n({},t),this._extractAttribToEnd(r,{}),t=r.process.length,l=a.processes.processMap={},a.processes.processHeightMap={},a=0;t>a;a+=1)s=r.process[a],s.id&&(l[s.id.toLowerCase()]={catObj:s,index:a});e=t-1+e,o.min=Number(C(-i,10)),o.max=Number(C(e,10)),o.tickInterval=Number(C(1,10))}else a.hasProcess=0},getProcessPositionById:function(t){var e=this.config.axisData;return t=e.processes&&e.processes.processMap[t],e=e.processes.processHeightMap,t?e[t.index]:!1},getProcessPositionByIndex:function(t){var e=this.config.axisData.processes.processHeightMap;return e[t]?e[t]:!1},setProcessHeight:function(){var t=this.config,e=t.axisData,a=this.chart.config.canvasHeight,o=e.processes.process.process,i=e.processes.processHeightMap,r=e.processMaxHeight,s=0,n=t.forceRowHeight,t=t.rowHeight;for((r*o.length<a||0===e.useVerticalScrolling)&&(r=a/o.length),0===n?t&&t>r&&(r=t):r=t||r,n=0,a=o.length;a>n;n++)e=h(o[n].height,r),i[n]={top:s,bottom:s+e,height:e},s+=e;return s},_drawComponents:function(){var t=this.config;this._drawProcessAndDataTable(),t.drawPlotlines&&this._drawPlotLine(),t.drawPlotBand&&this._drawPlotBand(),this._drawVerticalLineAndTracker(),this._drawGridLine()},_drawProcessAndDataTable:function(){var t,e,a,o,i,r=this.config,s=r.axisData,n=this.chart,l=(s.axisDimention||{}).x,h=s.totalWidth||0,c=r.gridArr||(r.gridArr=[]),d=r.canvas,p=n.config,c=n.components.paper,g=d.canvasTop||p.canvasTop,f=d.canvasLeft||p.canvasLeft,v=d.canvasHeight||p.canvasHeight,m=d.canvasWidth||p.canvasWidth,b=n.graphics,u=b.axisBottomGroup,d=s.totalVisiblelWidth,x=0;if(a=n.get("config","animationObj"),n=a.animObj,o=a.dummyObj,i=a.transposeAnimDuration,a=a.animType,b.ganttPlotHoverBandContainerParent=b.ganttPlotHoverBandContainerParent||c.group("guntt-plot-band-container-parent",u),s.ganttPlotHoverBandContainer?s.ganttPlotHoverBandContainer.animateWith(o,n,{"clip-rect":f+","+g+","+m+","+v},i,a):(s.ganttPlotHoverBandContainer=c.group("guntt-plot-band-container",b.ganttPlotHoverBandContainerParent),s.ganttPlotHoverBandContainer.attr({"clip-rect":f+","+g+","+m+","+v})),s.ganttPlotLineContainer?s.ganttPlotLineContainer.animateWith(o,n,{"clip-rect":f+","+g+","+m+","+v},i,a):(s.ganttPlotLineContainer=c.group("guntt-plot-line-container",u),s.ganttPlotLineContainer.attr({"clip-rect":f+","+g+","+m+","+v})),s.headerContainer?s.headerContainer.animateWith(o,n,{"clip-rect":f-s.totalVisiblelWidth+","+(g-p.categorySpaceUsed)+","+s.totalVisiblelWidth+","+p.categorySpaceUsed},i,a):(s.headerContainer=c.group("guntt-header-container",u),s.headerContainer.attr({"clip-rect":f-s.totalVisiblelWidth+","+(g-p.categorySpaceUsed)+","+s.totalVisiblelWidth+","+p.categorySpaceUsed})),s.headerBackContainer||(s.headerBackContainer=c.group("guntt-header-back-container",s.headerContainer)),s.headerLineContainer||(s.headerLineContainer=c.group("guntt-header-line-container",s.headerContainer)),s.headerTextContainer||(s.headerTextContainer=c.group("guntt-header-text-container",s.headerContainer)),s.labelContainer?s.labelContainer.animateWith(o,n,{"clip-rect":f-s.totalVisiblelWidth+","+g+","+s.totalVisiblelWidth+","+v},i,a):(s.labelContainer=c.group("guntt-label-container",u),s.labelContainer.attr({"clip-rect":f-s.totalVisiblelWidth+","+g+","+s.totalVisiblelWidth+","+v})),s.labelBackContainer||(s.labelBackContainer=c.group("guntt-label-back-container",s.labelContainer)),s.labelLineContainer||(s.labelLineContainer=c.group("guntt-label-line-container",s.labelContainer)),s.labelTextContainer||(s.labelTextContainer=c.group("guntt-label-text-container",s.labelContainer)),
s.hotContainer?s.hotContainer.animateWith(o,n,{"clip-rect":f-s.totalVisiblelWidth+","+(g-p.categorySpaceUsed)+","+s.totalVisiblelWidth+","+(v+p.categorySpaceUsed)},i,a):(s.hotContainer=c.group("guntt-hot-container",s.axisLabelGroup),s.hotContainer.attr({"clip-rect":f-s.totalVisiblelWidth+","+(g-p.categorySpaceUsed)+","+s.totalVisiblelWidth+","+(v+p.categorySpaceUsed)})),s.gridLinePath="",s.gridLineHeaderPath="",s.hoverElemsArr=[],s.labelHoverEventName={click:"ProcessClick",rollOver:"ProcessRollOver",rollOut:"ProcessRollOut"},s.hasProcess)for(process=s.processes.process.process,f={elem:s.processes.process,elemIndex:x,dimension:{left:l-h+process._attrib.leftPos,right:l-h+process._attrib.rightPos,top:g-p.categorySpaceUsed,bottom:g},type:"header"},this._drawProcessAndDataTableElement(f),x+=1,c=r.gridArr=[],t=0,v=process.length;v>t;t++)r=this.getProcessPositionByIndex(t),f={elem:process[t],elemIndex:x,pos:t,dimension:{left:l-h+process._attrib.leftPos,right:l-h+process._attrib.rightPos,top:g+r.top,bottom:g+r.bottom},type:"process"},this._drawProcessAndDataTableElement(f),x+=1,c.push({y:f.dimension.bottom});if(s.hasDataTables){c=s.dataTables.dataTable.datacolumn;for(t in c)if(c.hasOwnProperty(t)&&"_attrib"!==t)for(e in f={elem:c[t],elemIndex:x,pos:t,dimension:{left:l-h+c[t]._attrib.leftPos,right:l-h+c[t]._attrib.rightPos,top:g-p.categorySpaceUsed,bottom:g},type:"header"},this._drawProcessAndDataTableElement(f),x+=1,v=c[t].text)v[e]._attrib&&process[e]&&process[e]._attrib&&(v[e]._attrib.hoverbandcolor=process[e]._attrib.hoverbandcolor,v[e]._attrib.hoverbandalpha=process[e]._attrib.hoverbandalpha,v[e]._attrib.showhoverband=process[e]._attrib.showhoverband),v.hasOwnProperty(e)&&"_attrib"!==e&&(r=this.getProcessPositionByIndex(e),f={elem:v[e],elemIndex:x,pos:e,dimension:{left:l-h+c[t]._attrib.leftPos,right:l-h+c[t]._attrib.rightPos,top:g+r.top,bottom:g+r.bottom},type:"datatable"},this._drawProcessAndDataTableElement(f),x+=1);s.drawFromProcessVlineDrag?s.drawFromProcessVlineDrag=!1:h>d?this.translateAxis(h-d,void 0):(this.resetTransletAxis(),this.resetTransletAxis())}this._drawGridLine(),this._disposeExtraProcessAndDataTableElement(x)},_drawVerticalLineAndTracker:function(){var t,e,a,o,i,r,s=this,n=s.config,l=n.axisData,h=s.chart,c=h.config,d=(l.axisDimention||{}).x,p=l.totalWidth||0,g=n.canvas.canvasTop||c.canvasTop,f=h.components.paper,v=s.components.processVline||(s.components.processVline=[]),m=l.processVlineArr,b=l.hotContainer,u=0,x=function(){var t=this.data("drag-options"),e=t.vHoverLine;t.origX=t.lastX||(t.lastX=0),e.show(),h.trackerClicked=!0,t.draged=!1},C=function(t){var e=this.data("drag-options"),a=e.vHoverLine,o=e.vLineSetting,i=o.xPos+t,r=o.leftLimit,s=o.rightLimit;r>i&&(t=r-o.xPos),i>s&&(t=s-o.xPos),o={transform:"t"+(e.origX+t)+F+0},this.attr(o),a.attr(o),e.draged=!0,e.lastX=t},k=function(){var t=this.data("drag-options"),e=t.vLineSetting,a=t.vHoverLine,o=t.vLineIndex;h.trackerClicked=!1,a.hide(),t.draged&&(e.left.rightPos+=t.lastX||0,e.right.leftPos+=t.lastX||0,e.xPos+=t.lastX||0,m[o-1]&&(m[o-1].rightLimit+=t.lastX||0),m[o+1]&&(m[o+1].leftLimit+=t.lastX||0),l.drawFromProcessVlineDrag=!0,s._drawProcessAndDataTable(),s._drawVerticalLineAndTracker(),t={transform:"t0,0"},this.attr(t),a.attr(t))},n={stroke:n.gridResizeBarColor,"stroke-width":n.gridResizeBarThickness,visibility:"hidden"};for(i={stroke:B,ishot:!0,"stroke-width":30},o=g-c.categorySpaceUsed,c=0,t=m.length;t>c;c+=1)e="process"===m[c].type?l.processes.process.process:l.dataTables.dataTable.datacolumn[m[c].ind],e=d-p+e._attrib.rightPos,e=["M",e,o,"L",e,g+l.processTotalHeight],v[u]?(r=v[u].graphics.vHoverLine,r.attr({path:e}).attr(n),a=v[u].graphics.hotElement,a.attr({path:e}).attr(i)):(r=f.path(e,b),r.attr(n),a=f.path(e,b),a.attr(i),v[u]={},v[u].graphics={},v[u].config={},v[u].graphics.vHoverLine=r,v[u].graphics.hotElement=a),a.css("cursor",w.svg&&"ew-resize"||"e-resize").drag(C,x,k).data("drag-options",{vHoverLine:v[u].graphics.vHoverLine,vLineSetting:m[c],vLineIndex:c}),u+=1;for(c=u,t=v.length;t>c;c+=1)v[c].graphics.vHoverLine.attr({path:["M",0,0]}),v[c].graphics.hotElement.attr({path:["M",0,0]})},manageProcessScroll:function(t){var e=this.config.axisData,a=e.totalWidth||0,e=e.totalVisiblelWidth;a>e&&this.translateAxis((a-e)*(1-t),void 0)},placeAxis:function(t){var e,a,o,i,r,s=this.chart,n=s.linkedItems.smartLabel,h=this.config.axisData,c=h.labels.style,d=0,p=0,g={left:0,right:0},f=0,v=!1,m=0,u=0,x=0;if(n.useEllipsesOnOverflow(s.config.useEllipsesWhenOverflow),n.setStyle({fontSize:c.fontSize,fontFamily:c.fontFamily,lineHeight:c.lineHeight,fontWeight:c.fontWeight}),0===h.showFullDataTable&&(x=t/((h.hasDataTables&&h.dataTables&&h.dataTables.dataTable&&h.dataTables.dataTable.datacolumn?h.dataTables.dataTable.datacolumn.length:0)+1)),h.hasProcess){for(process=h.processes.process.process,e=h.processes.process,"right"===e.positioningrid&&(v=!0),e.headertext&&(e.drawLabel=b(e.headertext),s=e._attrib,s={fontFamily:l(s.headerfontfamily,c.fontFamily),fontSize:l(s.headerfontsize,c.fontSize).replace(/px/i,"")+"px",fontWeight:l(1===Number(s.headerisbold)?"bold":void 0===s.headerisbold?"bold":void 0,c.fontWeight),fontStyle:l(s.headerisitalic?"italic":void 0,c.fontStyle)},s.lineHeight=A(s),n.setStyle(s),s=n.getOriSize(e.drawLabel),s.width>p&&(d=s,p=s.width)),e=0,a=process.length;a>e;e++)o=process[e],s=o._attrib,o.drawLabel=b(o.label||o.name),s={fontFamily:l(s.fontfamily,c.fontFamily),fontSize:l(s.fontsize,c.fontSize).replace(/px/i,"")+"px",fontWeight:l(s.isbold?"bold":void 0,c.fontWeight),fontStyle:l(s.isitalic?"italic":void 0,c.fontStyle)},s.lineHeight=A(s),n.setStyle(s),s=n.getOriSize(o.drawLabel),s.width>p&&(d=s,p=s.width),s.height>u&&(u=s.height);h.processMaxHeight=u+8,process._attrib.leftPos=f,v?m=x||d.width+4:f+=x||d.width+4,process._attrib.rightPos=f}if(h.hasDataTables)for(e in d=h.dataTables.dataTable.datacolumn)if(d.hasOwnProperty(e)&&"_attrib"!==e){u=d[e],p=0,u.headertext&&(s=u._attrib,u.drawLabel=b(u.headertext),a={fontFamily:l(s.headerfontfamily,c.fontFamily),fontSize:l(s.headerfontsize,c.fontSize).replace(/px/i,"")+"px",fontWeight:l(1===Number(s.headerisbold)?"bold":void 0===s.headerisbold?"bold":void 0,c.fontWeight),fontStyle:l(s.headerisitalic?"italic":void 0,c.fontStyle)},a.lineHeight=A(a),n.setStyle(a),s=n.getOriSize(u.drawLabel),s.width>p&&(r=s,p=s.width)),u=u.text;for(i in u)u.hasOwnProperty(i)&&"_attrib"!==i&&(s=u[i],s.drawLabel=b(s.label||s.name),a=s._attrib,a={fontFamily:l(a.fontfamily,c.fontFamily),fontSize:l(a.fontsize,c.fontSize).replace(/px/i,"")+"px",fontWeight:l(a.isbold?"bold":void 0,c.fontWeight),fontStyle:l(a.isitalic?"italic":void 0,c.fontStyle)},a.lineHeight=A(a),n.setStyle(a),s=n.getOriSize(s.drawLabel),s.width>p&&(r=s,p=s.width));d[e]._attrib.leftPos=f,f+=x||r.width+4,d[e]._attrib.rightPos=f}return h.hasProcess&&v&&(process._attrib.leftPos+=f,process._attrib.rightPos+=f+m,f+=m),h.totalWidth=f,this.adjustWidth(),f=h.totalWidth>t?t:h.totalWidth,h.totalVisiblelWidth=f,g.left+=f,g},adjustWidth:function(){var t,e,a,o,i,r,s=this.config.axisData,n=s.totalWidth,l=n,c=0,d=!1;if(t=s.processVlineArr=[],l-=20*(s.hasDataTables&&s.dataTables&&s.dataTables.dataTable&&s.dataTables.dataTable.datacolumn?s.dataTables.dataTable.datacolumn.length+1:1),a=function(t){return l+=20,t=t.match(/%/g)?h(n*Number(t.replace(/%/g,"")/100),0):h(t,0),20>l?t=20:t>l&&(t=l),l-=t,t},s.hasProcess&&(process=s.processes.process.process,o=s.processes.process,"right"===o.positioningrid&&(d=!0),e=process._attrib,i=c,c+=a(e.width||""+(e.rightPos-e.leftPos)),e.leftPos=i,e.rightPos=c,d?c=0:t.push({type:"process",ind:0,xPos:e.rightPos,left:e,leftLimit:e.leftPos+20})),s.hasDataTables)for(r in o=s.dataTables.dataTable.datacolumn)o.hasOwnProperty(r)&&"_attrib"!==r&&(e=o[r],e=e._attrib,i=c,c+=a(e.width||""+(e.rightPos-e.leftPos)),e.leftPos=i,e.rightPos=c,(i=t[t.length-1])&&(i.right=e,i.rightLimit=e.rightPos-20),t.push({type:"dataTable",ind:r,xPos:e.rightPos,left:e,leftLimit:e.leftPos+20}));s.hasProcess&&(d?(e=process._attrib,e.rightPos=c+(e.rightPos-e.leftPos),e.leftPos=c,c+=e.rightPos-e.leftPos,(i=t[t.length-1])&&(i.right=e,i.rightLimit=e.rightPos-20)):t.pop()),s.totalWidth=c}},"ganttCommon"])}]);