FusionCharts.register("module",["private","modules.renderer.js-gradientlegend",function(){function e(e,t){return function a(e,t){var o,i;for(i in e)F.call(e,i)&&(o=e[i],void 0===t[i]?t[i]=o:"object"==typeof o&&null!==typeof o&&a(o,t[i]))}(e,t),t}function t(e){return E(e?e:N)||N}function a(e){var t=e.fontSize+"";return t?(t=t.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function o(e){return void 0===e||"undefined"==typeof e||null===e||e!==e}function i(e,t){this.carpet=e,this._componentPool=t}function r(e){this.conf=e,this._id="GL_CARPET",this.compositionsByCategory={},this._lSpace=this.group=this.node=void 0,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}function n(){r.apply(this,arguments)}function s(e,t){this.rawText=e,this.conf=t,this._id="GL_CAPTION",this._lSpace=this.bound=this.node=void 0}function l(e,t){this.colorRange=e,this.conf=t,this._id="GL_BODY",this.bound=void 0,this.compositionsByCategory={},this._lSpace=void 0}function h(){l.apply(this,arguments)}function d(e){this.conf=e,this._id="GL_LABELS"}function c(){d.apply(this,arguments)}function p(){d.apply(this,arguments),this._id="GL_VALUES"}function g(){p.apply(this,arguments),this._id="GL_VALUES"}function u(e){this.conf=e,this._id="FL_AXIS",this.markerLine=this.shadow=this.node=void 0,this.compositionsByCategory={}}function m(){u.apply(this,arguments)}function f(e){var t={};this._id="GL_SG1",this.conf=e,t.conf=e,this.extremes=[],this.sliders={},t.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[!1]=new v(!1,t,this._id+"_0"),this.sliders[!0]=new v(!0,t,this._id+"_1")}function v(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.tracker=this.node=void 0,this.currPos=0,this.swing=[]}function x(e,t,a){a=a.components.numberFormatter;var i,r,n,s,l,h;for(this.data=e,this.options=t||{},h=this.mapByPercent=!!e.mapByPercent,this.appender="",r=this.mapByPercent?0:t.min,t=this.mapByPercent?100:t.max,2===e.colorRange.length&&(i=e.colorRange[0],n=e.colorRange[1],s=i.value=o(i.value)?r:i.value,l=n.value=o(n.value)?t:n.value,s===l&&(s=i.value=r,l=n.value=t),i.displayValue=h?s+"%":a.legendValue(s),n.displayValue=h?l+"%":a.legendValue(l)),o(r)&&o(i.value)||o(t)&&o(i.value)||!e.gradient?this._preparationGoneWrong=!0:this._preparationGoneWrong=!1,a=this.colorRange=e.colorRange.sort(function(e,t){return e.value-t.value}),this.valueRatio=void 0,this.values=[],e=0,i=a.length;i>e;e++)this.values.push(a[e].value)}function b(){i.apply(this,arguments)}var y,w,C=this,k=C.hcLib,A=k.pluckNumber,L=k.pluck,S=k.toRaphaelColor,D=k.graphics,T=k.dehashify,P=k.hashify,B=D.convertColor,V=D.RGBtoHex,I=D.HEXtoRGB,_=D.getLightColor,E=D.getValidColor,O="rgba(192,192,192,"+(k.isIE?.002:1e-6)+")",N=k.COLOR_BLACK,F={}.hasOwnProperty,R={};y=function(){function e(e){var t,o,i,r=a.numberFormatter;for(t=0,o=e.length;o>t;t++)(i=e[t].maxvalue)&&(e[t].maxvalue=r.getCleanValue(i))}var a,o,i={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return i.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:S({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},i.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:O,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:O,stroke:"#FFFFFF"}}},i.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(e){o=e.chart,a=o.components},setConf:function(){},legacyDataParser:function(o,i){var r,n,s,l,h,d,c,p,g,u={},m=a.numberFormatter;if(!o)return!1;for(u.mapByPercent=g=!!A(o.mapbypercent,0),void 0===o.minvalue&&(o.minvalue=void 0!==i.min?g?0:i.min:0),void 0===o.maxvalue&&(o.maxvalue=void 0!==i.max?g?100:i.max:100),r=o.color||[],s=o.code,c=u.colorRange=[],u.gradient=!!A(o.gradient,1),r.length?s=t(s):(s?(l=t(s),s=t()):(s=t(),l=_(s,1)),r.push({code:l,maxvalue:o.maxvalue,label:void 0})),e(r),r=r.sort(function(e,t){return e.maxvalue-t.maxvalue}),l=p=o.minvalue&&m.getCleanValue(o.minvalue),p=(void 0!==l||null!==l)&&(g?l+"%":m.legendValue(l)),c.push({code:T(s),value:l,displayValue:p,label:o.startlabel}),s=0,d=r.length;d>s;s++)n=r[s],h=t(n.code||n.color),l=p=n.maxvalue,isNaN(parseInt(l,10))||(p=(void 0!==l||null!==l)&&(g?l+"%":m.legendValue(l)),c.push(Object({code:T(h),value:l,displayValue:p,label:n.label||n.displayvalue})));return c[c.length-1].label=o.endlabel||n.label,u},getDefaultConf:function(e){return i[e]}}}(),w=function(e){var t=e.chartInstance.id,a=R[t]||(R[t]={});return function(){function o(){var e,t,o,i,r,n;for(e in a)for(t in o=a[e])if(i=o[t],i instanceof Array)for(r=0,n=i.length;n>r;r++)i[r]&&i[r].hide();else i.hide()}var i,r,n={};return i={KEY_RECT:"rect",KEY_TEXT:"text",KEY_GROUP:"group",KEY_CIRCLE:"circle",KEY_PATH:"path"},n[i.KEY_RECT]=function(e){return r.rect(e)},n[i.KEY_TEXT]=function(e){return r.text(e)},n[i.KEY_GROUP]=function(e,t){return r.group(e,t)},n[i.KEY_CIRCLE]=function(e){return r.circle(e)},n[i.KEY_PATH]=function(e,t){return r.path(e,t)},{init:function(e){r=e,o()},emptyPool:function(){a=R[t]={}},getChart:function(){return e},getComponent:function(e,t,o){var i,r,s,l=a[e],h=0;return l||(l=a[e]={}),(r=l[t])&&!(r instanceof Array)||r instanceof Array&&0<r.length?function(){return o?(s=r[h++])?s.show():r[h]=n[t].apply(this,arguments):r.show()}:function(){return o?(i=l[t]||(l[t]=[]),r=n[t].apply(this,arguments),i.push(r),r.show()):l[t]=n[t].apply(this,arguments)}},hideAll:function(){o()},getKeys:function(){return i}}}()},i.prototype.constructor=i,i.prototype.draw=function(e){return e.componentPool=this._componentPool,this.carpet.draw(e)},i.prototype.getLogicalSpace=function(e,t){return e.componentPool=this._componentPool,this.carpet.getLogicalSpace(e,t)},i.prototype.dispose=function(){this.carpet&&this.carpet.group&&this.carpet.group.remove(),this._componentPool.emptyPool()},r.prototype.constructor=r,r.prototype.addCompositions=function(e,t){this.compositionsByCategory[t]=e},r.prototype.getBoundingBox=function(e){var t=this.conf,a=e.refSide,o=e.alignment,i=e.refOffset,r=e.x,n=e.y,t=t.width=a*t.spreadFactor;return!o||void 0!==r&&null!==r||(r=(i+a)/2-t/2),{width:t,height:e.maxOtherSide,x:r,y:n}},r.prototype.getPostCalcDecisions=function(e,t){var a,o=this.conf.padding,i=0;for(a in t)i+=t[a].height||0;e.height=i+2*o.v},r.prototype.getLogicalSpace=function(t,a){var i,r,n,s=this._lSpace,l=this.conf.padding,h=this.compositionsByCategory;n=0;var d,c={},p=0;if(s&&!a)return s.isImpure=!0,s;s=this._lSpace=r=this.getBoundingBox(t),(o(s.x)||o(s.y)||o(s.height)||o(s.width))&&(this.autoRecalculate=!0),s=e(r,{}),s.height-=2*l.v,s.width-=2*l.h,s.x+=l.h,s.y+=l.v;for(d in h)i=h[d],l=e(s,{}),l.y+=n,n=s.height*i.conf.spreadFactor,l.height=n+p,n=i.getLogicalSpace(e(l,{}),t,a),p=l.height-n.height,c[d]=n,n=n.height;return this.getPostCalcDecisions(r,c),this._lSpace=r},r.prototype.setupDragging=function(){var e=this.group,t=0,a=0,o=0,i=0;e.css({cursor:"move"}),e.drag(function(r,n){t=r,a=n,e.attr({transform:"t"+(o+t)+","+(i+a)})},function(){o+=t,i+=a},function(){})},r.prototype.draw=function(e){var t,a,o,i=this.conf,r=this.compositionsByCategory,n=e.paper,s=e.parentGroup,l=e.componentPool,h=l.getChart().get("config","animationObj").duration,d=l.getKeys();this.getLogicalSpace(e,this.autoRecalculate),a=this._lSpace,o=l.getComponent(this._id,d.KEY_GROUP),this.group=s=o(this.groupName,s),s.attr({opacity:0}),s.animate({opacity:1},h,"easeIn"),o=l.getComponent(this._id,d.KEY_RECT),this.node=o(s).attr(a).css(i.style);for(t in r)l=r[t],l.draw(i.captionAlignment,a,{colorRange:e.colorRange,numberFormatter:e.numberFormatter,paper:n,parentLayer:s,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[t],componentPool:e.componentPool});return i.allowDrag&&this.setupDragging(),this.node},n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.getBoundingBox=function(e){var t=this.conf,a=e.refSide,o=e.alignment,i=e.refOffset,r=e.x,n=e.y,t=t.height=a*t.spreadFactor;return!o||void 0!==n&&null!==n||(n=(i+a)/2-t/2),{width:e.maxOtherSide,height:t,x:r,y:n}},n.prototype.getPostCalcDecisions=function(e,t){var a,o,i=this.conf.padding,n=Number.NEGATIVE_INFINITY,s=this.moveInstructions;r.prototype.getPostCalcDecisions.apply(this,arguments);for(o in t)a=t[o].width,n=a>n?a:n;e.width=n+2*i.h;for(o in t)a=t[o].width,(i=n-a)&&(s[o]="t"+i/2+",0")},s.prototype.constructor=s,s.LEFT={x:function(e,t){return t.x+e.width/2+2}},s.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},s.CENTER={x:function(e,t){return t.x+t.width/2}},s.prototype.getLogicalSpace=function(t,o,i){var r=this.conf.padding,n=this._lSpace,s=this.rawText,l=o.componentPool.getChart();return n&&!i?(n.isImpure=!0,n):(n=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartText:void 0}},i=o.smartLabel,s?(o=e(t,{}),o.height-=2*r.v,o.width-=2*r.h,o.x+=r.h,o.y+=r.v,i.useEllipsesOnOverflow(l.config.useEllipsesWhenOverflow),l=e(this.conf.style,{}),a(l),i.setStyle(l),s=i.getSmartText(s,o.width,o.height),o.height=s.height,o.width=s.width,t.height=s.height+2*r.v,t.width=s.width+2*r.h,n.node.smartText=s,n.node.logicArea=o,n.bound=t):n.bound)},s.prototype.draw=function(){var e,t,a,o,i,r,n,l,h=this.conf.bound||{};return 3<=arguments.length?(o=arguments[0],i=arguments[1],r=arguments[2]):2<=arguments.length&&(o=arguments[0],r=arguments[1]),e=r.parentLayer,n=r.componentPool,l=n.getKeys(),t=n.getComponent(this._id,l.KEY_GROUP),this.group=e=t("legend-caption",e),this.getLogicalSpace(i,r),t=this._lSpace,r=t.node,a=t.bound,t=n.getComponent(this._id,l.KEY_RECT),this.bound=h=t(e).attr(a).css(h.style),o="string"==typeof o?s[o.toUpperCase()].x(r.smartText,i||r.logicArea):o,t=n.getComponent(this._id,l.KEY_TEXT),this.node=t(e).attr({text:r.smartText.text,x:o,y:r.logicArea.y+r.smartText.height/2}).css(this.conf.style),{group:e,bound:h,node:this.node}},l.SC_STACK=["LEGEND_LABEL","LEGEND_AXIS","AXIS_VALUE"],l.DARW_STACK=["AXIS_VALUE","LEGEND_AXIS","LEGEND_LABEL"],l.prototype.constructor=l,l.prototype.addCompositions=function(e,t){this.compositionsByCategory[t]=e},l.prototype.getCompositionPlotAreaFor=function(t){var a;return a=e(t,{}),function(e,o){return e=e||{},a.y+=e.height||0,a.height=t.height*o,a}},l.prototype.getSpaceTaken=function(e){return e.height},l.prototype.updateEffectivePlotArea=function(e,t,a){var o=this.conf.padding;t.height=a,e.height=a+2*o.v},l.prototype.getLogicalSpace=function(t,a,o){var i,r,n,s,h,d=this._lSpace,c=this.conf.padding,p=this.compositionsByCategory,g=0;if(d&&!o)return d.isImpure=!0,d;for(d=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}},r=e(t,{}),r.height-=2*c.v,r.width-=2*c.h,r.x+=c.h,r.y+=c.v,n=this.getCompositionPlotAreaFor(r),a.colorRange=this.colorRange,s=0,h=l.SC_STACK.length;h>s;s++)(c=p[l.SC_STACK[s]])&&(i=n(i,c.conf.spreadFactor),i=c.getLogicalSpace(e(i,{}),a,o),g+=this.getSpaceTaken(i));return this.updateEffectivePlotArea(t,r,g),d.node.logicArea=r,d.bound=t},l.prototype.draw=function(){var e,t;t=this.conf.bound.style||{};var a,o,i,r,n,s,h=this.compositionsByCategory;for(3<=arguments.length?(o=arguments[1],r=arguments[2]):2<=arguments.length&&(r=arguments[1]),e=r.parentLayer,i=r.componentPool,n=i.getKeys(),this.getLogicalSpace(o,r),o=this._lSpace,s=i.getComponent(this._id,n.KEY_GROUP),e=s("legend-body",e).attr({transform:"t0,0"}),s=i.getComponent(this._id,n.KEY_RECT),this.bound=t=s(e).attr(o.bound).css(t),r.colorRange=this.colorRange,r.parentLayer=e,i=0,n=l.DARW_STACK.length;n>i;i++)(a=h[l.DARW_STACK[i]])&&a.draw(r);return r.moveInstructions&&e.attr({transform:r.moveInstructions}),{bound:t,group:e}},h.prototype=Object.create(l.prototype),h.prototype.constructor=h,h.prototype.getCompositionPlotAreaFor=function(t){var a;return a=e(t,{}),function(e,o){return e=e||{},a.x+=e.width||0,a.width=t.width*o,a}},h.prototype.updateEffectivePlotArea=function(e,t,a){var o=this.conf.padding;t.width=a,e.width=a+2*o.h},h.prototype.getSpaceTaken=function(e){return e.width},d.prototype.constructor=d,d.prototype.getEffectivePlotArea=function(e){var t=this.conf.padding;return e.height-=2*t.v,e.width-=2*t.h,e.x+=t.h,e.y+=t.v,this.node=[],e},d.prototype.getLogicalSpace=function(t,o,i){var r,n,s,l,h,d,c,p,g,u,m=this._lSpace,f=this.conf,v=f.padding,x=[],b=0;c=o.componentPool.getChart();var y=[];if(m&&!i)return m.isImpure=!0,m;for(m=o.colorRange,o=o.smartLabel,i=m.getCumulativeValueRatio(),r=m.colorRange,m=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}},d=m.node.smartTexts,s=e(t,{}),s=this.getEffectivePlotArea(s),o.useEllipsesOnOverflow(c.config.useEllipsesWhenOverflow),f=e(f.style,{}),a(f),o.setStyle(f),c=o.getSmartText("W"),n=0,f=r.length;f>n;n++)(l=r[n].label)?(b++,y.push({oriIndex:n,label:l})):d[n]=void 0;if(f=y.length,0===f)return{height:0,width:0};for(l=h=f>1?(i[y[f-1].oriIndex]-i[y[0].oriIndex])/2*s.width/100:Math.max(i[y[0].oriIndex],100-i[y[0].oriIndex])/2*s.width/100,b=o.getSmartText(y[0].label,l,s.height),b.x=i[y[0].oriIndex]*s.width/100,n=b.x+b.width,x.push(b.height),d[y[0].oriIndex]=b,b=o.getSmartText(y[f-1].label,l,s.height),b.x=i[y[f-1].oriIndex]*s.width/100,r=b.x-b.width,x.push(b.height),d[y[f-1].oriIndex]=b,g=n,n=1;f-1>n;n++)l=y[n].label,u=y[n].oriIndex,b=void 0,h=n+1===f-1?r:i[y[n+1].oriIndex]*s.width/100,p=i[y[n].oriIndex]*s.width/100,h=Math.min(p-g,h-p),h>2*c.width&&(b=o.getSmartText(l,h,s.height),b.x=i[u]*s.width/100,g=h,x.push(b.height)),d[y[n].oriIndex]=b;return x=Math.max.apply(Math,x),s.height=x,t.height=x+2*v.v,m.node.logicArea=s,m.bound=t},d.prototype.draw=function(){var e,t,a=this.conf;t=a.bound&&a.bound.style||{stroke:"none"};var o,i,r,n,s,l,h={};for(2<=arguments.length?(i=arguments[0],n=arguments[1]):1<=arguments.length&&(n=arguments[0]),e=n.parentLayer,n.colorRange.getCumulativeValueRatio(),o=n.componentPool,s=o.getKeys(),this.getLogicalSpace(i,n),r=this._lSpace,i=r.node.logicArea,n=r.node.smartTexts,l=o.getComponent(this._id,s.KEY_GROUP),e=l("legend-labels",e),l=o.getComponent(this._id,s.KEY_RECT),this.bound=t=l(e).attr(r.bound).css(t),e.transform("R0"),l=o.getComponent(this._id,s.KEY_TEXT,!0),s=0,r=n.length;r>s;s++)(o=n[s])&&(h.y=i.y+o.height/2,h.x=s===r-1?i.x+o.x-o.width/2:s?i.x+o.x:i.x+o.x+o.width/2,this.node.push(l(e).attr({text:o.text}).attr(h).css(a.style).transform("R0")));return{group:e,bound:t,node:this.node}},c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.prototype.getLogicalSpace=function(e){var t;if(e){t=e;var a=t.height;t.height=t.width,t.width=a}return t=d.prototype.getLogicalSpace.apply(this,arguments),{height:t.width,width:t.height}},c.prototype.draw=function(){var e,t,a,o,i;for(a=d.prototype.draw.apply(this,arguments),e=a.bound,t=a.group,e=e.getBBox(),a=a.node,t.transform("R90,"+(e.x+e.height/2)+","+(e.y+e.height/2)),t=0,e=a.length;e>t;t++)o=a[t],i=o.getBBox(),o.transform("R180,"+(i.x+i.width/2)+","+(i.y+i.height/2))},p.prototype=Object.create(d.prototype),p.prototype.constructor=p,p.prototype.getLogicalSpace=function(t,o,i){var r,n,s,l,h,d,c,p,g,u,m=this._lSpace,f=this.conf,v=f.padding,x=o.componentPool.getChart(),b=[];if(m&&!i)return m.isImpure=!0,m;for(m=o.colorRange,o=o.smartLabel,i=m.colorRange,s=m.getCumulativeValueRatio(),m=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}},u=m.node.smartTexts,p=e(t,{}),p.height-=2*v.v,p.width-=2*v.h,p.x+=v.h,p.y+=v.v,o.useEllipsesOnOverflow(x.config.useEllipsesWhenOverflow),f=e(f.style,{}),a(f),o.setStyle(f),x=o.getSmartText("W"),f=i.length,d=(s[f-1]-s[0])/2*p.width/100,r=i[0].displayValue,r=o.getSmartText("string"!=typeof r&&void 0!==r&&r.toString()||r,d,p.height),r.x=s[0]*p.width/100,n=r.x+r.width,b.push(r.height),u[0]=r,r=o.getSmartText(i[f-1].displayValue,d,p.height),r.x=s[f-1]*p.width/100,d=r.x-r.width,b.push(r.height),u[f-1]=r,c=n,n=1;f-1>n;n++)r=void 0,g=i[n].displayValue,l=n+1===f-1?d:s[n+1]*p.width/100,h=s[n]*p.width/100,l=Math.min(h-c,l-h),l>1.5*x.width&&(r=o.getSmartText(g,2*l,p.height),r.x=s[n]*p.width/100,c=l,b.push(r.height)),u[n]=r;return b=Math.max.apply(Math,b),p.height=b,t.height=b+2*v.v,m.node.logicArea=p,m.bound=t},p.prototype.draw=function(){var e,t,a,o,i,r,n,s,l=this.conf,h=l.bound&&l.bound.style||{stroke:"none"},d={};for(2<=arguments.length?(o=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),t=r.parentLayer,n=r.colorRange.getCumulativeValueRatio(),a=r.componentPool,e=a.getKeys(),this.getLogicalSpace(o,r),i=this._lSpace,o=i.node.logicArea,r=i.node.smartTexts,s=a.getComponent(this._id,e.KEY_GROUP),t=s("legend-values",t),s=a.getComponent(this._id,e.KEY_RECT),this.bound=h=s(t).attr(i.bound).css(h),s=a.getComponent(this._id,e.KEY_TEXT,!0),e=0,n=n.length;n>e;e++)(a=r[e])&&(d.y=o.y+a.height/2,d.x=e===n-1?o.x+a.x-a.width/2:e?o.x+a.x:o.x+a.x+a.width/2,s(t).attr({text:a.text}).attr(d).css(l.style));return{group:t,bound:h}},g.prototype=Object.create(p.prototype),g.prototype.constructor=g,g.prototype.getLogicalSpace=function(t,o,i){var r,n,s,l,h,d,c,p,g,u,m=this._lSpace,f=this.conf,v=f.padding,x=o.componentPool.getChart(),b=[];if(m&&!i)return m.isImpure=!0,m;for(m=o.colorRange,o=o.smartLabel,i=m.colorRange,n=m.getCumulativeValueRatio(),m=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}},u=m.node.smartTexts,h=e(t,{}),h.height-=2*v.v,h.width-=2*v.h,h.x+=v.h,h.y+=v.v,o.useEllipsesOnOverflow(x.config.useEllipsesWhenOverflow),f=e(f.style,{}),a(f),o.setStyle(f),g=o.getSmartText("W"),x=i.length,d=(n[x-1]-n[0])/2*h.height/100,f=o.getSmartText(i[0].displayValue,h.width,d),f.y=n[0]*h.height/100,r=f.y+f.width,b.push(f.width),u[0]=f,f=o.getSmartText(i[x-1].displayValue,h.width,d),f.y=n[x-1]*h.height/100,d=f.y-f.height,b.push(f.width),u[x-1]=f,c=r,r=1;x-1>r;r++)f=void 0,p=i[r].displayValue,s=r+1===x-1?d:n[r+1]*h.height/100,l=n[r]*h.height/100,s=Math.min(l-c,s-l),s>2*g.height&&(f=o.getSmartText(p,h.width,2*s),f.y=n[r]*h.height/100,c=s,b.push(f.width)),u[r]=f;return b=Math.max.apply(Math,b),h.width=b,t.width=b+2*v.h,m.node.logicArea=h,m.bound=t},g.prototype.draw=function(){var e,t,a=this.conf;t=a.bound&&a.bound.style||{stroke:"none"};var o,i,r,n,s,l,h,d={};for(2<=arguments.length?(o=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),e=r.parentLayer,n=r.colorRange.getCumulativeValueRatio(),s=r.componentPool,l=s.getKeys(),this.getLogicalSpace(o,r),i=this._lSpace,o=i.node.logicArea,r=i.node.smartTexts,h=s.getComponent(this._id,l.KEY_GROUP),e=h("legend-values",e),h=s.getComponent(this._id,l.KEY_RECT),this.bound=t=h(e).attr(i.bound).css(t),h=s.getComponent(this._id,l.KEY_TEXT,!0),s=0,l=n.length;l>s;s++)(n=r[s])&&(d.x=o.x+n.width/2,d.y=s===l-1?o.y+n.y-n.height/2:s?o.y+n.y:o.y+n.y+n.height/2,h(e).attr({text:n.text}).attr(d).css(a.style));return{group:e,bound:t}},u.prototype.constructor=u,u.prototype.addCompositions=function(e,t){this.compositionsByCategory[t]=e},u.prototype.getLogicalSpace=function(t,a,o){a=this._lSpace;var i,r,n=this.conf,s=n.padding;r=n.legendAxisHeight;var l,h=this.compositionsByCategory;return l=0,a&&!o?(a.isImpure=!0,a):(a=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}},o=e(t,{}),o.height-=2*s.v,o.width-=2*s.h,o.x+=s.h,o.y+=s.v,n=r/2+n.line.offset,i=r/2,(h=h.RANGE)&&(l=h.sliders[!1],l=l.conf.outerCircle.rFactor*r,i+=l=Math.max(l/2-r/2,0)),o.y+=l,o.height=r=i+n+l,t.height=r+2*s.v,a.node.logicArea=o,a.bound=t)},u.prototype.getDrawableAxisArea=function(e){var t=this.conf;return{x:e.x,y:e.y,width:e.width,height:t.legendAxisHeight,r:t.legendAxisHeight/2}},u.prototype.preDrawingRangeParam=function(e){return{y:e.y+e.height/2,calculationBase:e.height,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}},u.prototype.getScaleMarkerPathStr=function(t,a){var o,i,r,n,s=e(t,{}),l=this.conf.line,h="";for(s.x+=s.r,s.width-=2*s.r,n=s.y+s.height,o=0,i=a.length;i>o;o++)r=a[o],r=s.x+r*s.width/100,h+="M"+r+","+(n-l.grooveLength)+"L"+r+","+(n+l.offset);return s=""+("M"+s.x+","+(n+l.offset)+"L"+(s.x+s.width)+","+(n+l.offset)),h+s},u.prototype.getColorGradient=function(e){return{axis:e.getBoxFill(),shadow:S({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},u.prototype.draw=function(){var e,t,a,o,i,r,n,s,l,h=this.conf,d=h.line,c=(h.bound||{}).style||{},p=this.compositionsByCategory;2<=arguments.length?(t=arguments[0],s=arguments[1]):1<=arguments.length&&(s=arguments[0]),e=s.parentLayer,o=s.colorRange,i=o.getCumulativeValueRatio(),l=s.componentPool,r=l.getKeys(),this.getLogicalSpace(t,s),n=this._lSpace,t=l.getComponent(this._id,r.KEY_GROUP),e=t("legend-axis",e),t=l.getComponent(this._id,r.KEY_RECT,!0),this.bound=t(e).attr(n.bound).css(c),c=this.getDrawableAxisArea(n.node.logicArea),o=this.getColorGradient(o),h.style.fill=o.axis,h.shadow.style.fill=o.shadow,this.node=t(e).attr(c).css(h.style),this.shadow=t(e).attr(c).css(h.shadow.style),h=this.getScaleMarkerPathStr(c,i),t=l.getComponent(this._id,r.KEY_PATH),t("M0,0",e).attr({path:h}).css(d.style);for(a in p)switch(d=p[a],a){case"RANGE":r=this.preDrawingRangeParam(c),s[r.prop]=r[r.prop],s.key=r.prop,s.rCalcBase=r.calculationBase,s.parentLayer=e,d.draw(r.rangeStart,r.rangeEnd,s)}},m.prototype=Object.create(u.prototype),m.prototype.constructor=m,m.prototype.getLogicalSpace=function(t,a,o){a=this._lSpace;var i,r,n=this.conf,s=n.padding;r=n.legendAxisHeight;var l,h=this.compositionsByCategory;return l=0,a&&!o?(a.isImpure=!0,a):(a=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}},o=e(t,{}),o.height-=2*s.v,o.width-=2*s.h,o.x+=s.h,o.y+=s.v,n=r/2+n.line.offset,i=r/2,(h=h.RANGE)&&(l=h.sliders[!1],l=l.conf.outerCircle.rFactor*r,i+=l=Math.max(l/2-r/2,0)),o.x+=l,o.width=r=i+n+l,t.width=r+2*s.v,a.node.logicArea=o,a.bound=t)},m.prototype.getDrawableAxisArea=function(e){var t=this.conf;return{x:e.x,y:e.y,width:t.legendAxisHeight,height:e.height,r:t.legendAxisHeight/2}},m.prototype.getScaleMarkerPathStr=function(t,a){var o,i,r,n,s=e(t,{}),l=this.conf.line,h="";for(s.y+=s.r,s.height-=2*s.r,n=s.x+s.width,o=0,r=a.length;r>o;o++)i=a[o],i=s.y+i*s.height/100,h+="M"+(n-l.grooveLength)+","+i+"L"+(n+l.offset)+","+i;return s=""+("M"+(n+l.offset)+","+s.y+"L"+(n+l.offset)+","+(s.y+s.height)),h+s},m.prototype.getColorGradient=function(e){return{axis:e.getBoxFill(!0),shadow:S({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},m.prototype.preDrawingRangeParam=function(e){return{x:e.x+e.width/2,calculationBase:e.width,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}},f.prototype.constructor=f,f.prototype.initRange=function(e,t){this.extremes[+e.sliderIndex]=t},f.prototype.updateRange=function(e,t){var a=e.sliderIndex;this.sliders[!a].updateSwingRange(a,t)},f.prototype.reset=function(){var e={};e.conf=this.conf,e.sliderGroup=this,this.sliders[!1]=new v(!1,e,this._id+"_0"),this.sliders[!0]=new v(!0,e,this._id+"_1"),this.draw.apply(this,this._drawParams)},f.prototype.clearListeners=function(){this.callbacks.length=0},f.prototype.draw=function(e,t,a){var o=this.sliders,i=o[!1],o=o[!0],r=a.colorRange,n=r.colorRange,s=this._fcChart=a.componentPool.getChart();return this.getValueFormPixel=function(e,t,a,o){var i=(t-e)/(o-a);this.getValueFormPixel=function(t){return e+i*t}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(a,o){var i=this.extremes,i=this.getValueFormPixel(a.sliderIndex?i[1]-i[0]+o:o);return i=t?parseFloat(i).toFixed(2)+"%":e.legendValue(i)}},this._drawParams=[e,t,a],this.updateWhenInMove(s.components.numberFormatter,r.mapByPercent),e=i.draw(e,n[0].displayValue,a[a.key],a),e=o.draw(t,n[n.length-1].displayValue,a[a.key],a),i.swing=this.extremes.slice(0),o.swing=this.extremes.slice(0),this.getValueFormPixel(n[0].value,n[n.length-1].value,this.extremes[0],this.extremes[1]),e},f.prototype.registerListener=function(e,t,a){this.callbacks.push({fn:e,context:t,params:a||[]})},f.prototype.updateWhenInRest=function(e,t){var a,o,i,r=this.sliders,n=this.extremes,s=e.sliderIndex,l=this.callbacks;for(s?(a=r[!s].currPos,r=n[1]-n[0]+t):(a=t,r=n[1]-n[0]+r[!s].currPos),n=0,s=l.length;s>n;n++)o=l[n],i=o.params.slice(0),i.unshift(this.getValueFormPixel(r)),i.unshift(this.getValueFormPixel(a)),o.fn.apply(o.context,i)},f.prototype.dragStarted=function(e){var t=this.sliders,a=this.extremes,o=e.conf,i=this._fcChart;C.raiseEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t[!1].currPos)},{value:this.getValueFormPixel(a[1]-a[0]+t[!0].currPos)}],legendPointerHeight:o.outerRadius,legendPointerWidth:o.innerRadius,outerRadius:o.outerRadius,innerRadius:o.innerRadius},i.chartInstance,[i.id])},f.prototype.dragCompleted=function(e,t,a){var o,i=this.sliders,r=this.extremes,n=e.conf,s=this.getValueFormPixel(i[!1].currPos),i=this.getValueFormPixel(r[1]-r[0]+i[!0].currPos),l=this._fcChart;e.sliderIndex?(o=s,a=this.getValueFormPixel(r[1]-r[0]+a)):(o=this.getValueFormPixel(a),a=i),t&&C.raiseEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:i,minValue:o,maxValue:a},l.chartInstance,[l.id]),C.raiseEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:s},{value:i}],legendPointerHeight:n.outerRadius,legendPointerWidth:n.innerRadius,outerRadius:n.outerRadius,innerRadius:n.innerRadius},l.chartInstance,[l.id])},v.prototype.constructor=v,v.prototype.updateSwingRange=function(e,t){this.swing[+e]=t},v.prototype.draw=function(e,t,a,o){var i,r,n=o.parentLayer,s=this.conf,l=s.outerCircle,h=s.innerCircle,d=Math.ceil(l.rFactor*o.rCalcBase/2),c=Math.ceil(h.rFactor*o.rCalcBase/2),p=d-c,g=this.rangeGroup,u=this.sliderIndex,m=o.componentPool,f=m.getKeys();return s.outerRadius=d,s.innerRadius=c,this._scaleVal=t,h.style["stroke-width"]=p,p=Math.ceil(l.style["stroke-width"]/2),c+=p,r=m.getComponent(this._id,f.KEY_GROUP),n=this.node=r("fc-gl-slider",n).attr({cursor:"pointer",transform:"t0,0"}),"x"===o.key?e=i=e+(u?-c:+c):(i=a,e=a=e+(u?-c:+c)),g.initRange(this,e),r=m.getComponent(this._id,f.KEY_CIRCLE,!0),r(n).attr({cx:a,cy:i,r:d}).css(l.style),r(n).attr({cx:a,cy:i,r:c}).css(h.style),t=this.tracker=r(n).attr({cx:a,cy:i,r:d+5,ishot:!0,fill:O,stroke:0,cursor:"pointer"}).trackTooltip(!!s.showTooltip).tooltip(t,null,null,!0),this._dragAPI=o=this.getDragAPI("x"===o.key),t.undrag(),t.drag(o.dragging,o.dragStart,o.dragEnd),{translateAscending:d+p}},v.prototype.getDragAPI=function(e){var t,a,o,i,r=this,n=r.node,s=r.sliderIndex,l=r.rangeGroup,h=r.conf.innerRadius;return{dragging:function(d,c,p,g,u){var m;return u.stopPropagation(),u.preventDefault(),m=e?c:d,s?(d=t[0]-t[1]+h,c=0):(d=0,c=t[1]-t[0]-h),r.currPos+m<d||r.currPos+m>c?void 0:(n.attr({transform:e?"t0,"+(r.currPos+m):"t"+(r.currPos+m)+",0"}),a=m,o&&clearTimeout(o),o=setTimeout(function(){l.updateWhenInRest(r,r.currPos+m)},100),r.tracker.tooltip(l.updateWhenInMove(r,r.currPos+m),null,null,!0),i=!0)},dragStart:function(a,o,s){s.stopPropagation(),s.preventDefault(),n.attr({transform:e?"t0,"+r.currPos:"t"+r.currPos+",0"}),t=t||r.swing,i=!1,l.dragStarted(r)},dragEnd:function(){var e;l.dragCompleted(r,i,r.currPos+a),i&&(o&&clearTimeout(o),o=setTimeout(function(){l.updateWhenInRest(r,r.currPos)},100),r.currPos+=a,e=t[+s]+r.currPos,l.updateRange(r,e))}}},x.prototype.constructor=x,x.prototype.getValueRatio=function(){var e,t,a=this.colorRange,o=a.length,i=this.valueRatio,r=a[0].value,n=a[o-1].value-r,s=0;if(i)return i;for(i=this.valueRatio=[],t=0;o>t;t++)e=a[t],e=(e.value-r)/n,i.push(100*(e-s)),s=e;return i},x.prototype.getCumulativeValueRatio=function(){var e,t,a=this.colorRange,o=a.length,i=a[0].value,r=a[o-1].value,n=[];for(t=0;o>t;t++)e=a[t],n.push((e.value-i)/(r-i)*100);return n},x.prototype.getBoxFill=function(e){var t,a,o=this.colorRange,i=o.length,r=[];for(a=e?90:0,t=0;i>t;t++)e=o[t],r.push(e.code);return o={FCcolor:{alpha:"100,100,100",angle:a,color:r.join(","),ratio:this.getValueRatio().join(",")}},S(o)},x.prototype.getColorByValue=function(e){var t,a,o,i,r=this.values,n=this.colorRange;if(void 0!==e&&null!==e){for(a=0,t=r.length;t>a;a++){if(e===r[a]){i=n[a].code;break}if(!a&&e<r[a]){o=!0;break}if(a===t-1&&e>r[a]){o=!0;break}if(e>r[a]&&e<r[a+1]){r=n[a],t=n[a+1],n=r.value,a=I(r.code),r=t.value,t=I(t.code),i=i=void 0,i=r-n,i=[Math.round(a[0]+(t[0]-a[0])/i*(e-n)),Math.round(a[1]+(t[1]-a[1])/i*(e-n)),Math.round(a[2]+(t[2]-a[2])/i*(e-n))],i=V(i);break}}if(!o)return i}},b.prototype=Object.create(i.prototype),b.prototype.constructor=b,FusionCharts.register("component",["gradientLegend","gradientLegend",{pIndex:1,enabled:!1,init:function(e){function t(t){n.data=e.chart.jsonData.colorrange,(i=n.nData=y.legacyDataParser(n.data,t))?(n.drawOptions={smartLabel:s.linkedItems.smartLabel,colorRange:n.colorRange=o=new x(i,t,r),maxOtherSide:t.maxOtherSide},n._dontPlot=!1,o&&o._preparationGoneWrong&&(n._dontPlot=!0),n._recalculateLogicalSpace=!0,n._configure()):n._dontPlot=!0}var a,o,i,r,n=this,s=e.chart;return y.init(e),r=n._chart=e.chart,n._cpool=w(r),(a=e.dataExtremes)?void t(a):t},_configure:function(){var e,t,a,o,i,r,n,s=this._chart,l=s.jsonData.chart,h=this.conf={},d=l.outcnvbasefont,c=l.outcnvbasefontsize,p=l.outcnvbasefontcolor,s=s.config.dataLabelStyle;h.caption=L(l.legendcaption),h.legendPosition=L(l.legendposition,"bottom").toLowerCase(),h.showLegend=A(l.showlegend,1),h.interactiveLegend=A(l.interactivelegend,1),h.showLegendLabels=A(l.showlegendlabels,1),e=l.legenditemfontcolor||p,t=l.legenditemfont||d,a=l.legenditemfontsize||c,o=A(l.legenditemfontbold,0),p=l.legendcaptionfontcolor||p,d=l.legendcaptionfont||d,c=l.legendcaptionfontsize||c,i=A(l.legendcaptionfontbold,1),n=(r=l.legendaxisbordercolor?P(T(l.legendaxisbordercolor)):void 0)?A(l.legendaxisborderalpha,100)/100:void 0,h.axisTextItemConf={style:{fill:e?B(L(e)):s.color,fontFamily:t?L(t):s.fontFamily,fontSize:a?A(a):s.fontSize.match(/\d+/)[0],fontWeight:o?"bold":s.fontWeight}},h.legendCaptionConf={style:{fill:p?B(L(p)):s.color,fontFamily:d?L(d):s.fontFamily,fontSize:c?A(c):s.fontSize.match(/\d+/)[0],fontWeight:i?"bold":s.fontWeight,fontStyle:"normal"}},h.legendAxisConf={legendAxisHeight:11,style:{stroke:r,"stroke-opacity":n},line:{style:{stroke:B(L(l.legendscalelinecolor,"FFF8E9"),A(l.legendscalelinealpha,100)),"stroke-width":A(l.legendscalelinethickness)}}},h.sliderGroupConf={showTooltip:A(l.showtooltip,1),outerCircle:{rFactor:A(l.sliderdiameterfactor),style:{stroke:B(L(l.legendpointerbordercolor,"757575"),A(l.legendpointerborderalpha,100))}},innerCircle:{rFactor:A(l.sliderholediameterfactor),style:{stroke:B(L(l.legendpointercolor,"FFFFFF"),A(l.legendpointeralpha,100))}}},h.legendCarpetConf={spreadFactor:A(l.legendspreadfactor),allowDrag:!!A(l.legendallowdrag,0),captionAlignment:L(l.legendcaptionalignment,"center"),style:{fill:B(L(l.legendbgcolor,"e4d9c1"),A(l.legendbgalpha,100)),stroke:B(L(l.legendbordercolor,"c4b89d"),A(l.legendborderalpha,100)),"stroke-width":A(l.legendborderthickness,1)}}},postConfigureInit:function(){var t,a,o,i,v,x,w,C=this.conf;this.elem={},C.caption&&(v=e(y.getDefaultConf("legendCaptionConf"),C.legendCaptionConf),t=new s(C.caption,v)),C.interactiveLegend&&(v=e(y.getDefaultConf("sliderGroupConf"),C.sliderGroupConf),this.elem.sGroup=i=new f(v),this.listeners&&0<this.listeners.length&&i.registerListener.apply(i,this.listeners)),v=e(y.getDefaultConf("legendCarpetConf"),C.legendCarpetConf),"bottom"===C.legendPosition?(this.drawOptions.refSideKey="canvasWidth",this.drawOptions.refOffsetKey="canvasLeft",a=new r(v),x=new l(this.drawOptions.colorRange,y.getDefaultConf("legendBodyConf")),o=new u(e(y.getDefaultConf("legendAxisConf"),C.legendAxisConf)),v=e(y.getDefaultConf("axisTextItemConf"),C.axisTextItemConf),C.showLegendLabels&&(w=new d(v)),C=new p(v)):(this.drawOptions.refSideKey="canvasHeight",this.drawOptions.refOffsetKey="canvasTop",a=new n(v),x=new h(this.drawOptions.colorRange,y.getDefaultConf("legendBodyConf")),o=new m(e(y.getDefaultConf("legendAxisConf"),C.legendAxisConf)),v=e(y.getDefaultConf("axisTextItemConf"),C.axisTextItemConf),C.showLegendLabels&&(w=new c(v)),C=new g(v)),i&&o.addCompositions(i,"RANGE"),w&&x.addCompositions(w,"LEGEND_LABEL"),x.addCompositions(o,"LEGEND_AXIS"),x.addCompositions(C,"AXIS_VALUE"),t&&a.addCompositions(t,"CAPTION"),a.addCompositions(x,"LEGEND_BODY"),this.elem.gl=new b(a,this._cpool)},notifyWhenUpdate:function(e,t,a){var o;(o=this.elem&&this.elem.sGroup)?o.registerListener(e,t,a):this.listeners=[e,t,a];
},dispose:function(){this.elem&&this.elem.gl&&this.elem.gl.dispose(),this.elem={}},getLogicalSpace:function(e){var t=this.conf,a={height:0,width:0},o=this.drawOptions,i=this._chart;return this._recalculateLogicalSpace?this._dontPlot?a:(this._recalculateLogicalSpace=!1,this.postConfigureInit(),t.showLegend?(t=o.refSideKey,o=o.refOffsetKey,this.drawOptions.refSide=i.config[t],this.drawOptions.refOffset=i.config[o],this.drawOptions.maxOtherSide=e||this.drawOptions.maxOtherSide,this.elem.gl&&(this._logicalArea=this.elem.gl.getLogicalSpace(this.drawOptions,!0))):a):(t=o.refSideKey,o=o.refOffsetKey,this.drawOptions.refSide=i.config[t],this.drawOptions.refOffset=i.config[o],(this._logicalArea=this.elem.gl.getLogicalSpace(this.drawOptions,!0))||a)},resetLegend:function(){var e;(e=this.elem&&this.elem.sGroup)&&e.reset()},clearListeners:function(){var e;(e=this.elem&&this.elem.sGroup)&&e.clearListeners()},draw:function(e,t,a){var o=this.conf;this._dontPlot||(this._cpool.init(a.paper),o.showLegend?(this.drawOptions.paper=a.paper,this.drawOptions.parentGroup=a.parentGroup,this.drawOptions.x=e,this.drawOptions.y=t,this.drawOptions.maxOtherSide=this.drawOptions.maxOtherSide||a.maxOtherSide,e=this.elem.gl.draw(this.drawOptions),e=e.getBBox(),o.xPos=e.x,o.yPos=e.y,o.height=e.height,o.width=e.width,this.enabled=!0):this.enabled=!1)}}])}]),FusionCharts.register("module",["private","modules.renderer.js-component-toolbox",function(){function e(e){return"number"==typeof e&&(e="'"+e+"'"),e.split("").reduce(function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e},0)}function t(e,t){var a;return e.getBBox?e:(a=e.getBoundingClientRect(),e.getBBox=function(){return{x:t.x,y:t.y,width:a.right-a.left,height:a.bottom-a.top,isArtificial:!0}},e)}function a(e,t,a){var o,i;for(o in e)i=e[o],void 0!==i&&null!==i&&(a?t[o]||(t[o]=i):t[o]=i)}function o(e,t){switch(e){case"click":return function(e){h.dem.listen(t,"click",function(t){t.target&&t.target.parentNode&&e.call(t.target)})};case"hover":return function(e,a){h.dem.listen(t,"pointerhover",function(t){t.target&&t.target.parentNode&&("start"===t.state?e:a).call(t.target)})}}}var i,r,n,s,l,h=this.hcLib,d=h.Raphael,c=this.window.document,p=h.graphics,g=p.convertColor,u=p.getLightColor,m=p.rawRGBtoHEX,f=h.pluckNumber,v=h.pluck,x={},b={},y={},w=h.extend2,C=function(){},k=g("FFFFFF",0),A=0;i=function(e,t,a){return["M",e-a,t-a]},r=function(e,t,a){var o=a/4;return["M",e-3*o,t,"L",e-o,t+a,e+a,t-a]},n=function(){return d.addSymbol("Internal_CB",i),{register:function(){var e,t,a;if(1===arguments.length){if(t=arguments[0],null==t||"object"!=typeof t)return;a=t}else{if(!(1<arguments.length))return;if(e=arguments[0],t=arguments[1],"string"!=typeof e||"function"!=typeof t)return;a={},a[e]=t}for(e in a)t=a[e],{}.hasOwnProperty.call(a,e)&&d.addSymbol(e,t)}}}(),l=function(){function e(){this.pool={}}function t(e){var t,a,o,i,r,n;if(e)for(t in e)for(a in o=e[t])if(i=o[a],i instanceof Array)for(r=0,n=i.length;n>r;r++)i[r].hide&&i[r].hide();else i.hide&&i.hide()}var a,o,i,r,n={},s={};return e.prototype.constructor=e,o={KEY_RECT:"rect",KEY_TEXT:"text",KEY_GROUP:"group",KEY_SCROLLER:"scoller",KEY_BUTTON:"button",KEY_PATH:"path",KEY_DIV:"div"},n[o.KEY_DIV]=function(){return c.createElement("div")},n[o.KEY_RECT]=function(e){return r.paper.rect(e)},n[o.KEY_TEXT]=function(e){return r.paper.text(e)},n[o.KEY_GROUP]=function(e,t){return r.paper.group(e,t)},n[o.KEY_SCROLLER]=function(e,t,a,o,i,n,s){return r.paper.scroller(e,t,a,o,i,n,s)},n[o.KEY_BUTTON]=function(e,t,a,o,i,n){return r.paper.button(e,t,a,o,i,n)},n[o.KEY_PATH]=function(e,t){return r.paper.path(e,t)},{init:function(o,i){var n;r=o,n=s[i]||(s[i]={}),t(n.pool),n.initialized||(a=n.pool=(new e).pool,a._tmp=i,n.initialized=!0)},isInitialized:function(){},getCreationStatus:function(){return i},emptyPool:function(e){e=s[e]||{},e.pool&&(e.pool={})},hideRecursive:function(e){t((s[e]||{}).pool)},getComponent:function(e,t,a,o){t=(s[t||0]||{}).pool;var r,l,h,d=t[e],c=0;return d||(d=t[e]={}),(l=d[a])&&!(l instanceof Array)||l instanceof Array&&0<l.length?function(){return i=!1,o?(h=l[c++])?h.show():l[c]=n[a].apply(this,arguments):l.show&&"function"==typeof l.show&&l.show()||l}:function(){return i=!0,o?(r=d[a]||(d[a]=[]),l=n[a].apply(this,arguments),r.push(l),l.show&&"function"==typeof l.show&&l.show()||l):d[a]=n[a].apply(this,arguments)}},getKeys:function(){return o}}}(),s=function(){function s(e){e=e||{},this.name=e.name,this.handler=e.handler||C,this.action=e.action&&e.action.toLowerCase()||"click",this.eventMap={},this.style={padding:"3px 8px",margin:"2px 0px",fontFamily:y.baseFontFamily,fontSize:y.baseFontSize+"px"},this.hoverOverStyle=e.hoverOverStyle||{},this.hoverOutStyle=e.hoverOutStyle||{},a(e.style||{},this.style),this.node=this.subConRef=void 0}function h(e,t){var a,i,r=this;a=t&&t.top||0;var n=t&&t.left,s=t&&t.right;this.container=e,this.position=h.POSITION_BOTTOM,this.atomicLists=[],this.refContainers=[],this.parentListCon=void 0,this.hideFnIds=[],this.target=void 0,n&&s||(this.positionCalculation=!0),this.hoverOverStyle={background:"#333333",color:"#FFFFFF",cursor:"pointer"},this.hoverOutStyle={background:"#FFFFFF",color:"#000000"},this._defaultStyle={position:"absolute","z-index":50,top:void 0===a?"auto":a+"px",right:void 0===s?"auto":s+"px",left:void 0===n?"auto":n+"px",overflow:"hidden",background:"#ffffff",border:"1px solid #646464","box-shadow":"#999999 2px 2px 5px",padding:"5px 3px",display:"none"},a=this.container.style;for(i in this._defaultStyle)a[i]=this._defaultStyle[i];B.linkedItems&&(B.linkedItems.container.appendChild(this.container),(i=o("hover",this.container))(function(){r.show(this)},function(){r.hide(300,this)}))}function d(e){this.listContainer=this.container=void 0,this.measurement=e}function p(e,t,a,o){this.symbol=e,this._id="TB_SYMBOL"+(a||0),this.node=void 0,this.pId=o,this.isPlaintext=t,this.conf={btnTextStyle:{"stroke-width":"1px",stroke:"none"}},this.evt={tooltext:void 0,click:C,hover:[C,C]}}function v(e,t,a,o){p.call(this,"Internal_CB"),this._id="TB_CBSYMBOL"+(a||0),this.symbol="Internal_CB",this.text={plaintext:e,node:void 0,style:E},this.pId=o,this.checked=!!t,this.textNode=void 0,this.interPadding=3,this.pos={},this.regSymbolCmd=void 0,this.checked?this.check():this.uncheck()}function A(e,t,a){return p.call(this),this._id="TB_SCROLLER"+(t||0),this.pId=a,this.conf={},this.userConf=b,this.setConfiguaration(e),this.evt.scroll=C,this}function L(e,a,o){var i;p.call(this,e,void 0,a,o),this.rawContextDefinitation=void 0,this.listContainerManager=new d(this.position).init(o),i=this.listContainerManager.getFirstContainer(),this.evt.hover=[function(e){i.show(t(e.target||e.fromElement,e))},function(e){i.hide(300,e.target)}]}function S(e,t){this.preId=e||0,this.id=void 0,this.symbolList=[],this.groupRect=void 0,this.pId=t,w(this.btnConfig={},x),w(this.groupConfig={},I)}function D(t,a){V[this.id="TB_MASTER"+t||e((new Date).getTime())]=this,this.toolbarRect=void 0,this.componentGroups=[],this.toolbarConfig=_,this.group=void 0,this.pId=a}var T,P,B,V={},I={hPadding:3,vPadding:3,borderRadius:2,fill:g("DBDBDB",100),borderColor:g("B2B1B1",100),borderThickness:1,offsetAdjustment:1,radius:1,spacing:6},_={hPadding:3,vPadding:3,borderRadius:0,fill:g("EBEBEB",100),borderColor:g("D1D0D0",100),borderThickness:1,offsetAdjustment:1,radius:0},E={fontFamily:"Verdana,sans",fontSize:"12px",fill:void 0,fontStyle:"normal",fontWeight:"normal"};return s.prototype.assignSubContainer=function(e){e instanceof h&&(this.subConRef=e)},s.prototype.stickIntoContainer=function(e,t){var a,i,r,n=this.node=c.createElement("div"),s=this.style,l=this;this.handler&&(this.eventMap[this.action]=this.handler),e.appendChild(n),n.innerHTML=this.name,i=n.style;for(a in s)i[a]=s[a];s=o("hover",n),o("click",n)(function(){l.handler&&((r=l.eventMap.click)&&r.apply(l,[B]),t.hide())}),s(function(){var e,t=n.style,a=l.hoverOverStyle;for(e in a)t[e]=a[e];l.subConRef&&l.subConRef.show(this)},function(){var e,t=n.style,a=l.hoverOutStyle;for(e in a)t[e]=a[e];l.subConRef&&l.subConRef.hide(300,this)})},s.prototype.setStyle=function(e){a(e||{},this.style)},s.prototype.dispose=function(){var e=this.node;e&&e.remove&&e.remove(),this.node=void 0},h.POSITION_TOP="top",h.POSITION_BOTTOM="bottom",h.prototype.addAtomicListItem=function(e){e instanceof s&&(this.atomicLists.push(e),e.stickIntoContainer(this.container,this))},h.prototype.show=function(e){var t,a=this.hideFnIds,o=B.config.width,i=this.positionCalculation,r=0;for(this.target=this.target||e,t=a.length;t>r;r++)clearTimeout(a[r]);a.length=0,(a=this.parentListCon)?(a.show(this.target),this.container.style.left=a.container.offsetLeft+a.container.offsetWidth+"px",this.container.style.top=a.container.offsetTop+this.target.offsetTop+"px"):(a=!(!e||!e.nodeName||"DIV"!==e.nodeName.toUpperCase()),a||(e=e.getBBox(),i&&(this.container.style.display="block",i=this.container.offsetWidth,i+e.x>o?(this.container.style.left="auto",this.container.style.right=o-e.x-e.width+"px"):(this.container.style.left=e.x+"px",this.container.style.right="auto"),this.container.style.display="none"),this.position===L.POSITION_BOTTOM?(o=e.isArtificial?.5:1.5,this.container.style.top=e.y+e.height*o+"px",this.container.style.bottom="auto"):(this.container.style.bottom=B.config.height-e.y+"px",this.container.style.top="auto"))),this.container.style.display="block"},h.prototype.hide=function(e){var t,a=this.container;(t=this.parentListCon)&&t.hide(300),this.hideFnIds.push(setTimeout(function(){a.style.display="none"},e))},h.prototype.dispose=function(){var e,t,a=this.atomicLists,o=this.refContainers;for(e=this.hideFnIds.length=0,t=a.length;t>e;e++)a[e].dispose();for(e=a.length=0,t=o.length;t>e;e++)o[e].dispose();o.length=0},d.prototype.init=function(e){var t=l.getKeys();return this.container||(e=l.getComponent("div0",e,t.KEY_DIV),(e=e())&&(e.innerHTML=""),this.container=new h(e,this.measurement)),this},d.prototype.getFirstContainer=function(){return this.container},d.prototype.appendAsList=function(e,t){var a,o=this,i=this.container.hoverOverStyle,r=this.container.hoverOutStyle;return function n(e,t){var l,d,p,g,u,m,f,v,x,b=0;for(v=t?t:o.container,l=e instanceof Array?e:[e],d=l.length;d>b;b++){p=l[b],g=new s({hoverOverStyle:i,hoverOutStyle:r});for(u in p)g.name=u,m=p[u],g.action=m.action,g.setStyle(m.style),-1!==u.search(/^<[^<]+>$/)&&(g.hoverOverStyle={},g.hoverOutStyle={},m.handler=C),f=m.handler,"function"!=typeof f?x=n(f,new h(c.createElement("div"))):g.handler=m.handler;v.addAtomicListItem(g),x&&(x.parentListCon=v,v.refContainers.push(x),g.assignSubContainer(x)),x=void 0}return a=v}(e,t),a},d.prototype.dispose=function(){this.container.dispose(),this.container=void 0},p.prototype.registerSymbol=function(e){n.register(this.symbol,e)},p.prototype._setConfiguaration=function(e){this.conf?a(e,this.conf,!0):this.conf=e},p.prototype.attachEventHandlers=function(e,t){var a=this.evt,o=e.tooltext,i=e.click||C,r=e.hover,n=t&&t.click||C,s=this;return o&&(a.tooltext=o),a.click="function"==typeof i?function(){n(),i.apply(s,arguments)}:function(){var e=i.fn,t=i.context,a=(i.args||[]).slice(0);i.hasOwnProperty("context")?a.push(s):t=s,[].push.apply(a,arguments),n(),e.apply(t,a)},r&&r instanceof Array&&(a.hover=r),this.node&&this.node.tooltip(this.evt.tooltext).buttonclick(this.evt.click).hover(this.evt.hover[0],this.evt.hover[1]),s},p.prototype.getLogicalSpace=function(){return{width:this.conf.width,height:this.conf.height}},p.prototype.show=function(){var e=this.node;e&&e.css({display:"block"})},p.prototype.hide=function(){var e=this.node;e&&e.css({display:"none"})},p.prototype.draw=function(e,t,a){var o,i,r=this.conf||{},n=l.getKeys(),s=B.get("config","animationObj"),h=s.animObj,d=s.dummyObj,c=s.duration;return this.isPlaintext?i=this.symbol:o=this.symbol,void 0!==a.idCount&&(this._id+=a.idCount),r.hoverFill=g(r.hoverFill?r.hoverFill:u(m(r.fill),80)),a=this.node=l.getComponent(this._id,this.pId,n.KEY_BUTTON,!0)(e,t,i,o,{width:r.width,height:r.height,r:r.radius,verticalPadding:r.symbolHPadding*r.scale,horizontalPadding:r.symbolHPadding},a.parentLayer).labelcss(this.conf.btnTextStyle),a.attr({ishot:!0,fill:[r.fill,r.labelFill,r.symbolFill,r.hoverFill,!0],stroke:[r.stroke,r.symbolStroke],"stroke-width":[r.strokeWidth,r.symbolStrokeWidth]}).tooltip(this.evt.tooltext).buttonclick(this.evt.click).hover(this.evt.hover[0],this.evt.hover[1]),l.getCreationStatus()||(this.node.unclick(),this.node.animateWith(d,h,{"button-repaint":[e,t,r.width,r.height,r.radius]},c,s.animType),this.node.attr({"button-label":i,"button-padding":[r.symbolHPadding,r.symbolHPadding*r.scale]}),this.node.buttonclick(this.evt.click)),a.getBBox=function(){return{x:e,y:t,width:r.width,height:r.height}},a},p.prototype.dispose=function(){var e=this.node;e&&e.remove(),this.node=void 0},v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.prototype.check=function(){var e=this.pos;this.checked=!0,this.regSymbolCmd=r,this.node&&(this.registerSymbol(this.regSymbolCmd),this.node.attr({"button-repaint":[e.x,e.y,e.width,e.height,e.r]}))},v.prototype.uncheck=function(){var e=this.pos;this.checked=!1,this.regSymbolCmd=i,this.node&&(this.registerSymbol(this.regSymbolCmd),this.node.attr({"button-repaint":[e.x,e.y,e.width,e.height,e.r]}))},v.prototype.click=function(){this.checked?this.uncheck():this.check()},v.prototype.attachEventHandlers=function(e){var t=this;p.prototype.attachEventHandlers.apply(this,[e,{click:function(){t.click()}}])},v.prototype.getLogicalSpace=function(){var e,t=B.linkedItems.smartLabel,a=this.text.style;return e=p.prototype.getLogicalSpace.apply(this,arguments),t.useEllipsesOnOverflow(B.config.useEllipsesWhenOverflow),t.setStyle(a),t=t.getSmartText(this.text.plaintext),{width:t.width+this.interPadding+e.width,height:Math.max(e.height,t.height)}},v.prototype.draw=function(e,t,a){var o,i,r=this.conf;i=B.linkedItems.smartLabel;var n,s=T.colorManager,h=this.text.plaintext,d=l.getKeys();return this.registerSymbol(this.regSymbolCmd),o=this.node=p.prototype.draw.apply(this,arguments),this.pos={x:e,y:t,width:r.width,height:r.height,r:r.radius},n=this.text.style,n.fill=n.fill||"#"+s.getColor("baseFontColor"),i.useEllipsesOnOverflow(B.config.useEllipsesWhenOverflow),i.setStyle(n),i=i.getSmartText(h),o=o.getBBox(),s=l.getComponent(this._id,this.pId,d.KEY_TEXT),this.textNode=s(a.parentLayer).attr({text:h,x:o.x+o.width+i.width/2+this.interPadding,y:o.y+o.height/2}).css(n),r=r.height>i.height?r.height:i.height,s=l.getComponent(this._id,this.pId,d.KEY_RECT),s(a.parentLayer).attr({height:r,width:o.width+i.width+this.interPadding,x:e,y:t,stroke:k})},v.prototype.dispose=function(){this.textNode&&this.textNode.remove(),this.textNode=void 0,p.prototype.dispose.call(this)},A.prototype=Object.create(p.prototype),A.prototype.constructor=v,A.prototype.setConfiguaration=function(e){var t=T.colorManager;b.color||(b.color="#"+t.getColor("altHGridColor")),a(b,this.conf),a(e,this.conf)},A.prototype.getLogicalSpace=function(){var e=this.conf,t={};return a(b,t),a(t,e),p.prototype.getLogicalSpace.call(this)},A.prototype.getDefaultLayer=function(){var e=l.getKeys();return l.getComponent(this._id,this.pId,e.KEY_GROUP)("scroll")},A.prototype.registerSymbol=void 0,A.prototype._setConfiguaration=function(){},A.prototype.attachEventHandlers=function(e){return e&&e.scroll&&"function"==typeof e.scroll&&(this.evt.scroll=e.scroll),p.prototype.attachEventHandlers.apply(this,arguments),this},A.prototype.draw=function(){var e,t,o,i,r,n,s,h,d,c,p,g,u,m,v,x;v=this.conf;var y,w=l.getKeys(),C={},k=B.get("config","animationObj"),A=k.animObj,L=k.dummyObj;o={};var S=k.duration;return 1===arguments.length?(v=arguments[0],e=v.x,t=v.y,s=v.parentLayer,r=!!v.sepLayer):(e=arguments[0],t=arguments[1],r=arguments[2],v&&r?a(r,v):r={},s=r.parentLayer,r=!!r.sepLayer),a(b,o),v.isHorizontal?delete o.width:delete o.height,a(o,v),t+=v.padding,o=v.height,i=v.width,n=v.isHorizontal,x=v.startPercent,h=v.scrollRatio,d=v.showButtons,c=v.displayFlat,p=v.fullCanvasWidth,g=v.windowedCanvasWidth,u=v.color,m=v.roundEdges,C["scroll-repaint"]=[e,t,i,o],s=s?s:this.getDefaultLayer(),y=l.getComponent(this._id,this.pId,w.KEY_RECT),s=r?y("scroll-child"):s,y=l.getComponent(this._id,this.pId,w.KEY_SCROLLER),this.node=y(e,t,i,o,n,{scrollPosition:v.scrollPosition||f(x,0),displayStyleFlat:c,showButtons:d},s).data("fullCanvasWidth",p).data("windowedCanvasWidth",g).attr({"scroll-ratio":h,fill:u,r:m&&2||0}).scroll(this.evt.scroll),l.getCreationStatus()||(this.node.undrag(),this.node.animateWith(L,A,C,S,k.animType),this.node.attr({"scroll-display-style":c?"flat":"3d","scroll-position":v.scrollPosition||f(x,0)}).scroll(this.evt.scroll)),this.node},L.POSITION_TOP="top",L.POSITION_BOTTOM="bottom",L.prototype=Object.create(p.prototype),L.prototype.constructor=L,L.allNodes=[],L.prototype.getListRefernce=function(){return this.listContainerManager},L.prototype.attachEventHandler=function(e){var t=this.evt;(e=e.tooltext)&&(t.tooltext=e)},L.prototype.getLogicalSpace=function(){var e=this.listContainerManager.getFirstContainer().atomicLists;return e&&0===e.length?{width:0,height:0}:p.prototype.getLogicalSpace.call(this)},L.prototype.draw=function(){var e=this.listContainerManager.getFirstContainer().atomicLists;return e&&0===e.length?(this.hide(),{getBBox:function(){return{width:0,height:0}}}):(e=p.prototype.draw.apply(this,arguments),L.allNodes.push(this.node),e)},L.prototype.dispose=function(){this.listContainerManager&&this.listContainerManager.dispose(),this.listContainerManager=void 0,p.prototype.dispose.call(this)},S.prototype.addSymbol=function(e,t){var a=this.symbolList;t?a.unshift(e):a.push(e)},S.prototype.setConfiguaration=function(e){var t=e.buttons;e=e.group,t&&a(t,this.btnConfig),e&&a(e,this.groupConfig)},S.prototype.draw=function(e,t,a){var o,i,r=this.preId,n=this.symbolList,s=this.groupConfig,h=this.btnConfig,d=t.x,c=t.y,p=0,g=0,u=Number.NEGATIVE_INFINITY;for(o=l.getKeys(),r=this.id=r.toString()+a,P.toolbarGroup=P.toolbar||{},a=l.getComponent(this.id,this.pId,o.KEY_GROUP),e=a("toolbar-group"+r,e).trackTooltip(!0),a=l.getComponent(this.id,this.pId,o.KEY_RECT),r=this.groupRect=a(e).attr({height:0,width:0,x:d,y:c}),d+=s.hPadding,c+=s.vPadding,g+=s.hPadding,p+=s.vPadding,o=0,a=n.length;a>o;o++)i=n[o],i._setConfiguaration(h),i=i.draw(d,c,{parentLayer:e}),i=i.getBBox(),u<i.height&&(u=i.height),d+=i.width+(i=h.spacing);return g+=d+s.hPadding-t.x-i-s.offsetAdjustment,p+=u+s.vPadding+s.offsetAdjustment,isFinite(p)||(p=0),isFinite(g)||(g=0),r.attr({height:p,width:g}).attr({fill:s.fill,r:s.radius,stroke:s.borderColor,"stroke-width":s.borderThickness}),i=r.getBBox(),{height:i.height,width:i.width}},S.prototype.getLogicalSpace=function(){var e,t,a,o=this.symbolList,i=0,r=0,n=Number.NEGATIVE_INFINITY,s=0;for(t=0,a=o.length;a>t;t++)e=o[t],e._setConfiguaration(this.btnConfig),e=e.getLogicalSpace(),r+=e.width+this.btnConfig.spacing,s+=e.width,n=n<e.height?e.height:n;return s?(n!==Number.NEGATIVE_INFINITY&&r&&(r-=this.btnConfig.spacing-2*this.groupConfig.hPadding-this.groupConfig.offsetAdjustment,i=n+2*this.groupConfig.vPadding+this.groupConfig.offsetAdjustment),{width:r,height:i}):{width:0,height:0}},S.prototype.dispose=function(){for(var e=this.symbolList,t=0,a=e.length;a>t;t++)e[t].dispose();e.length=0,this.groupRect.remove()},D.prototype.getId=function(){return this.id},D.prototype.addComponent=function(e){this.componentGroups.push(e)},D.prototype.draw=function(e,t){var a,o,i,r,n=this.componentGroups;r=this.id;var s,h,d=e,c=t,p=this.toolbarConfig,g=Number.NEGATIVE_INFINITY;for(o=l.getKeys(),P.toolbar=P.toolbar||{},s=l.getComponent(this.id,this.pId,o.KEY_GROUP,!0),this.group=r=s(r),s=l.getComponent(this.id,this.pId,o.KEY_RECT,!0),s=this.toolbarRect=s(r).attr({height:0,width:0,x:d,y:c}),d+=p.hPadding,c+=p.vPadding,o=0,i=n.length;i>o;o++)a=n[o],h=a.groupConfig.spacing||1,a=a.draw(r,{x:d,y:c},o),d+=a.width+h,g=g>a.height?g:a.height;return n=g,d=d-h-p.hPadding-e,isFinite(n)||(n=0),isFinite(d)||(d=0),s.attr({height:n+=2*p.vPadding,width:d+=2*p.hPadding}).attr({fill:p.fill,r:p.radius,stroke:p.borderColor,"stroke-width":p.borderThickness}),{height:n,width:d}},D.prototype.getLogicalSpace=function(){var e,t,a,o,i=this.componentGroups,r=e=0,n=Number.NEGATIVE_INFINITY,s=0;for(e=0,t=i.length;t>e;e++)a=i[e],o=a.getLogicalSpace(),a=a.groupConfig.spacing||1,r+=o.width+a,s+=o.width,n=n<o.height?o.height:n;return s?(r-=a-2*this.toolbarConfig.hPadding,e=n+2*this.toolbarConfig.vPadding,{width:r,height:e}):{width:0,height:0}},D.prototype.dispose=function(){for(var e=this.componentGroups,t=0,a=e.length;a>t;t++)e[t].dispose();e.length=0,this.toolbarRect.remove(),l.emptyPool(this.pId)},{init:function(e){P=e.graphics,B=e.chart,T=e.components},HorizontalToolbar:D,ComponentGroup:S,Symbol:p,CheckboxSymbol:v,Scroller:A,SymbolWithContext:L,getInstanceById:function(e){return V[e]}}}(),FusionCharts.register("component",["toolbox","toolbox",{onceInitialized:!1,ALIGNMENT_HORIZONTAL:0,ALIGNMENT_VERTICAL:1,POSITION_TOP:0,POSITION_RIGHT:1,POSITION_BOTTOM:2,POSITION_LEFT:3,init:function(e){return this.onceInitialized?(this.configure(),this._iCount):(s.init(e),this._options=e,this._chart=e.chart,this._iCount=++A,this.configure(),this.onceInitialized=!0,this._iCount)},configure:function(){var e,t=this._chart.jsonData.chart;s.init(this._options),x.scale=f(t.toolbarbuttonscale,1.15),x.width=f(t.toolbarbuttonwidth,15),x.height=f(t.toolbarbuttonheight,15),x.radius=f(t.toolbarbuttonradius,2),x.spacing=f(t.toolbarbuttonspacing,5),x.fill=g(v(t.toolbarbuttoncolor,"ffffff")),x.labelFill=g(v(t.toolbarlabelcolor,"cccccc")),x.symbolFill=g(v(t.toolbarsymbolcolor,"ffffff")),x.hoverFill=v(t.toolbarbuttonhovercolor),x.stroke=g(v(t.toolbarbuttonbordercolor,"bbbbbb")),x.symbolStroke=g(v(t.toolbarsymbolbordercolor,"9a9a9a")),x.strokeWidth=f(t.toolbarbuttonborderthickness,1),x.symbolStrokeWidth=f(t.toolbarsymbolborderthickness,1),e=x.symbolPadding=f(t.toolbarsymbolpadding,5),x.symbolHPadding=f(t.toolbarsymbolhpadding,e),x.symbolVPadding=f(t.toolbarsymbolvpadding,e),b.color=t.scrollcolor&&g(t.scrollcolor),b.padding=f(t.scrollpadding,0),b.height=f(t.scrollheight,12),b.width=f(t.scrollwidth,12),b.displayFlat=f(t.flatscrollbars,0),b.scrollBar3DLighting=f(t.scrollbar3dlighting,1),b.startPercent=Math.min(1,Math.max(0,parseFloat(t.scrolltoend)||0)),b.showButtons=!!f(t.scrollshowbuttons,1),b.buttonPadding=f(t.scrollbtnpadding,0),y.baseFontFamily=v(t.basefont,"Verdana,sans"),y.baseFontSize=f(t.basefontsize,10),y.baseFontColor=v(t.basefontcolor,"595959")},getAPIInstances:function(e){var t=this._chart,a={};switch(e){case this.ALIGNMENT_HORIZONTAL:a.Toolbar=s.HorizontalToolbar}return l.init(t.components,this._iCount),a.ComponentGroup=s.ComponentGroup,a.Symbol=s.Symbol,a.Scroller=s.Scroller,a.SymbolWithContext=s.SymbolWithContext,a.SymbolStore=n,a.CheckboxSymbol=s.CheckboxSymbol,a},getDefaultConfiguration:function(){return x},clean:function(){l.hideRecursive(this._iCount)}}])}]),FusionCharts.register("module",["private","modules.renderer.js-powercharts",function(){var e=this,t=e.hcLib,a=t.Raphael,o="VML"===a.type,i=e.window,r=i.Image,n=i.document,s=t.preDefStr,l=s.colors.B90000,h=s.line,d=s.column,c=s.bar,p=s.volume,g=t.BLANKSTRING,u=t.BLANKSTRING,m=t.parseTooltext,f=t.pluck,v=t.getValidValue,x=t.pluckNumber,b=t.getFirstValue,y=t.parseUnsafeString,w=t.extend2,C=t.getDashStyle,k=t.toRaphaelColor,A=t.toPrecision,L=t.hasSVG,S=t.isIE,D=t.regex.dropHash,T=t.HASHSTRING,P=t.hashify,s=t.setAttribDefs,B=t.parseConfiguration,V=t.attrTypeNum,I=function(e,t){var a;e||(e={});for(a in t)e[a]=t[a];return e},_=t.COMMASPACE,E=t.chartPaletteStr={chart2D:{bgColor:"bgColor",bgAlpha:"bgAlpha",bgAngle:"bgAngle",bgRatio:"bgRatio",canvasBgColor:"canvasBgColor",canvasBaseColor:"canvasBaseColor",divLineColor:"divLineColor",legendBgColor:"legendBgColor",legendBorderColor:"legendBorderColor",toolTipbgColor:"toolTipbgColor",toolTipBorderColor:"toolTipBorderColor",baseFontColor:"baseFontColor",anchorBgColor:"anchorBgColor"},chart3D:{bgColor:"bgColor3D",bgAlpha:"bgAlpha3D",bgAngle:"bgAngle3D",bgRatio:"bgRatio3D",canvasBgColor:"canvasBgColor3D",canvasBaseColor:"canvasBaseColor3D",divLineColor:"divLineColor3D",divLineAlpha:"divLineAlpha3D",legendBgColor:"legendBgColor3D",legendBorderColor:"legendBorderColor3D",toolTipbgColor:"toolTipbgColor3D",toolTipBorderColor:"toolTipBorderColor3D",baseFontColor:"baseFontColor3D",anchorBgColor:"anchorBgColor3D"}},O=t.each,N=t.addEvent,F=t.removeEvent,R=t.getTouchEvent,M=t.componentDispose,W=function(e){return void 0!==e&&null!==e},G="rgba(192,192,192,"+(S?.002:1e-6)+")",j=t.TOUCH_THRESHOLD_PIXELS,H=t.CLICK_THRESHOLD_PIXELS,z=8===i.document.documentMode?"visible":u,Y=t.BGRATIOSTRING,U=Math,J=U.sin,q=U.cos,K=U.round,X=U.min,Q=U.max,Z=U.abs,$=U.PI,ee=U.ceil,te=U.floor,ae=U.sqrt,oe=U.pow,ie=$/180,re=t.hasTouch,ne=re?j:H,se=t.getFirstColor,le=t.setLineHeight,he=t.pluckFontSize,de=t.getFirstAlpha,ce=t.graphics.getDarkColor,pe=t.graphics.getLightColor,ge=t.graphics.convertColor,ue=t.POSITION_TOP,me=t.POSITION_BOTTOM,fe=t.POSITION_RIGHT,ve=t.POSITION_LEFT,xe=t.bindSelectionEvent,be=t.chartAPI,ye=t.graphics.mapSymbolName,we=t.COMMASTRING,Ce=t.HUNDREDSTRING,ke=t.getMouseCoordinate,j=!/fusioncharts\.com$/i.test(i.location.hostname),Ae=t.plotEventHandler,Le=e.xssEncode,Se=t.SHAPE_RECT,H=t.graphics,De=H.parseColor,Te=H.getValidColor,Pe=function(){this.data("move",!1),clearTimeout(this._longpressactive),delete this._longpressactive},Be=t.createElement;t.eventList.chartupdated="FC_ChartUpdated",t.eventList.dataposted="FC_DataPosted",t.eventList.dataposterror="FC_DataPostError",t.eventList.datarestored="FC_DataRestored",e.addEventListener("rendered",function(e){e=e.sender;var t=e.__state,a=e.jsVars&&e.jsVars.instanceAPI;!t.listenersAdded&&a&&"function"==typeof a.getCollatedData&&(e.addEventListener(["chartupdated","dataupdated","rendered"],function(e){delete e.sender.__state.hasStaleData}),t.listenersAdded=!0)}),be("spline",{friendlyName:"Spline Chart",standaloneInit:!0,singleseries:!0,creditLabel:j,defaultDatasetType:"msspline",defaultPlotShadow:1,applicableDSList:{spline:!0},getSplineExtremities:function(e,t,a,o,i){var r=[],n=!1;for(o=o||0,i=i||{max:Number.MIN_VALUE,min:Number.MAX_VALUE};o<e.length;++o)if(n)if(isNaN(e[o].config.setValue)||null===e[o].config.setValue){if(!a)break}else r.push({index:o,y:e[o].config.setValue});else isNaN(e[o].config.setValue)||null===e[o].config.setValue||(n=!0,r.push({index:o,y:e[o].config.setValue}));return 2<r.length&&this.evalSplineExtremities(r,t,i),o<e.length&&!a&&this.getSplineExtremities(e,t,a,o,i),i},evalSplineExtremities:function(e,t,a){var o,i,r,n={};for(i=0;i<e.length;++i)o=e[i].index,n["D"+o]=0;for(o=0;10>o;++o)for(i=0;i<e.length;++i)r=0===i?(3*(e[i+1].y-e[i].y)-n["D"+e[i+1].index])/2:i===e.length-1?(3*(e[i].y-e[i-1].y)-n["D"+e[i-1].index])/2:(3*(e[i+1].y-e[i-1].y)-n["D"+e[i+1].index]-n["D"+e[i-1].index])/4,n["D"+e[i].index]=r;for(t=K(t/(e.length-1)),i=1;i<e.length;++i)this.getSegmentExtremities(i,e,n,a,t)},getSegmentExtremities:function(e,t,a,o,i){var r,n,s,l,h;for(r=a["D"+t[0].index],n=a["D"+t[e].index],a=t[0].y,s=3*(t[e].y-t[0].y)-2*r-n,e=2*(t[0].y-t[e].y)+r+n,t=o.max,n=o.min,l=0;i>=l;l++)h=l/i,h=a+r*h+s*h*h+e*h*h*h,n>h&&(n=h),h>t&&(t=h);o.max=t,o.min=n}},be.sscartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),be("splinearea",{friendlyName:"Spline Area Chart",standaloneInit:!0,hasLegend:!1,singleseries:!0,creditLabel:j,defaultDatasetType:"mssplinearea",defaultPlotShadow:0,anchorAlpha:"100"},be.spline),be("msspline",{standaloneInit:!0,friendlyName:"Multi-series Spline  Chart",creditLabel:j,defaultDatasetType:"msspline",applicableDSList:{msspline:!0},defaultPlotShadow:1,getSplineExtremities:be.spline.getSplineExtremities,evalSplineExtremities:be.spline.evalSplineExtremities,getSegmentExtremities:be.spline.getSegmentExtremities},be.mscartesian),be("mssplinearea",{friendlyName:"Multi-series Spline Area Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:"mssplinearea",defaultPlotShadow:0},be.msspline),be("mssplinedy",{friendlyName:"Multi-series Dual Y-Axis Spline Chart",standaloneInit:!0,creditLabel:j,isDual:!0,defaultDatasetType:"msspline",applicableDSList:{msspline:!0},getSplineExtremities:be.spline.getSplineExtremities,evalSplineExtremities:be.spline.evalSplineExtremities,getSegmentExtremities:be.spline.getSegmentExtremities},be.msdybasecartesian),be("msstepline",{friendlyName:"Multi-series Step Line Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:"msstepline",defaultPlotShadow:1,applicableDSList:{msstepline:!0}},be.mscartesian),be("multiaxisline",{friendlyName:"Multi-axis Line Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:"multiaxisline",defaultPlotShadow:1,axisPaddingLeft:0,axisPaddingRight:0,applicableDSList:{LINE:!0},_createDatasets:function(){var e,t,a,o,i,r,n,s,l,h,d,c,p=this.components,g=this.config,m=this.jsonData,v=m.axis,x=0,b=this.defaultDatasetType,w=this.applicableDSList,C=p.legend.components.items||[],k=this.isStacked,A={},L=0;if(v){for(e=v.length,this.config.categories=m.categories&&m.categories[0].category,m=p.dataset||(p.dataset=[]),o=m.length,c=g.axisDataSetMap=[],t=0;e>t;t++)if(a=v[t].dataset,c[t]=[],a)for(r=a.length,x+=r,g=0;r>g;g++)h=a[g],h.seriesname&&(h.seriesname=y(h.seriesname)),i=h.parentyaxis||u,s=(s=this.isDual&&"s"===i.toLowerCase()?f(h.renderas,this.sDefaultDatasetType):f(h.renderas,b))&&s.toLowerCase(),w[s]||(s=b),(i=FusionCharts.get("component",["dataset",s]))&&(void 0===A[s]?A[s]=0:A[s]++,d="datasetGroup_"+s,l=FusionCharts.register("component",["datasetGroup",s]),n=p[d],l&&!n&&(n=p[d]=new l,n.chart=this,n.init()),m[L]?(i=m[L],n=i.JSONData,n=n.data?n.data.length:0,s=h.data?h.data.length:0,n>s&&i.removeData(s-1,n-s,!1),i.JSONData=h,i.index=t,i.axisIndex=t,i.configure(),c[t].push(L),L+=1):(i=new i,m.push(i),i.chart=this,i.index=t,i.axisIndex=t,c[t].push(L),L+=1,n&&(k?n.addDataSet(i,0,A[s]):n.addDataSet(i,A[s],0)),i.init(h)));if(o>x){for(p=o-x,g=x;o>g;g++)M.call(m[g]);m.splice(x,p),C.splice(x,p)}}else this.setChartMessage()},_createAxes:function(){var e=this.components,t=FusionCharts.register("component",["axis","cartesian"]);e.yAxis=[],e.xAxis=[],e.xAxis[0]=e=new t,e.chart=this,e.init(),this._setCategories()},_feedAxesRawData:function(){var e,t,a=this.components,o=this.config,i=a.colorManager,r=a.numberFormatter,n=this.jsonData,s=n.chart,l=this.is3d;t=l?E.chart3D:E.chart2D;var h,d,c,p,g,u,m,v,b,y,C,k,A=FusionCharts.register("component",["axis","cartesian"]);e=!1;var L=0;for(e={outCanfontFamily:f(s.outcnvbasefont,s.basefont,"Verdana,sans"),outCanfontSize:he(s.outcnvbasefontsize,s.basefontsize,10),outCancolor:f(s.outcnvbasefontcolor,s.basefontcolor,i.getColor(t.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:s.xaxisnamepadding,axisValuePadding:s.labelpadding,axisNameFont:s.xaxisnamefont,axisNameFontSize:s.xaxisnamefontsize,axisNameFontColor:s.xaxisnamefontcolor,axisNameFontBold:s.xaxisnamefontbold,axisNameFontItalic:s.xaxisnamefontitalic,axisNameBgColor:s.xaxisnamebgcolor,axisNameBorderColor:s.xaxisnamebordercolor,axisNameAlpha:s.xaxisnamealpha,axisNameFontAlpha:s.xaxisnamefontalpha,axisNameBgAlpha:s.xaxisnamebgalpha,axisNameBorderAlpha:s.xaxisnameborderalpha,axisNameBorderPadding:s.xaxisnameborderpadding,axisNameBorderRadius:s.xaxisnameborderradius,axisNameBorderThickness:s.xaxisnameborderthickness,axisNameBorderDashed:s.xaxisnameborderdashed,axisNameBorderDashLen:s.xaxisnameborderdashlen,axisNameBorderDashGap:s.xaxisnameborderdashgap,useEllipsesWhenOverflow:s.useellipseswhenoverflow,divLineColor:f(s.vdivlinecolor,s.divlinecolor,i.getColor(t.divLineColor)),divLineAlpha:f(s.vdivlinealpha,s.divlinealpha,l?i.getColor("divLineAlpha3D"):i.getColor("divLineAlpha")),divLineThickness:x(s.vdivlinethickness,s.divlinethickness,1),divLineIsDashed:Boolean(x(s.vdivlinedashed,s.vdivlineisdashed,s.divlinedashed,s.divlineisdashed,0)),divLineDashLen:x(s.vdivlinedashlen,s.divlinedashlen,4),divLineDashGap:x(s.vdivlinedashgap,s.divlinedashgap,2),showAlternateGridColor:x(s.showalternatevgridcolor,0),alternateGridColor:f(s.alternatevgridcolor,i.getColor("altVGridColor")),alternateGridAlpha:f(s.alternatevgridalpha,i.getColor("altVGridAlpha")),numDivLines:s.numvdivlines,labelFont:s.labelfont,labelFontSize:s.labelfontsize,labelFontColor:s.labelfontcolor,labelFontBold:s.labelfontbold,labelFontItalic:s.labelfontitalic,labelFontAlpha:s.labelalpha,maxLabelHeight:s.maxlabelheight,axisName:s.xaxisname,axisMinValue:s.xaxisminvalue,axisMaxValue:s.xaxismaxvalue,setAdaptiveMin:s.setadaptivexmin,adjustDiv:s.adjustvdiv,labelDisplay:s.labeldisplay,showLabels:s.showlabels,rotateLabels:s.rotatelabels,slantLabel:x(s.slantlabels,s.slantlabel),labelStep:x(s.labelstep,s.xaxisvaluesstep),showAxisValues:x(s.showxaxisvalues,s.showxaxisvalue),
showLimits:s.showvlimits,showDivLineValues:x(s.showvdivlinevalues,s.showvdivlinevalues),showZeroPlane:s.showvzeroplane,zeroPlaneColor:s.vzeroplanecolor,zeroPlaneThickness:s.vzeroplanethickness,zeroPlaneAlpha:s.vzeroplanealpha,showZeroPlaneValue:s.showvzeroplanevalue,trendlineColor:s.trendlinecolor,trendlineToolText:s.trendlinetooltext,trendlineThickness:s.trendlinethickness,trendlineAlpha:s.trendlinealpha,showTrendlinesOnTop:s.showtrendlinesontop,showAxisLine:x(s.showxaxisline,s.showaxislines,s.drawAxisLines,0),axisLineThickness:x(s.xaxislinethickness,s.axislinethickness,1),axisLineAlpha:x(s.xaxislinealpha,s.axislinealpha,100),axisLineColor:f(s.xaxislinecolor,s.axislinecolor,"#000000")},t={outCanfontFamily:f(s.outcnvbasefont,s.basefont,"Verdana,sans"),outCanfontSize:he(s.outcnvbasefontsize,s.basefontsize,10),outCancolor:f(s.outcnvbasefontcolor,s.basefontcolor,i.getColor(t.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),useEllipsesWhenOverflow:s.useellipseswhenoverflow,showAlternateGridColor:0,axisNameFont:s.yaxisnamefont,axisNameFontSize:s.yaxisnamefontsize,axisNameFontColor:s.yaxisnamefontcolor,axisNameFontBold:s.yaxisnamefontbold,axisNameFontItalic:s.yaxisnamefontitalic,axisNameBgColor:s.yaxisnamebgcolor,axisNameBorderColor:s.yaxisnamebordercolor,axisNameAlpha:s.yaxisnamealpha,axisNameFontAlpha:s.yaxisnamefontalpha,axisNameBgAlpha:s.yaxisnamebgalpha,axisNameBorderAlpha:s.yaxisnameborderalpha,axisNameBorderPadding:s.yaxisnameborderpadding,axisNameBorderRadius:s.yaxisnameborderradius,axisNameBorderThickness:s.yaxisnameborderthickness,axisNameBorderDashed:s.yaxisnameborderdashed,axisNameBorderDashLen:s.yaxisnameborderdashlen,axisNameBorderDashGap:s.yaxisnameborderdashgap},l=a.xAxis[0],l.setCommonConfigArr(e,!1,!1,!1),l.configure(),o.axesArr={leftAxes:[],rightAxes:[],axesMap:[],checkBox:[],leftSideSelected:!1},l=o.axesArr.leftAxes=[],u=o.axesArr.rightAxes=[],m=o.axesArr.axesMap=[],h=n.axis||[],d=0,c=h.length;c>d;d+=1){for(a.yAxis[d]?n=a.yAxis[d]:(n=a.yAxis[d]=new A,n.chart=this,n.init()),g=h[d],e=!1,k=0,p=g.dataset?g.dataset.length:0;p>k;k+=1)0!==Number(g.dataset[k].visible)&&(e=!0);k=x(g.showaxis,1),p=i.getPlotColor(d),v=f(g.color,s.axiscolor,p),ge(v,100),b=x(g.divlinethickness,s.divlinethickness,1),y=x(g.tickwidth,s.axistickwidth,2),C=x(g.axislinethickness,s.axislinethickness,2),(p=!x(g.axisonleft,1))?(m.push({side:"r",index:u.length,showAxis:k,checkBoxChecked:e}),u.push({index:d,showAxis:k,checkBoxChecked:e})):(k&&(o.axesArr.leftSideSelected=!0),m.push({side:"l",index:l.length,showAxis:k,checkBoxChecked:e}),l.push({index:d,showAxis:k,checkBoxChecked:e})),t.labelStep=x(g.yaxisvaluesstep,g.yaxisvaluestep,s.yaxisvaluesstep,s.yaxisvaluestep),t.axisMaxValue=g.maxvalue,t.axisMinValue=g.minvalue,t.setAdaptiveMin=x(g.setadaptiveymin,s.setadaptiveymin),t.numDivLines=x(g.numdivlines,s.numdivlines,4),t.adjustDiv=x(g.adjustdiv,s.adjustdiv),t.showAxisValues=x(g.showyaxisvalues,g.showyaxisvalue,s.showyaxisvalues,s.showyaxisvalue,1),t.showLimits=x(g.showlimits,s.showyaxislimits,s.showlimits,t.showAxisValues),t.showDivLineValues=x(g.showdivlinevalue,s.showdivlinevalues,g.showdivlinevalues,t.showAxisValues),t.showZeroPlane=x(g.showzeroplane,s.showzeroplane),t.showZeroPlaneValue=x(g.showzeroplanevalue,s.showzeroplanevalue),t.zeroPlaneColor=g.zeroplanecolor,t.zeroPlaneThickness=x(g.zeroplanethickness,g.divlinethickness,o.zeroplanethickness,2),t.zeroPlaneAlpha=x(g.zeroplanealpha,g.divlinealpha,o.zeroplanealpha),t.showZeroPlaneOnTop=o.showzeroplaneontop,t.divLineColor=f(g.divlinecolor,v),t.divLineAlpha=x(g.divlinealpha,s.divlinealpha,i.getColor("divLineAlpha"),100),t.divLineThickness=b,t.divLineIsDashed=Boolean(x(g.divlinedashed,g.divlineisdashed,s.divlinedashed,s.divlineisdashed,0)),t.divLineDashLen=x(g.divlinedashlen,s.divlinedashlen,4),t.divLineDashGap=x(g.divlinedashgap,s.divlinedashgap,2),t.showAxisLine=1,t.axisLineThickness=C,t.axisLineAlpha=100,t.axisLineColor=v,t.tickLength=y,t.tickColor=v,t.tickAlpha=100,t.tickWidth=C,t.axisName=g.title,t.rotateAxisName=1,n.setCommonConfigArr(w({},t),!0,!1,p),n.configure(),r.parseMLAxisConf(g,d),0===x(g.showaxis)?(n.hide(),n.setAxisConfig({axisIndex:d,drawAxisLineWRTCanvas:!1,drawLabels:!1,drawPlotlines:!1,drawAxisLine:!1,drawPlotBands:!1,drawAxisName:!1,drawTrendLines:!1,drawTrendLabels:!1,drawTick:!1,drawTickMinor:!1})):(n.show(),n.setAxisConfig({axisIndex:d,drawAxisLineWRTCanvas:!1,drawLabels:!0,drawPlotlines:!0,drawAxisLine:!0,drawPlotBands:!0,drawAxisName:!0,drawTrendLines:!0,drawTrendLabels:!0,drawTick:!0,drawTickMinor:!0})),L+=1}for(d=L,c=a.yAxis.length;c>d;d+=1)a.yAxis[d].hide()},_setAxisLimits:function(){var e,t,a,o,i=this.components,r=this.config.axisDataSetMap,n=i.dataset,i=i.yAxis,s=r.length,l=-(1/0),h=1/0;for(e=0;s>e;e+=1){for(t=0,a=r[e].length;a>t;t+=1)o=n[r[e][t]].getDataLimits(),l=Q(l,o.max),h=X(h,o.min);1/0===h&&(h=0),-(1/0)===l&&(l=h+1),i[e].setDataLimit(l,h),l=-(1/0),h=1/0}},_spaceManager:function(){var e,t,a=this.config,o=a.axesArr,i=this.components;t=a.legendPosition;var r=i.xAxis,n=i.yAxis,s=this.hasLegend,l=a.yDepth;e=i.legend;var h,d,c,p=a.axesPadding,g=0,u=0,m=a.axisDataSetMap.length,f=this.jsonData.chart,v=x(f.showborder,this.is3D?0:1),i=i.canvas.config.canvasBorderWidth;h=a.borderWidth=v?x(f.borderthickness,1):0;var b=a.canvasMarginTop,y=a.canvasMarginBottom,w=a.canvasMarginLeft,f=a.canvasMarginRight,C=a.height,v=a.width;for(this._allocateSpace({top:h,bottom:h,left:h,right:h}),this._allocateSpace({left:a.canvasMarginLeft,right:a.canvasMarginRight}),h=o.axesMap,d=o.leftAxes,o=o.rightAxes,c="right"===t?.3*a.canvasWidth:.3*a.canvasHeight,!1!==s&&r&&this._allocateSpace(e._manageLegendPosition(c)),s=0;m>s;s+=1)0!==h[s].showaxis&&(e=.7*a.canvasWidth,e=n[s].placeAxis(e),n[s]&&this._allocateSpace(e),c=h[s],"r"===c.side?(o[c.index].width=e.right,g+=p):(d[c.index].width=e.left,u+=p));t=t===me?.225*a.canvasHeight:.225*a.canvasWidth,this._manageChartMenuBar(t),e=.7*a.canvasWidth,e>g+u&&this._allocateSpace({left:u,right:g}),t=.6*a.canvasHeight,r[0]&&this._allocateSpace(r[0].placeAxis(t)),t=.325*a.canvasHeight,this._getDSspace&&this._allocateSpace(this._getDSspace(t)),l&&this._allocateSpace({bottom:l}),this._allocateSpace({top:i,bottom:i,left:i,right:i}),r=b>a.canvasTop?b-a.canvasTop:0,l=y>C-a.canvasBottom?y+a.canvasBottom-C:0,g=w>a.canvasLeft?w-a.canvasLeft:0,u=f>v-a.canvasRight?f+a.canvasRight-v:0,this._allocateSpace({top:r,bottom:l,left:g,right:u}),a.actualCanvasMarginTop=r,a.actualCanvasMarginLeft=g,a.actualCanvasMarginRight=u,a.actualCanvasMarginBottom=l},_postSpaceManagement:function(){var e=this.config,t=this.components,a=t.xAxis&&t.xAxis[0],o=t.legend,i=e.xDepth,r=t.canvas.config,t=r.canvasBorderWidth,n=r.canvasPadding,s=r.canvasPaddingLeft,r=r.canvasPaddingRight;a&&a.setAxisDimention({x:e.canvasLeft+(i||0)+Q(s,n),y:e.canvasBottom+(e.shift||0)+t,opposite:e.canvasTop-t,axisLength:e.canvasWidth-(i||0)-Q(s,n)-Q(r,n)}),a&&a.shiftLabels(-i,0),o.postSpaceManager()},_resuffelAxis:function(){var e,t,a,o,i,r=this.data("axisDetails"),n=r.iapi,s=n.config.axesArr;if(e=s.leftAxes,t=s.rightAxes,"l"===r.position){for(o=e.length-1;o>r.index;o--)if(e[o].showAxis){a=o,i=r.index;break}if(void 0!==a&&(r=w({},e[i]),e[i]=w({},e[a]),e[a]=w({},r)),s.leftSideSelected&&void 0===a)return;s.leftSideSelected=!0}else{for(o=0;o<r.index;o++)if(t[o].showAxis){a=o,i=r.index;break}if(void 0!==a&&(r=w({},t[i]),t[i]=w({},t[a]),t[a]=w({},r)),!s.leftSideSelected&&void 0===a)return;s.leftSideSelected=!1}n._drawAxis(!0)},_dolegendInteraction:function(e,t){var a,o=t.components.dataset,i=t.components.legend;if(this.checked)for(a in o)o.hasOwnProperty(a)&&(o[a].visible||o[a].axisIndex!==e||o[a].show());else for(a in o)o.hasOwnProperty(a)&&o[a].visible&&o[a].axisIndex===e&&o[a].hide();i.drawLegend()},_drawAxis:function(e){var t,a,o,i,r,n,s,l,h,d,c,p,g,m,f,v,x,b,y=this.config,w=y.axesArr,C=this.components,A=C.yAxis||[],L=C.xAxis||[],S=C.paper,D=y.allowAxisShift,T=y.allowSelection,P=this.graphics.axisHotElement||[],B=this.graphics.trackerContainer,V=this.graphics.buttonGroup,I=C.canvas.config,_=I.canvasBorderWidth,E=I.canvasPaddingTop,I=I.canvasPaddingBottom,O=y.axesPadding,N=this.components.tb,F=0,R=0,M=0,W=!1,j=0;h=this.get("config","animationObj"),x=h.animObj,b=h.dummyObj,c=h.transposeAnimDuration,p=h.animType,h=C.tb||(C.tb=new(FusionCharts.register("component",["toolbox","toolbox"]))),h.init({iAPI:this,graphics:this.graphics,chart:this,components:C}),d=C.toolBoxAPI.CheckboxSymbol,r=w.leftAxes,C=w.rightAxes,m=w.checkBox;for(n in m)m.hasOwnProperty(n)&&m[n].checkbox.hide();for(l={cursor:"col-resize",stroke:G,fill:G,ishot:!0,visibility:!0},n=r.length-1;n>=0;--n)if(0!==r[n].showAxis&&(t=y.canvasLeft-_-F-O,a=y.canvasTop+E,o=y.canvasHeight-E-I,i=r[n].width,g=r[n].index,s=A[g],s.setAxisDimention({x:t,y:a,opposite:y.canvasRight+_,axisLength:o}),F+=i+O,!W&&w.leftSideSelected?(s.setAxisConfig({isActive:!0,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}),W=!0):s.setAxisConfig({isActive:!1,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}),T&&(m[g]?(s=m[g],f=t-i-m[g].checkboxPrePos.x,v=a+o+4-m[g].checkboxPrePos.y,s.checkbox.show(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),c?s.checkbox.node.animateWith(b,x,{transform:"t"+f+","+v},c,p):s.checkbox.node.attr({transform:"t"+f+","+v})):(s=m[g]={},s.checkbox=new d(u,!0,j++,N.pId),s.checkbox.conf=h.getDefaultConfiguration(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),s.checkbox.draw(t-i,a+o+4,{parentLayer:V}),s.checkboxPrePos={x:t-i,y:a+o+4}),s.checkbox.node.attr({stroke:k({color:y.checkBoxColor,alpha:100})}),s.checkbox.node.attr({"stroke-width":[1,2]}),y.axisConfigured&&(r[n].checkBoxChecked?s.checkbox.check():s.checkbox.uncheck())),D)){if(l.x=t-i,l.y=a,l.width=i,l.height=o,P[M])for(o=P[M].attr(l),o.show(),t=0,a=o.events.length;a>t;t++)o.events[t].unbind(),o.events.splice(t,1),--a;else o=P[M]=S.rect(l,B);o.data("axisDetails",{iapi:this,position:"l",index:n}),re?o.touchstart(this._resuffelAxis):o.mousedown(this._resuffelAxis),M+=1}for(n=0,F=C.length;F>n;n+=1)if(0!==C[n].showAxis&&(g=C[n].index,s=A[g],t=y.canvasRight+_+R+O,a=y.canvasTop+E,o=y.canvasHeight-E-I,i=C[n].width,s.setAxisDimention({x:t,y:a,opposite:y.canvasLeft-_,axisLength:o}),R+=C[n].width+O,W||w.leftSideSelected?s.setAxisConfig({isActive:!1,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}):(s.setAxisConfig({isActive:!0,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}),W=!0),r=s.getAxisData("axisNamePadding"),T&&(m[g]?(s=m[g],f=t-i-s.checkboxPrePos.x,v=a+o+4-s.checkboxPrePos.y,s.checkbox.show(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),c?s.checkbox.node.animateWith(b,x,{transform:"t"+f+","+v},c,p):s.checkbox.node.attr({transform:"t"+f+","+v})):(s=m[g]={},s.checkbox=new d(u,!0,j++,N.pId),s.checkbox.conf=h.getDefaultConfiguration(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),s.checkbox.draw(t+r,a+o+4,{parentLayer:V}),s.checkboxPrePos={x:t-i,y:a+o+4}),s.checkbox.node.attr({stroke:k({color:y.checkBoxColor,alpha:100})}),s.checkbox.node.attr({"stroke-width":[1,2]}),y.axisConfigured&&(C[n].checkBoxChecked?s.checkbox.check():s.checkbox.uncheck())),D)){if(l.x=t,l.y=a,l.width=i,l.height=o,P[M])for(o=P[M].attr(l),o.show(),t=0,a=o.events.length;a>t;t++)o.events[t].unbind(),o.events.splice(t,1),--a;else o=P[M]=S.rect(l,B);o.data("axisDetails",{iapi:this,position:"r",index:n}),re?o.touchstart(this._resuffelAxis):o.mousedown(this._resuffelAxis),M+=1}for(this.graphics.axisHotElement=P,n=M,F=P.length;F>n;n+=1)P[n].hide();if(!e)for(n=0,F=L.length;F>n;n++)L[n].draw();for(n=0,F=A.length;F>n;n++)A[n].draw();y.axisConfigured=!1}},be.mscartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),be("inversemsline",{friendlyName:"Inverted Y-Axis Multi-series Line Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:h,defaultPlotShadow:1,applicableDSList:{LINE:!0}},be.msinversecartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),be("inversemsarea",{friendlyName:"Inverted Y-Axis Multi-series Area Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:"area",applicableDSList:{area:!0}},be.msinversecartesian),be("inversemscolumn2d",{friendlyName:"Inverted Y-Axis Multi-series Column Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:d,applicableDSList:{COLUMN:!0}},be.msinversecartesian),be("logmsline",{standaloneInit:!0,friendlyName:"Multi-series Line Chart",creditLabel:j,defaultDatasetType:h,defaultPlotShadow:1,applicableDSList:{LINE:!0}},be.mslog),be("logmscolumn2d",{friendlyName:"Multi-series Log Column Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:d,applicableDSList:{COLUMN:!0}},be.mslog),be("logstackedcolumn2d",{friendlyName:"Stacked Log Column Chart",standaloneInit:!0,creditLabel:j,isStacked:!0},be.logmscolumn2d),be("errorbar2d",{friendlyName:"Error Bar Chart",standaloneInit:!0,creditLabel:j,showValues:0,isErrorChart:!0,fireGroupEvent:!0,hasLegend:!0,defaultDatasetType:"errorbar2d",applicableDSList:{errorbar2d:!0},eiMethods:{}},be.mscartesian),FusionCharts.register("component",["dataset","ErrorBar2D",{configure:function(){var e,a,o,i,r,n,s,l,h,d,c,p,g,m,y,w,C,A,L,S,D,T,P,B,V,I,_,E,O,N=this.chart,F=this.config,R=this.JSONData,M=R.data,W=N.config.categories,G=X(W&&W.length,M&&M.length),j=N.jsonData.chart,H=N.components.colorManager,z=H.getPlotColor(this.index||this.positionIndex),Y=x(R.dashed,j.plotborderdashed),U=x(j.useplotgradientcolor,1),J=t.parseUnsafeString,q=J(j.yaxisname),Z=J(j.xaxisname),$=J(f(j.tooltipsepchar,", ")),ee=x(j.seriesnameintooltip,1),te=t.parseTooltext,ae=t.getDashStyle,oe=this.components.data,ie=N.components.numberFormatter,re=N.isBar,ne=N.is3D;A=N.isStacked;var se,le,he;for(e={},e=e.dataObj||(e.dataObj={}),c=e.chart||(e.chart={}),F.legendSymbolColor=z,e=F.showplotborder=x(j.showplotborder,ne?0:1),F.plotDashLen=l=x(j.plotborderdashlen,5),F.plotDashGap=h=x(j.plotborderdashgap,4),F.plotfillAngle=p=x(360-j.plotfillangle,re?180:90),F.plotFillAlpha=g=f(R.alpha,j.plotfillalpha,Ce),F.plotColor=f(R.color,z),F.legendSymbolColor=F.plotColor,F.isRoundEdges=d=x(j.useroundedges,0),F.plotRadius=x(j.useRoundEdges,F.isRoundEdges?1:0),F.plotFillRatio=m=f(R.ratio,j.plotfillratio),F.plotgradientcolor=y=t.getDefinedColor(j.plotgradientcolor,H.getColor("plotGradientColor")),!U&&(y=u),F.plotBorderAlpha=w=e?f(j.plotborderalpha,g,Ce):0,F.plotBorderColor=C=f(j.plotbordercolor,ne?"#ffffff":H.getColor("plotBorderColor")),F.plotBorderThickness=U=x(j.plotborderthickness,1),F.plotBorderDashStyle=Y=Y?ae(l,h,U):"none",F.showValues=x(R.showvalues,j.showvalues,1),F.valuePadding=x(j.valuepadding,2),F.enableAnimation=se=x(j.animation,j.defaultanimation,1),F.animation=se?{duration:1e3*x(j.animationduration,1)}:!1,c.transposeAnimation=F.transposeAnimation=x(j.transposeanimation,c.transposeAnimation,se),F.transposeAnimDuration=1e3*x(j.transposeanimduration,.2),F.showShadow=d||ne?x(j.showshadow,1):x(j.showshadow,H.getColor("showShadow")),F.showHoverEffect=c=x(j.plothovereffect,j.showhovereffect,void 0),F.showTooltip=H=x(j.showtooltip,1),F.stack100Percent=se=x(N.stack100percent,j.stack100percent,0),F.definedGroupPadding=Q(x(j.plotspacepercent),0),F.plotSpacePercent=Q(x(j.plotspacepercent,20)%100,0),F.maxColWidth=x(re?j.maxbarheight:j.maxcolwidth,50),F.showPercentValues=x(j.showpercentvalues,A&&se?1:0),F.showPercentInToolTip=x(j.showpercentintooltip,A&&se?1:0),F.plotPaddingPercent=x(j.plotpaddingpercent),F.rotateValues=x(j.rotatevalues)?270:0,F.placeValuesInside=x(j.placevaluesinside,0),F.includeInLegend=x(R.includeinlegend,1),F.errorInPercent=le=x(R.errorinpercent,j.errorinpercent),F.use3DLighting=x(j.use3dlighting,1),F.parentYAxis=se="s"===f(R.parentyaxis&&R.parentyaxis.toLowerCase(),"p")?1:0,oe||(oe=this.components.data=[]),he=0;G>he;he++)s=M&&M[he],A=(r=oe[he])&&r.config,r||(r=oe[he]={graphics:{}}),r.config||(A=oe[he].config={}),A.showValue=x(s.showvalue,F.showValues),A.setValue=r=ie.getCleanValue(s.value),A.setLink=f(s.link),A.toolTipValue=o=ie.dataLabels(r,se),A.setDisplayValue=z=J(s.displayvalue),A.displayValue=f(z,o),o=x(s.dashed),z=x(s.dashlen,l),a=h=x(s.dashgap,h),A.plotBorderDashStyle=a=1===o?ae(z,a,U):0===o?"none":Y,z=f(s.color,F.plotColor),g=f(s.alpha,F.plotFillAlpha),0>r&&!d&&(n=p,p=re?180-p:360-p),A.colorArr=L=t.graphics.getColumnColor(z+","+y,g,m,p,d,C,w.toString(),re?1:0,!!ne),A.label=o=v(J(f(W[he].tooltext,W[he].label))),0!==c&&(S=f(s.hovercolor,R.hovercolor,j.plotfillhovercolor,j.columnhovercolor,z),D=f(s.hoveralpha,R.hoveralpha,j.plotfillhoveralpha,j.columnhoveralpha,g),T=f(s.hovergradientcolor,R.hovergradientcolor,j.plothovergradientcolor,y),!T&&(T=u),P=f(s.hoverratio,R.hoverratio,j.plothoverratio,m),B=x(360-s.hoverangle,360-R.hoverangle,360-j.plothoverangle,p),V=f(s.borderhovercolor,R.borderhovercolor,j.plotborderhovercolor,C),I=f(s.borderhoveralpha,R.borderhoveralpha,j.plotborderhoveralpha,j.plotfillhoveralpha,w,g),g=x(s.borderhoverthickness,R.borderhoverthickness,j.plotborderhoverthickness,U),_=x(s.borderhoverdashed,R.borderhoverdashed,j.plotborderhoverdashed),E=x(s.borderhoverdashgap,R.borderhoverdashgap,j.plotborderhoverdashgap,l),O=x(s.borderhoverdashlen,R.borderhoverdashlen,j.plotborderhoverdashlen,h),_=_?ae(O,E,g):a,1==c&&S===z&&(S=pe(S,70)),z=t.graphics.getColumnColor(S+","+T,D,P,B,d,V,I.toString(),re?1:0,!!ne),A.setRolloutAttr={fill:ne?[k(L[0]),!F.use3DLighting]:k(L[0]),stroke:e&&k(L[1]),"stroke-width":U,"stroke-dasharray":a},A.setRolloverAttr={fill:ne?[k(z[0]),!F.use3DLighting]:k(z[0]),stroke:e&&k(z[1]),"stroke-width":g,"stroke-dasharray":_}),a=A.toolTipValue,z=v(J(f(s.tooltext,R.plottooltext,j.plottooltext))),A.setErrorValue=L=ie.getCleanValue(s.errorvalue),A.errorInPercent=x(s.errorinpercent,le,0),A.errorInPercent&&(A.setErrorValue=L=x((L/100*r).toFixed(2))),A.positiveErrorValue=ie.getCleanValue(s.positiveerrorvalue),A.errorInPercent&&A.positiveErrorValue&&(A.positiveErrorValue=x((A.positiveErrorValue/100*r).toFixed(2))),A.negativeErrorValue=ie.getCleanValue(s.negativeerrorvalue),A.errorInPercent&&A.negativeErrorValue&&(A.negativeErrorValue=x((A.negativeErrorValue/100*r).toFixed(2))),A.errorToolTipValue=S=ie.dataLabels(L,se),A.negativeErrorToolTipValue=ie.dataLabels(A.negativeErrorValue,se),A.positiveErrorToolTipValue=ie.dataLabels(A.positiveErrorValue,se),A.errorPercentValue=D=K(L/r*Ce*Ce)/Ce+"%",H?null===a?s=!1:void 0!==z?(r=[1,2,3,4,5,6,7,99,100,101,102,120,121],o={yaxisName:q,xaxisName:Z,formattedValue:a,errorValue:L,errorDataValue:S,errorPercentValue:D,errorPercentDataValue:D,positiveErrorValue:A.positiveErrorToolTipValue,negativeErrorValue:A.negativeErrorToolTipValue,label:o},s=te(z,r,o,s,j,R)):(ee&&(i=b(R&&R.seriesname)),s=i?i+$:u,s+=o?o+$:u):s=!1,A.toolText=s,A.setTooltext=s,n&&(p=n);F=this.config.includeInLegend,!1!==N.hasLegend&&F&&this._addLegend(),this.ErrorValueConfigure()},ErrorValueConfigure:function(){var e,a,o,i,r,n,s,l,h,d,c,p,g,y,w,C,k=this.chart,A=this.config,L=this.JSONData,S=L.data,D=k.config.categories,D=X(D&&D.length,S&&S.length),T=k.jsonData.chart,k=t.parseUnsafeString,P=this.components.data,B=k(T.yaxisname),V=k(T.xaxisname),I=x(T.seriesnameintooltip,1),_=k(f(T.tooltipsepchar,", ")),E=-(1/0),O=1/0,N=function(t){return A.showTooltip?null===h?t=!1:void 0!==t?(r=[1,2,3,4,5,6,7,99,100,101,102,120,121],n={yaxisName:B,xaxisName:V,formattedValue:o.toolTipValue,errorValue:l,errorDataValue:o.errorToolTipValue,errorPercentValue:o.errorPercentValue,errorPercentDataValue:o.errorPercentValue,positiveErrorValue:o.positiveErrorToolTipValue,negativeErrorValue:o.negativeErrorToolTipValue,label:o.label},t=m(t,r,n,e,T,L)):(I&&(i=b(L&&L.seriesname)),t=i?i+_:u,t+=o.label?o.label+_:u):t=!1,t};for(A.showValues=x(L.showvalues,T.showvalues,0),A.errorBarShadow=c=x(T.errorbarshadow,T.showshadow,1),A.ignoreEmptyDatasets=x(L.ignoreemptydatasets,0),g=x(T.halferrorbar,1),A.notHalfErrorBar=!x(T.halferrorbar,1),s=de(f(L.errorbaralpha,T.errorbaralpha,A.plotFillAlpha)),A.errorBarWidthPercent=x(L.errorbarwidthpercent,T.errorbarwidthpercent,70),A.errorBarColor=ge(se(f(L.errorbarcolor,T.errorbarcolor,"AAAAAA")),s),A.errorBarThickness=x(L.errorbarthickness,T.errorbarthickness,1),A.shadowOpacity=c?s/250:0,C=0;D>C;C++)e=S&&S[C],o=(a=P[C])&&a.config,c=s=void 0,void 0!==x(e.value)&&(a||(a=P[C]={graphics:{}}),a.config||(o=P[C].config={}),o.notHalfErrorBar=A.notHalfErrorBar,o.halfErrorBar=g,p=o.setValue,o.showValue=x(e.showvalue,A.showValues),o.hasErrorValue=void 0!==x(e.errorvalue)?1:0,l=o.setErrorValue,o.errorValue=l,h=a=o.errorToolTipValue,d=v(k(f(e.errorplottooltext,L.errorplottooltext,T.errorplottooltext,h))),a=N(d),(d=v(k(f(e.errorplottooltext,L.errorplottooltext,T.errorplottooltext,o.positiveErrorToolTipValue))))&&o.positiveErrorToolTipValue&&(s=N(d)),(d=v(k(f(e.errorplottooltext,L.errorplottooltext,T.errorplottooltext,o.negativeErrorToolTipValue))))&&o.negativeErrorToolTipValue&&(c=N(d)),y=o.positiveErrorValue,w=o.negativeErrorValue,(y||w)&&(o.halfErrorBar=0,o.notHalfErrorBar=!0),d=p+(null!==y?y:l),p-=o.halfErrorBar?0:0>w&&0>p?0:null!=w?w:l,E=Q(E,d,p),O=X(O,d,p),null==l&&(l=void 0),o.errorValueArr=[],o.errorValueArr.push({errorValue:null!=w?w:null!==y?l:-l,tooltext:c||a}),o.notHalfErrorBar&&o.errorValueArr.push({errorValue:null!==y?-y:null!=w?-l:l,tooltext:s||a}));A.maxValue=E,A.minValue=O},init:function(e){var t=this.chart,a=t.components,a=t.isDual?a.yAxis[this.yAxis||0]:a.yAxis[0];return e?(this.JSONData=e,this.yAxis=a,this.chartGraphics=t.chartGraphics,this.components={},this.graphics={},this.visible=1===x(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),void this.configure()):!1},draw:function(){var e,a,o,i,r=this,n=r.JSONData,s=r.chart.jsonData.chart,l=r.config,h=r.groupManager,d=r.index,c=r.chart.config.categories,p=n.data,g=r.visible,m=r.chart,v=m.components.paper,b=m.components.xAxis[0],y=m.components.yAxis[0];e=m.graphics.columnGroup;var w,C,A,L,S,D,T,P,B,V,I,_=m.graphics,E=t.parseUnsafeString,O=t.getValidValue,N=t.Raphael,F=l.showTooltip,R=b.getAxisPosition(0),M=b.getAxisPosition(1),W=l.groupMaxWidth=M-R,j=l.definedGroupPadding,H=l.plotSpacePercent/200,z=h.getDataSetPosition(r),R=h.manageClip,Y=l.maxColWidth,U=m.get("config","animationObj"),M=U.animType,J=U.animObj,q=U.dummyObj,U=U.duration,W=(1-.01*j)*W||X(W*(1-2*H),1*Y),W=x(z.columnWidth,W/1),j=z.xPosOffset||0,z=z.height,H=r.components.data;B={},I={};var Y=y.getLimit(),K=Y.min,Y=0<Y.max&&0>K,K=y.getAxisBase(),Q=y.yBasePos=y.getAxisPosition(K),$=0,ee=l.showShadow,te=l.plotBorderThickness,ae=l.plotRadius,oe=r.graphics.container,ie=r.graphics.trackerContainer,re=r.graphics.dataLabelContainer,se=r.graphics.shadowContainer,le=r.graphics.errorGroupContainer,he=r.graphics.errorTrackerContainer,de=r.graphics.errorShadowContainer;i=_.trackerGroup;var ce,pe,ge,_=!0,ue=!1,me=!1,fe=(r.components.removeDataArr||[]).length,ve=r.components.pool||[],l=l.showHoverEffect,xe=function(e){return function(t){0!==this.data("showHoverEffect")&&e.attr(this.data("setRolloverAttr")),Ae.call(this,m,t,"DataPlotRollOver")}},be=function(e){return function(t){0!==this.data("showHoverEffect")&&e.attr(this.data("setRolloutAttr")),Ae.call(this,m,t,"DataPlotRollOut")}},ye=function(e){Ae.call(this,m,e)},we=function(){!1!==r.visible||!1!==r._conatinerHidden&&void 0!==r._conatinerHidden||(oe.hide(),ie.hide(),se.hide(),re&&re.hide(),le&&le.hide(),he&&he.hide(),de&&de.hide(),r._conatinerHidden=!0)},Ce=function(){r.drawLabel(),r.drawErrorValue()};for(oe||(oe=r.graphics.container=v.group("columns",e),g||oe.hide()),ie||(ie=r.graphics.trackerContainer=v.group("col-hot",i),g||ie.hide()),se||(se=r.graphics.shadowContainer=v.group("shadow",e).toBack(),g||se.hide()),e=b.getCategoryLen(),i=0;e>i;i++)a=p&&p[i],B=(I=(D=H[i])&&D.config)&&I.setValue,ge=!1,void 0!==D&&void 0!==B&&null!==B&&(w=B>=0,P=I.setLink,ce=I.colorArr,D.graphics||(H[i].graphics={}),V=I.displayValue,w=w?I.previousPositiveY:I.previousNegativeY,S=O(E(f(a.tooltext,n.plottooltext,s.plottooltext))),A=y.getAxisPosition(w||K),a=b.getAxisPosition(i)+j,0!==z?(w=y.getAxisPosition(B+(w||0)),L=Z(A-w)):(L=0,w=A),w=X(w,A),!Y&&R&&g&&te>0&&(L+=te,h.manageClip=!1),D._oriXPos=a,D._oriYPos=w,D._oriHeight=L,D._oriWidth=W,h.isCrisp?(C=N.crispBound(a,w,W,L,te),a=C.x,w=C.y,A=C.width,L=C.height):A=W,S=I.toolText+(S?u:I.toolTipValue),pe=I.plotBorderDashStyle,V={index:i,link:P,value:B,displayValue:V,categoryLabel:c[i].label,toolText:S,id:u,datasetIndex:d,datasetName:n.seriesname,visible:g},B=I.setRolloutAttr,I=I.setRolloverAttr,U||(Q=w,$=L),o={x:a,y:Q,width:A,height:$||1,r:ae,ishot:!F,fill:k(ce[0]),stroke:k(ce[1]),"stroke-width":te,"stroke-dasharray":pe,"stroke-linejoin":"miter",visibility:g},D._xPos=a,D._yPos=w,D._height=L,D._width=A,D.graphics.element?(ue=me=!0,T=D.graphics.element,o={x:a,y:w,width:A,height:L||1},T.animateWith(q,J,o,U,M,_&&we),T.attr({r:ae,ishot:!F,fill:k(ce[0]),stroke:k(ce[1]),"stroke-width":te,"stroke-dasharray":pe,"stroke-linejoin":"miter",visibility:g})):(ve.element&&ve.element.length?(T=D.graphics.element=ve.element.shift(),T.show()):(T=D.graphics.element=v.rect(o,oe),ge=!0),T.attr(o),T.animateWith(q,J,{y:w,height:L||1},U,M,_&&Ce),U?_=!1:ue=me=!0),T.shadow({opacity:ee},se).data("BBox",C),(P||F)&&(ne>L&&(w-=(ne-L)/2,L=ne),o={x:a,y:w,width:A,height:L,r:ae,cursor:P?"pointer":u,stroke:G,"stroke-width":te,fill:G,ishot:!0,visibility:g},D.graphics.hotElement?D.graphics.hotElement.attr(o):(ve.hotElement&&ve.hotElement.length?(P=D.graphics.hotElement=ve.hotElement.shift(),P.show()):(P=D.graphics.hotElement=v.rect(o,ie),ge=!0),P.attr(o))),P=D.graphics.hotElement,(P||T).data("eventArgs",V).data("groupId",void 0).data("showHoverEffect",l).data("setRolloverAttr",I).data("setRolloutAttr",B),ge&&(P||T).click(ye).hover(xe(T),be(T)),F?(P||T).tooltip(S):(P||T).tooltip(!1));fe&&r.remove(),ue&&r.drawLabel(),me&&r.drawErrorValue()},show:function(){var e=this.graphics&&this.graphics.container,t=this.graphics&&this.graphics.trackerContainer,a=this.graphics&&this.graphics.dataLabelContainer,o=this.graphics&&this.graphics.shadowContainer,i=this.graphics&&this.graphics.errorGroupContainer,r=this.graphics&&this.graphics.errorTrackerContainer,n=this.graphics&&this.graphics.errorShadowContainer,s=this.chart.is3D,l=this.components.data,h=this.chart.config.categories,d=this.yAxis,c=this.chart,h=X(this.JSONData.data&&this.JSONData.data.length,h&&h.length);if(c._chartAnimation(),this.visible=!0,this._conatinerHidden=!1,s)for(e=0;h>e;e++)l[e].graphics.element&&l[e].graphics.element.attr({visibility:"visible"}),l[e].graphics.hotElement&&l[e].graphics.hotElement.attr({visibility:"visible"});else e.show(),t.show();o.show(),a&&a.show(),i&&i.show(),r&&r.show(),n&&n.show(),c._setAxisLimits(),d.draw(),c._drawDataset()},hide:function(){var e=this.yAxis,t=this.chart;t._chartAnimation(),this.visible=!1,t._setAxisLimits(),e.draw(),t._drawDataset()},drawErrorValue:function(){var e,t,a,o,i,r,n,s,l,h,d,c,p,g,m=this.config,f=this.chart.config.categories,v=this.JSONData.data,x=f&&f.length,b=v&&v.length,y=this.visible,w=this.chart,C=w.graphics.columnGroup,v=w.components.paper,f=w.components.yAxis[0],k=this.components.data,A=this.groupManager.getDataSetPosition(this).height,L=w.get("config","animationObj"),S=L.animType,D=L.animObj,T=L.dummyObj,L=L.duration,P=m.errorBarThickness,B=m.errorBarWidthPercent,V=m.errorBarColor,I=m.showTooltip,m=m.shadowOpacity,_=this.graphics.errorGroupContainer,E=this.graphics.errorTrackerContainer,O=this.graphics.errorShadowContainer,N=w.graphics.trackerGroup,F=function(e){Ae.call(this,w,e)},R=function(e){Ae.call(this,w,e,"DataPlotRollOver")},M=function(e){Ae.call(this,w,e,"DataPlotRollOut")},W=function(e){return function(){void 0!==e&&w.linkClickFN.call({link:e},w)}};for(_||(_=this.graphics.errorGroupContainer=v.group("errorBar",C),y||_.hide()),E||(E=this.graphics.errorTrackerContainer=v.group("error-hot",N),y||E.hide()),O||(O=this.graphics.errorShadowContainer=v.group("error-shadow",C).toBack(),y||O.hide()),x=X(x,b),b=0;x>b;b++)if(o=(N=(C=k[b])&&C.config)&&N.setValue,!C||void 0!==o&&null!==o||(C.graphics.element&&(C.graphics.element.hide(),C.graphics.element.shadow(!1)),C.graphics.hotElement&&C.graphics.hotElement.hide(),C.graphics.error&&C.graphics.error[0]&&(C.graphics.error[0].hide(),C.graphics.error[0].shadow({opacity:0})),C.graphics.error&&C.graphics.error[1]&&(C.graphics.error[1].hide(),C.graphics.error[1].shadow({opacity:0})),C.graphics.errorTracker&&C.graphics.errorTracker[0]&&(C.graphics.errorTracker[0].hide(),C.graphics.errorTracker[0].shadow({opacity:0})),C.graphics.errorTracker&&C.graphics.errorTracker[1]&&(C.graphics.errorTracker[1].hide(),C.graphics.errorTracker[1].shadow({opacity:0}))),void 0!==C&&void 0!==o&&null!==o)if(l=N.errorValueArr,h=l.length,!C.graphics.error&&(C.graphics.error=[]),!C.graphics.errorTracker&&(C.graphics.errorTracker=[]),N.errorValue===u||void 0===N.errorValue||null===N.errorValue&&null===N.positiveErrorValue&&null===N.negativeErrorValue)C.graphics.error&&C.graphics.error[0]&&(C.graphics.error[0].hide(),C.graphics.error[0].shadow({opacity:0})),C.graphics.error&&C.graphics.error[1]&&(C.graphics.error[1].hide(),C.graphics.error[1].shadow({opacity:0})),C.graphics.errorTracker&&C.graphics.errorTracker[0]&&(C.graphics.errorTracker[0].hide(),C.graphics.errorTracker[0].shadow({opacity:0})),C.graphics.errorTracker&&C.graphics.errorTracker[1]&&(C.graphics.errorTracker[1].hide(),C.graphics.errorTracker[1].shadow({opacity:0}));else{for(y=N.setLink,d=0>o,t=C._oriXPos,c=C._oriYPos,p=C._oriWidth,g=C._oriHeight,o=d?c+g:c,a=t+p/2;h--;)n=i=null,n=l[h],t=n.tooltext,e=o,i=n.errorValue,null===i||isNaN(i)?(C.graphics.error&&C.graphics.error[h]&&(C.graphics.error[h].hide(),C.graphics.error[h].shadow({opacity:h})),C.graphics.errorTracker&&C.graphics.errorTracker[h]&&(C.graphics.errorTracker[h].hide(),C.graphics.errorTracker[h].shadow({opacity:h}))):(n=B/100*p,n/=2,r=0===A?0:1,s=c+(f.getAxisPosition(0)-f.getAxisPosition(1))*i*r,d&&(s+=g),i=s,r=a,i=K(s)+P%2/2,r=K(a)+P%2/2,n=["M",r,e,"V",i,"M",r-n,i,"H",r+n],C.graphics.error[h]?(e={path:n},i=C.graphics.error[h],i.animateWith(T,D,e,L,S),i.attr({stroke:V,ishot:!I,"stroke-width":P,cursor:y?"pointer":u,"stroke-linecap":"round"})):i=C.graphics.error[h]=v.path(n,_).attr({stroke:V,ishot:!I,"stroke-width":P,cursor:y?"pointer":u,"stroke-linecap":"round"}),i.show(),i.shadow({opacity:m},O),e={path:n,stroke:G,"stroke-width":ne>P?ne:P,cursor:y?"pointer":u,ishot:!!y},C.graphics.errorTracker[h]?(C.graphics.errorTracker[h].show(),C.graphics.errorTracker[h].attr(e)):(y||I)&&(n=C.graphics.errorTracker[h]=v.path(E).attr(e)),e=C.graphics.element&&(C.graphics.element.data("eventArgs")||C.graphics.hotElement.data("eventArgs")),(n=C.graphics.errorTracker[h])&&n.data("eventArgs",e),n&&n.click(F).data("groupId",void 0).hover(R,M),I?n&&n.tooltip(t):n&&n.tooltip(!1),(y||I)&&n&&n.click(W(y)));N.notHalfErrorBar||(C.graphics.error&&C.graphics.error[1]&&C.graphics.error[1].hide()&&C.graphics.error[1].shadow({opacity:0}),C.graphics.errorTracker&&C.graphics.errorTracker[1]&&C.graphics.errorTracker[1].hide()&&C.graphics.errorTracker[1].shadow({opacity:0}))}},remove:function(){var e,t,a,o=this.components,i=o.removeDataArr,r=o.pool||(o.pool={element:[],hotElement:[],label:[]}),n=i.length,s=this.maxminFlag;for(a=0;n>a;a++)e=i[0],i.splice(0,1),e&&e.graphics&&(t=e.graphics,t.element&&t.element.hide()&&t.element.shadow({opacity:0}),t.error&&t.error[0]&&t.error[0].hide()&&t.error[0].shadow({opacity:0}),t.error&&t.error[1]&&t.error[1].hide()&&t.error[1].shadow({opacity:0}),t.errorTracker&&t.errorTracker[0]&&t.errorTracker[0].hide()&&t.errorTracker[0].shadow({opacity:0}),t.errorTracker&&t.errorTracker[1]&&t.errorTracker[1].hide()&&t.errorTracker[1].shadow({opacity:0}),t.hotElement&&t.hotElement.hide()&&t.hotElement.attr({width:0}),e.graphics.element&&(r.element=r.element.concat(e.graphics.element)),e.graphics.hotElement&&(r.hotElement=r.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(r.label=r.label.concat(e.graphics.label)));o.pool=r,s&&this.setMaxMin()}},"Column"]),FusionCharts.register("component",["datasetGroup","errorbar2d",{},d]),be("errorline",{friendlyName:"Error Line Chart",useErrorGroup:!0,isErrorChart:!0,fireGroupEvent:!0,creditLabel:j,defaultPlotShadow:1,axisPaddingLeft:0,axisPaddingRight:0,canvasPaddingModifiers:["anchor","errorbar"],defaultDatasetType:"errorline",applicableDSList:{errorline:!0}},be.mscartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),FusionCharts.register("component",["dataset","ErrorLine",{type:h,ErrorValueConfigure:function(){var e,a,o,i,r,n,s,l,h,d,c,p=this.chart,g=this.config,y=g.parentYAxis,w=this.JSONData,C=w.data,k=p.jsonData.chart,A=p.components.xAxis[0].getCategoryLen(),L=t.parseUnsafeString,S=this.components.data,p=p.components.numberFormatter,D=g.lineThickness,T=-(1/0),P=1/0,B=L(k.yaxisname),V=L(k.xaxisname),I=f(k.tooltipsepchar,", "),_=x(k.seriesnameintooltip,1),E=function(t){
return g.showTooltip?null===n?t=!1:void 0!==t?(h=[1,2,3,4,5,6,7,99,100,101,102],d={yaxisName:B,xaxisName:V,formattedValue:o.toolTipValue,errorValue:r,errorDataValue:o.errorToolTipValue,errorPercentValue:o.errorPercentValue,errorPercentDataValue:o.errorPercentValue,label:o.label},t=m(t,h,d,e,k,w)):(_&&(c=b(w&&w.seriesname)),t=c?c+I:u,t+=o.label?o.label+I:u):t=!1,t};for(g.errorBarShadow=s=x(k.errorbarshadow,k.showshadow,1),g.ignoreEmptyDatasets=x(w.ignoreemptydatasets,0),l=x(k.halferrorbar,1),g.notHalfErrorBar=!x(k.halferrorbar,1),i=de(f(w.errorbaralpha,k.errorbaralpha,g.lineAlpha)),g.errorBarWidth=x(w.errorbarwidth,k.errorbarwidth,5),g.errorBarColor=ge(se(f(w.errorbarcolor,k.errorbarcolor,"AAAAAA")),i),a=x(w.errorbarthickness,k.errorbarthickness,1),g.errorBarThickness=a>D?D:a,g.shadowOpacity=s?i/250:0,i=0;A>i;i++)C&&(e=C&&C[i],o=(a=S[i])&&a.config,a||(a=S[i]={graphics:{}}),a.config||(o=S[i].config={}),D=o.setValue,r=p.getCleanValue(e.errorvalue),o.errorToolTipValue=p.dataLabels(r,y),K(r/D*Ce*Ce),o.hasErrorValue=void 0!==x(e.errorvalue)?1:0,r=p.getCleanValue(e.errorvalue),n=a=o.errorToolTipValue,a=v(L(f(e.errorplottooltext,w.errorplottooltext,k.errorplottooltext,n))),o.errorValue=e.errorvalue,s=D+r,D-=l?0:r,T=Q(T,s,D),P=X(P,s,D),a=E(a),o.errorValueArr=[],o.errorValueArr.push({errorValue:-r,tooltext:a}),g.notHalfErrorBar&&o.errorValueArr.push({errorValue:r,tooltext:a}),o.toolText=E(o.setTooltext));g.maxValue=T,g.minValue=P},init:function(e){var t=this.chart,a=t.components,o=t.isDual;this.chart=t,this.yAxis=o?a.yAxis[this.yAxis||0]:a.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.visible=1===x(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.configure()},show:function(){var e=this.chart,t=this.yAxis,a=this.graphics&&this.graphics.container,o=this.graphics&&this.graphics.trackerContainer,i=this.graphics&&this.graphics.dataLabelContainer,r=this.graphics&&this.graphics.errorGroupContainer,n=this.graphics&&this.graphics.errorTrackerContainer,s=this.graphics&&this.graphics.errorShadowContainer;e._chartAnimation(),a.lineGroup.show(),a.anchorGroup.show(),a.anchorShadowGroup.show(),a.lineShadowGroup.show(),o.show(),i.show(),this.visible=!0,r&&r.show(),n&&n.show(),s&&s.show(),this._conatinerHidden=!1,e._setAxisLimits(),t.draw(),e._drawDataset()},hide:function(){var e=this.chart,t=this.yAxis;e._chartAnimation(),this.visible=!1,e._setAxisLimits(),t.draw(),e._drawDataset()},drawErrorValue:function(){var e,t,a=this.config,o=this.chart,i=o.graphics.datasetGroup,r=o.components,n=r.xAxis[0].getCategoryLen(),s=this.visible,r=r.paper,l=this.yAxis,h=this.components.data,d=o.get("config","animationObj"),c=d.animType,p=d.animObj,g=d.dummyObj,d=d.duration,m=a.errorBarThickness,f=a.errorBarWidth,v=a.errorBarColor,x=a.showTooltip,b=a.shadowOpacity,y=this.graphics.container.lineGroup,w=this.graphics.errorGroupContainer,C=this.graphics.errorTrackerContainer,k=this.graphics.errorShadowContainer;t=o.graphics.trackerGroup;var A,L,S,D,T,P,B,V,I,_=this.graphics.trackerContainer,E=function(e){Ae.call(this,o,e)},O=function(e){Ae.call(this,o,e,"DataPlotRollOver")},N=function(e){Ae.call(this,o,e,"DataPlotRollOut")},F=function(e){return function(){void 0!==e&&o.linkClickFN.call({link:e},o)}};for(w||(w=this.graphics.errorGroupContainer=r.group("errorBar",i).insertAfter(y),s||w.hide()),C||(C=this.graphics.errorTrackerContainer=r.group("error-hot",t).insertBefore(_),s||C.hide()),k||(k=this.graphics.errorShadowContainer=r.group("error-shadow",i).insertBefore(w),s||k.hide()),i=0;n>i;i++)if(t=(A=(y=h[i])&&y.config)&&A.setValue,void 0===y||void 0===t||null===t){if(y.graphics.error)for(t=0;t<y.graphics.error.length;t++)y.graphics.error[t].hide(),y.graphics.errorTracker[t].hide(),y.graphics.error[t].shadow(!1)}else if(t=A.errorValueArr,_=t.length,!y.graphics.error&&(y.graphics.error=[]),!y.graphics.errorTracker&&(y.graphics.errorTracker=[]),A.errorValue===u||void 0===A.errorValue)y.graphics.error&&y.graphics.error[0]&&(y.graphics.error[0].hide(),y.graphics.error[0].shadow({opacity:0})),y.graphics.error&&y.graphics.error[1]&&(y.graphics.error[1].hide(),y.graphics.error[1].shadow({opacity:0}));else{for(A=A.setLink,L=y._xPos,D=I=y._yPos,S=L;_--;)B=T=null,B=t[_],L=B.tooltext,e=D,P=B.errorValue,B=f/2,T=s?1:0,T=V=I+(l.getAxisPosition(0)-l.getAxisPosition(1))*P*T,P=S,T=K(V)+m%2/2,P=K(S)+m%2/2,B=["M",P,e,"V",T,"M",P-B,T,"H",P+B],y.graphics.error[_]?(e={path:B},T=y.graphics.error[_],T.animateWith(g,p,e,d,c),T.attr({stroke:v,ishot:!x,"stroke-width":m,cursor:A?"pointer":u,"stroke-linecap":"round"})):T=y.graphics.error[_]=r.path(B,w).attr({stroke:v,ishot:!x,"stroke-width":m,cursor:A?"pointer":u,"stroke-linecap":"round"}),T.show(),T.shadow({opacity:b},k),e={path:B,stroke:G,"stroke-width":ne>m?ne:m,cursor:A?"pointer":u,ishot:!!A},y.graphics.errorTracker[_]?y.graphics.errorTracker[_].attr(e):(A||x)&&(B=y.graphics.errorTracker[_]=r.path(C).attr(e)),e=y.graphics.element&&y.graphics.element.data("eventArgs")||y.graphics.hotElement&&y.graphics.hotElement.data("eventArgs"),(B=y.graphics.errorTracker[_])&&B.show(),B&&B.data("eventArgs",e),B&&B.click(E).data("groupId",void 0).hover(O,N),x?B&&B.tooltip(L):B&&B.tooltip(!1),(A||x)&&B&&B.click(F(A));a.notHalfErrorBar||(y.graphics.error&&y.graphics.error[1]&&y.graphics.error[1].hide()&&y.graphics.error[1].shadow({opacity:0}),y.graphics.errorTracker&&y.graphics.errorTracker[1]&&y.graphics.errorTracker[1].hide()&&y.graphics.errorTracker[1].shadow({opacity:0}))}},manageSpace:function(){var e,t,a=.5*this.config.errorBarWidth,o=this.chart,i=o.config.dataLabelStyle,r=(this.components||{}).data||[],n=r[0],r=r[r.length-1];e={};var s,l,h,d=o.linkedItems.smartLabel,c={paddingLeft:0,paddingRight:0};return n&&(n=n.config,h=n.showValue,t=n&&n.anchorProps||{},h&&(e=n.displayValue,d.useEllipsesOnOverflow(o.config.useEllipsesWhenOverflow),d.setStyle(i),e=d.getOriSize(e)),n.setValue&&(s=Q(x(t.radius,0),a)+x(t.borderThickness,0),l=(e.width||0)/2),c.paddingLeft=Q(s,l)),r&&(n=r.config,h=n.showValue,t=n&&n.anchorProps||{},h&&(e=n.displayValue,d.setStyle(i),e=d.getOriSize(e)),n.setValue&&(s=Q(x(t.radius,0),a)+x(t.borderThickness,0),l=(e.width||0)/2),c.paddingRight=Q(s,l)),c},_removeDataVisuals:function(e){e&&(e=e.graphics,e.element&&e.element.hide()&&e.element.shadow({opacity:0}),e.error&&e.error[0]&&e.error[0].hide()&&e.error[0].shadow({opacity:0}),e.error&&e.error[1]&&e.error[1].hide()&&e.error[1].shadow({opacity:0}),e.errorTracker&&e.errorTracker[0]&&e.errorTracker[0].hide()&&e.errorTracker[0].shadow({opacity:0}),e.errorTracker&&e.errorTracker[1]&&e.errorTracker[1].hide()&&e.errorTracker[1].shadow({opacity:0}),e.hotElement&&e.hotElement.hide()&&e.hotElement.attr({width:0}))}},h]),be("errorscatter",{friendlyName:"Error Scatter Chart",isXY:!0,standaloneInit:!0,creditLabel:j,defaultDatasetType:"errorscatter",applicableDSList:{errorscatter:!0},defaultZeroPlaneHighlighted:!1,useErrorGroup:!0,isErrorChart:!0,fireGroupEvent:!0,initAnimation:!0},be.scatterBase),FusionCharts.register("component",["dataset","ErrorScatter",{ErrorValueConfigure:function(){var e,a,o,i,r,n,s,l,h,d,c,p,u,b,y,w,C,k,A,L,S,D,T,P,B,V,I=this.chart,_=I.components,E=this.config,O=this.JSONData,N=I.config.categories,F=I.jsonData.chart,R=O.data,M=_.xAxis[0].getCategoryLen(),M=R&&R.length||M,W=t.parseUnsafeString,G=this.components.data,j=_.numberFormatter,H=f(F.tooltipsepchar,", "),z=W(F.yaxisname),Y=W(F.xaxisname),U=E.parentYAxis,J=-(1/0),q=1/0,Z=1/0,$=-(1/0),ee=function(a,i){var r;return E.showTooltip?null===A?r=!1:void 0!==a?(D=[1,2,3,4,5,6,7,8,9,10,11,99,100,101,102,103,104,105,106,107,109],T={yaxisName:z,xaxisName:Y,yDataValue:A,xDataValue:o.label,formattedValue:o.toolTipValue,horizontalErrorValue:p,horizontalErrorDataValue:b,verticalErrorValue:u,verticalErrorDataValue:w,horizontalErrorPercent:L,verticalErrorPercent:S,label:o.label,errorValue:i,errorDataValue:i,errorPercentValue:o.errorPercentValue,errorPercentDataValue:o.errorPercentValue},r=m(a,D,T,e,F,O)):null===A?r=!1:(E.seriesNameInTooltip&&(P=t.getFirstValue(O&&O.seriesname)),r=P?P+H:g,r+=k.x?j.xAxis(k.x)+H:g,r+=o.toolTipValue):r=!1,r};for(E.errorBarShadow=_=x(F.errorbarshadow,F.showshadow,0),E.ignoreEmptyDatasets=x(O.ignoreemptydatasets,0),E.notHalfErrorBar=!x(F.halferrorbar,1),E.errorBarAlpha=de(f(O.errorbaralpha,F.errorbaralpha)),E.errorBarWidth=r=x(O.errorbarwidth,F.errorbarwidth,5),E.errorBarColor=n=ge(se(f(O.errorbarcolor,F.errorbarcolor,"AAAAAA")),void 0),E.errorBarThickness=i=x(O.errorbarthickness,F.errorbarthickness,1),E.shadowOpacity=_?NaN:0,E.halfHorizontalErrorBar=s=x(F.halfhorizontalerrorbar,1),E.halfVerticalErrorBar=l=x(F.halfverticalerrorbar,1),void 0===E.initAnimation&&(E.initAnimation=I.initAnimation),I=f(O.horizontalerrorbaralpha,O.errorbaralpha,F.horizontalerrorbaralpha,void 0),h=x(O.verticalerrorbaralpha,O.errorbaralpha,F.verticalerrorbaralpha,void 0),d=ge(f(O.horizontalerrorbarcolor,O.errorbarcolor,F.horizontalerrorbarcolor,n),I),n=ge(f(O.verticalerrorbarcolor,O.errorbarcolor,F.verticalerrorbarcolor,n),h),c=x(O.horizontalerrorbarthickness,O.errorbarthickness,F.horizontalerrorbarthickness,i),i=x(O.verticalerrorbarthickness,O.errorbarthickness,F.verticalerrorbarthickness,i),E.horizontalErrorBarWidth=x(O.horizontalerrorbarwidth,F.horizontalerrorbarwidth,r),E.verticalErrorBarWidth=x(O.verticalerrorbarwidth,F.verticalerrorbarwidth,r),r=0;M>r;r++)R&&(e=R&&R[r],o=(a=G[r])&&a.config,a||(a=G[r]={graphics:{}}),a.config||(o=G[r].config={}),a=j.getCleanValue(e.errorvalue),k=o.setValue,o.errorValue=e.errorvalue,o.hErrorValue=p=j.getCleanValue(f(e.horizontalerrorvalue,e.errorvalue)),o.vErrorValue=u=j.getCleanValue(f(e.verticalerrorvalue,e.errorvalue)),b=j.dataLabels(p,U),y=v(W(f(e.errorplottooltext,O.errorplottooltext,F.errorplottooltext,b))),w=j.dataLabels(u,E.parentYAxis),C=v(W(f(e.errorplottooltext,O.errorplottooltext,F.errorplottooltext,w))),N&&N[r]&&(o.label=v(W(f(N[r].tooltext,N[r].label)))),null!==k.x&&(B=k.x+Number(p),V=k.x-(s?0:Number(p)),$=Q($,B,V),Z=X(Z,B,V)),null!==k.y&&(B=k.y+Number(u),V=k.y-(l?0:Number(u)),J=Q(J,B,V),q=X(q,B,V)),o.useHorizontalErrorBar=x(e.usehorizontalerrorbar,O.usehorizontalerrorbar,F.usehorizontalerrorbar,0),o.useVerticalErrorBar=x(e.useverticalerrorbar,O.useverticalerrorbar,F.useverticalerrorbar,1),o.errorValueArr=[],o.errorValueArr.push({errorValue:-p,tooltext:ee(y,b),errorBarColor:d,isHorizontal:1,errorBarThickness:c,shadowOpacity:_?I/250:0}),o.errorValueArr.push({errorValue:p,tooltext:ee(y,b),errorBarColor:d,isHorizontal:1,errorBarThickness:c,shadowOpacity:_?I/250:0}),o.errorValueArr.push({errorValue:-u,tooltext:ee(C,w),errorBarColor:n,errorBarThickness:i,shadowOpacity:_?h/250:0}),o.errorValueArr.push({errorValue:u,tooltext:ee(C,w),errorBarColor:n,errorBarThickness:i,shadowOpacity:_?h/250:0}),k=o.setValue,K(a/k*Ce*Ce),L=K(p/k*Ce*Ce)/Ce+"%",S=K(u/k*Ce*Ce)/Ce+"%",A=o.formatedVal,E.showTooltip?void 0!==o.setTooltext?(D=[1,2,3,4,5,6,7,8,9,10,11,99,100,101,102,103,104,105,106,107,109],T={yaxisName:z,xaxisName:Y,yDataValue:A,xDataValue:o.label,formattedValue:o.toolTipValue,horizontalErrorValue:p,horizontalErrorDataValue:b,verticalErrorValue:u,verticalErrorDataValue:w,horizontalErrorPercent:L,verticalErrorPercent:S,label:o.label},a=m(o.setTooltext,D,T,e,F,O)):null===A?a=!1:(E.seriesNameInTooltip&&(P=t.getFirstValue(O&&O.seriesname)),a=P?P+H:g,a+=k.x?j.xAxis(k.x)+H:g,a+=o.toolTipValue):a=!1,o.toolText=a);E.xMax=$,E.xMin=Z,E.yMin=q,E.yMax=J},drawErrorValue:function(){var e,t,a,o,i,r,n,s,l,h,d,c,p,g,m,f=this.chart,v=f.components,b=this.parentContainer,y=this.config,w=this.JSONData.data,w=w&&w.length,C=this.visible,k=v.paper,v=v.xAxis[0],A=this.yAxis,L=this.components.data,S=f.graphics,D=y.showTooltip,T=y.shadowOpacity,P=f.get("config","animationObj"),B=P.animType,V=P.animObj,I=P.dummyObj,P=P.duration,_=this.graphics.container.lineGroup,E=this.graphics.errorGroupContainer,O=this.graphics.errorTrackerContainer,N=this.graphics.errorShadowContainer,F=this.graphics.trackerContainer,R=S.trackerGroup,S=function(e){Ae.call(this,f,e)},M=function(e){Ae.call(this,f,e,"DataPlotRollOver")},W=function(e){Ae.call(this,f,e,"DataPlotRollOut")},j=function(e){return function(){void 0!==e&&f.linkClickFN.call({link:e},f)}};for(E||(E=this.graphics.errorGroupContainer=k.group("errorBar",b).insertAfter(_),C||E.hide()),O||(O=this.graphics.errorTrackerContainer=k.group("error-hot",R).insertBefore(F),C||O.hide()),N||(N=this.graphics.errorShadowContainer=k.group("error-shadow",b).insertBefore(E),C||N.hide()),b=0;w>b;b++)if(r=(F=(_=L[b])&&_.config)&&F.setValue,R=F.errorValueArr,void 0!==_&&void 0!==r&&null!==r&&R&&(c=R.length,!_.graphics.error&&(_.graphics.error=[]),!_.graphics.errorTracker&&(_.graphics.errorTracker=[]),null===F.vErrorValue&&(_.graphics.error&&_.graphics.error[0]&&(_.graphics.error[0].hide(),_.graphics.error[0].shadow({opacity:0})),_.graphics.error&&_.graphics.error[1]&&(_.graphics.error[1].hide(),_.graphics.error[1].shadow({opacity:0}))),null===F.hErrorValue&&(_.graphics.error&&_.graphics.error[2]&&(_.graphics.error[2].hide(),_.graphics.error[2].shadow({opacity:0})),_.graphics.error&&_.graphics.error[3]&&(_.graphics.error[3].hide(),_.graphics.error[3].shadow({opacity:0}))),null!==F.hErrorValue||null!==F.vErrorValue))for(r=F.setLink,p=_._xPos,l=g=_._yPos,s=p,m=0;c>m;m++)!F.useHorizontalErrorBar&&(0===m||1===m)||!F.useVerticalErrorBar&&(2===m||3===m)||1===m&&y.halfHorizontalErrorBar||3===m&&y.halfVerticalErrorBar?(_.graphics.error&&_.graphics.error[m]&&_.graphics.error[m].hide()&&_.graphics.error[m].shadow({opacity:0}),_.graphics.errorTracker&&_.graphics.errorTracker[m]&&_.graphics.errorTracker[m].hide()&&_.graphics.errorTracker[m].shadow({opacity:0})):(a=t=null,a=R[m],n=a.tooltext,e=l,h=a.errorValue,i=a.errorBarColor,t=x(a.isHorizontal,0),a=x(a.errorBarThickness,y.errorBarThickness,1),o=t?y.horizontalErrorBarWidth:y.verticalErrorBarWidth,o=C?o/2:0,d=C?1:0,t?(t=d=p+(v.getAxisPosition(0)-v.getAxisPosition(1))*h*d,h=s,t=K(e)+a%2/2,h=K(d)+a%2/2,o=["M",s,t,"H",h,"M",h,t-o,"V",t+o]):(t=d=g+(A.getAxisPosition(0)-A.getAxisPosition(1))*h*d,h=s,t=K(d)+a%2/2,h=K(s)+a%2/2,o=["M",h,e,"V",t,"M",h-o,t,"H",h+o]),_.graphics.error[m]?(t=_.graphics.error[m],e={path:o,"stroke-width":C?a:0},t.animateWith(I,V,e,P,B),t.attr({stroke:i,ishot:!D,cursor:r?"pointer":u,"stroke-linecap":"round"})):(t=_.graphics.error[m]=k.path(o,E).attr({stroke:i,ishot:!D,"stroke-width":a,cursor:r?"pointer":u,"stroke-linecap":"round"}),y.initAnimation&&t.attr({opacity:0}).animateWith(I,V,{opacity:1},P,B)),t.show(),t.shadow({opacity:T},N),e={path:o,stroke:G,"stroke-width":C?ne>a?ne:a:0,cursor:r?"pointer":u,ishot:!!r},_.graphics.errorTracker[m]?_.graphics.errorTracker[m].attr(e):(r||D)&&(a=_.graphics.errorTracker[m]=k.path(O).attr(e)),i=_.graphics.element&&_.graphics.element.data("eventArgs")||_.graphics.hotElement&&_.graphics.hotElement.data("eventArgs"),(a=_.graphics.errorTracker[m])&&a.show(),a&&a.data("eventArgs",i),a&&a.click(S).data("groupId",void 0).hover(M,W),D?a&&a.tooltip(n):a&&a.tooltip(!1),(r||D)&&a.click(j(r)));y.initAnimation=!1},show:function(){var e=this.chart,t=this.yAxis,a=this.graphics&&this.graphics.errorGroupContainer,o=this.graphics&&this.graphics.errorTrackerContainer,i=this.graphics&&this.graphics.errorShadowContainer;e._chartAnimation(),this.visible=!0,this._conatinerHidden=!1,a&&a.show(),o&&o.show(),i&&i.show(),e._setAxisLimits(),t.draw(),this.draw()},remove:function(){var e,t,a,o,i=this.components,r=i.removeDataArr,n=i.pool||(i.pool={element:[],hotElement:[],label:[]}),s=r.length,l=this.maxminFlag;for(a=0;s>a;a++)if(e=r[0],r.splice(0,1),e&&e.graphics){for(t=e.graphics,t.element&&t.element.hide()&&t.element.shadow({opacity:0}),o=0;4>o;o++)t.error&&t.error[o]&&t.error[o].hide()&&t.error[o].shadow({opacity:0}),t.errorTracker&&t.errorTracker[o]&&t.errorTracker[o].hide()&&t.errorTracker[o].shadow({opacity:0});t.hotElement&&t.hotElement.hide()&&t.hotElement.attr({width:0}),e.graphics.element&&(n.element=n.element.concat(e.graphics.element)),e.graphics.hotElement&&(n.hotElement=n.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(n.label=n.label.concat(e.graphics.label))}i.pool=n,l&&this.setMaxMin()}},"Scatter"]),FusionCharts.register("component",["dataset","MSStepLine",{type:"stepline",configure:function(){var e=this.JSONData,t=this.config,a=this.chart.jsonData.chart;this.__base__.configure.call(this),t.drawVerticalJoins=x(a.drawverticaljoins,1),t.useForwardSteps=x(a.useforwardsteps,1),t.shadow={opacity:x(a.showshadow,1)?t.lineAlpha/100:0},this.visible=1===x(e.visible,!Number(e.initiallyhidden),1),this._addLegend()},init:function(e){var t=this.chart,a=t.components;this.chart=t,this.yAxis=a.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.configure()},_addLegend:function(){var e=this.config,t=this.chart.components.legend,a=x(e.drawAnchors,1),e={enabled:e.includeInLegend,type:h,drawLine:!0,fillColor:k({color:e.anchorBgColor,alpha:e.anchorBgAlpha}),strokeColor:k({color:f(e.lineColor,e.anchorBorderColor),alpha:f(e.lineAlpha,e.anchorBorderAlpha)}),anchorSide:a?e.anchorSides:0,strokeWidth:e.anchorBorderThickness,label:b(this.JSONData.seriesname)};this.legendItemId=t.addItems(this,this.legendInteractivity,e)},draw:function(){var e,t,a,o,i=this,n=i.JSONData,s=i.chart,l=s.components,d=i.config,c=i.index||i.positionIndex,p=l.paper,g=l.xAxis[0],m=i.yAxis,v=s.graphics;e=v.datalabelsGroup;var x,b,y,w,C,A,L,S,D,T=i.components.data,P=s.config.style,B=i.components.removeDataArr||[],V=B.length;t={fontFamily:P.fontFamily,fontSize:P.fontSize,lineHeight:P.lineHeight,fontWeight:P.fontWeight,fontStyle:P.fontStyle,color:P.color};var P=d.lineThickness,I=i.graphics.container,_=i.graphics.trackerContainer;a=v.trackerGroup;var E,O,N,F,R,M,W,j,H,z,Y,U,J,q=d.connectNullData,K=v.datasetGroup,v=d.shadow,X=i.graphics.dataLabelContainer,Z={},Z=s.get("config","animationObj"),$=Z.dummyObj,ee=Z.animObj,te=Z.duration,ae=i.components.pool||[],oe=function(){!1!==i.visible||!1!==i._conatinerHidden&&void 0!==i._conatinerHidden||(I.lineGroup.hide(),I.lineShadowGroup.hide(),I.anchorShadowGroup.hide(),I.anchorGroup.hide(),_.hide(),X&&X.hide(),i._conatinerHidden=!0)},ie=function(){K.lineConnector.attr({"clip-rect":null}),K.lineConnector.node&&K.lineConnector.node.removeAttribute("clip-path"),!1!==i.visible&&(I.lineShadowGroup.show(),I.anchorShadowGroup.show(),I.anchorGroup.show(),_.show(),X&&X.show()),s._animCallBack()},re=!0,se=m.getAxisBase(),se=m.yBasePos=m.getAxisPosition(se),le=l.canvas.config.clip,l=le["clip-canvas-init"].slice(0),le=le["clip-canvas"].slice(0),he=d.lineDashStyle,de={color:d.lineColor,alpha:d.lineAlpha},ce=[],pe=0,ge=[],ue=null,me=[],fe=!1,ve=i.graphics.lineElement,xe=i.visible,be=d.drawVerticalJoins,ye=d.useForwardSteps,we=Z.animType;for(K.lineConnector=K.lineConnector||p.group("line-connector",K),I||(I=i.graphics.container={lineShadowGroup:p.group("connector-shadow",K.lineConnector),anchorShadowGroup:p.group("anchor-shadow",K.lineConnector),lineGroup:p.group(h,K.lineConnector),anchorGroup:p.group("anchors",K.lineConnector)},xe||(I.lineShadowGroup.hide(),I.anchorShadowGroup.hide(),I.lineGroup.hide(),I.anchorGroup.hide())),_||(_=i.graphics.trackerContainer=p.group("line-hot",a),xe||_.hide()),T||(T=i.components.data=[]),s._addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",t),X||(X=i.graphics.dataLabelContainer=i.graphics.dataLabelContainer||p.group("datalabel",e),xe||X.hide()),xe&&(I.lineShadowGroup.show(),I.anchorShadowGroup.show(),I.lineGroup.show(),I.anchorGroup.show(),_.show(),X.show()),e=g.getCategoryLen(),t=0;e>t;t++)(L=T[t])&&(N=L.config,C=N.setValue,w=N.setLink,x=N.setLevelTooltext,F=N.showValue,Z=N.anchorProps,S=Z.symbol,O=Z.shadow,A=N.displayValue,b=L.graphics.element,D=L.graphics.image,y=L.graphics.hotElement,U=L.graphics.label,L||(L=T[t]={graphics:{}}),null===C?(me.length=0,q||(ue=null),b&&b.hide(),D&&D.hide(),U&&U.hide(),y&&y.hide()):(H={color:N.color,alpha:N.alpha},R=N.dashStyle,a=g.getAxisPosition(t),o=!i.visible&&te?se:m.getAxisPosition(C),E=N.hoverEffects,Z.isAnchorHoverRadius=E.anchorRadius,J=g.getLabel(t),x=x=N.toolText+(x?u:N.toolTipValue),C={index:t,link:w,value:C,displayValue:A,categoryLabel:J,toolText:x,id:d.userID,datasetIndex:c,datasetName:n.seriesname,visible:xe},A=!1,Z.imageUrl?(L._xPos=a,L._yPos=o,O=new r,O.onload=this._onAnchorImageLoad(i,t,C,a,o),O.onerror=this._onErrorSetter(a,o,t,i),O.src=Z.imageUrl):(D&&D.hide(),D=[S[1]||2,a,o,Z.radius,Z.startAngle,Z.dip],S={fill:k({color:Z.bgColor,alpha:Z.bgAlpha}),stroke:k({color:Z.borderColor,alpha:Z.borderAlpha}),"stroke-width":Z.borderThickness,visibility:Z.radius?xe:"hidden"},b||(ae.element&&ae.element.length?b=L.graphics.element=ae.element.shift():(A=!0,b=L.graphics.element=p.polypath(I.anchorGroup),b.attr({polypath:D}))),b.show().animateWith($,ee,{polypath:D},te,we,re&&oe),b.attr(S).shadow(O,I.anchorShadowGroup),re=!1),O=L.graphics.connector,E.enabled&&(D={polypath:[E.anchorSides||2,a,o,E.anchorRadius,E.startAngle,E.dip],fill:k({color:E.anchorColor,alpha:E.anchorBgAlpha}),stroke:k({color:E.anchorBorderColor,alpha:E.anchorBorderAlpha}),"stroke-width":E.anchorBorderThickness},S={polypath:[Z.sides,a,o,Z.radius,Z.startAngle,0],fill:k({color:Z.bgColor,alpha:Z.bgAlpha}),stroke:k({color:Z.borderColor,alpha:Z.borderAlpha}),"stroke-width":Z.borderThickness},b&&b.data("anchorRadius",Z.radius).data("anchorHoverRadius",E.anchorRadius).data("setRolloverAttr",D).data("setRolloutAttr",S)),S=Q(Z.radius,E&&E.anchorRadius||0,ne),w={cx:a,cy:o,r:S,cursor:w?"pointer":u,stroke:G,"stroke-width":Z.borderThickness,fill:G,ishot:!0,visibility:xe},y||(ae.hotElement&&ae.hotElement.length?y=L.graphics.hotElement=ae.hotElement.shift():(A=!0,y=L.graphics.hotElement=p.circle(_))),y.show().attr(w),A&&(y||b).click(i.getPlotClickFn(s)).hover(i.rolloverResponseSetter(L,s),i.rolloutResponseSetter(L,s)),(y||b).data("eventArgs",C).data("groupId",void 0).data("dataset",i).data("hoverEnabled",E.enabled).tooltip(x),j=j!==[k(H||de),R||he].join(":"),null!==ue?(me.length&&(ce=ce.concat(me),me.length=0),ce.join(u)||ce.push("M",z,ue),ye?(ce.push("H",a),be?ce.push("V",o):ce.push("M",a,o)):(be?ce.push("V",o):ce.push("M",z,o),ce.push("H",a)),j&&(pe?ge=ge.concat(ce):(O||(O=L.graphics.connector=p.path(I.lineGroup),fe=!0),O.animateWith($,ee,{path:ce},te,we,re&&oe),O.attr({"stroke-dasharray":W,"stroke-width":P,stroke:M,"stroke-linecap":"round","stroke-linejoin":P>2?"round":"miter"}).shadow(Y,I.lineShadowGroup),re=!1),ce=[]),j||O&&O.hide()):me.push("M",a,o),z=a,ue=o,M=k(H||de),Y=H?{opacity:H&&H.alpha/100}:v,W=R||he,pe=void 0===f(N.color,N.alpha,N.dashed)?1:0,j=[M,W].join(":"),L._xPos=a,L._yPos=o,F&&!Z.imageUrl?F&&!Z.imageUrl&&this.drawLabel(t):U&&U.hide()));for(ce.length&&(ge=ge.concat(ce)),n={path:ge},S={"stroke-dasharray":he,"stroke-width":P,stroke:k(de),"stroke-linecap":"round","stroke-linejoin":P>=2?"round":"miter"},ve||(ve=i.graphics.lineElement=p.path({path:ge},I.lineGroup),fe=!0),ve.show().animateWith($,ee,n,te,we,re&&oe),ve.attr(S).shadow(v,I.lineShadowGroup),re=!1,te&&xe&&fe&&(I.anchorGroup.hide(),I.lineShadowGroup.hide(),I.anchorShadowGroup.hide(),X.hide(),K.lineConnector.attr({"clip-rect":l}).animateWith($,ee,{"clip-rect":le},te,"normal",ie)),t=0;V>t;t++)i._removeDataVisuals(B.shift());i.drawn=!0}},h]),FusionCharts.register("component",["dataset","multiaxisline",{type:"multiaxisline",pIndex:2,customConfigFn:"_createDatasets",configure:function(){var e=this.chart,a=this.JSONData,o=this.config,i=e.config,r=e.components,n=e.jsonData,s=n.chart,l=n.axis[this.axisIndex],d=e.singleseries,n=FusionCharts.get("component",["dataset",h]).prototype;n.configure.call(this),this.yAxis=r.yAxis[this.axisIndex],i.axesPadding=5,i.allowAxisShift=x(s.allowaxisshift,1),i.allowSelection=x(s.allowselection,1),i.checkBoxColor=f(s.checkboxcolor,"#2196f3"),i.axisConfigured=!0,o.lineThickness=x(a.linethickness,l.linethickness,s.linethickness,d?4:2),o.lineDashLen=x(a.linedashlen,l.linedashlen,s.linedashlen,5),o.lineDashGap=x(a.linedashgap,l.linedashgap,s.linedashgap,4),o.lineAlpha=x(a.alpha,l.linealpha,s.linealpha,Ce),o.lineColor=f(a.color,l.linecolor,l.color,s.linecolor,o.plotColor),o.legendSymbolColor=this.type===h?o.lineColor:o.plotFillColor,r=x(a.dashed,l.linedashed,s.linedashed),i=t.getDashStyle(o.lineDashLen,o.lineDashGap,o.lineThickness),o.anchorBorderColor=f(a.anchorbordercolor,s.anchorbordercolor,o.lineColor,o.plotColor),o.lineDashStyle=r?i:"none",n._setConfigure.call(this),!1!==e.hasLegend&&this._addLegend()},init:function(e){this.chart=this.chart,this.components={},this.conf={},this.graphics={},this.JSONData=e,this.visible=1===x(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.configure()},legendInteractivity:function(e,t){var a,o=e.chart,i=o.components.dataset,r=this.config,n=e.visible,s=t.config,l=t.graphics,h=r.itemHiddenStyle.color,r=r.itemStyle.color,d=s.fillColor,s=s.strokeColor,c=e.axisIndex,p=!0,o=o.config.axesArr.checkBox;if(n?e.hide():e.show(),n){for(a in i)i.hasOwnProperty(a)&&i[a].visible&&i[a].axisIndex===c&&(p=!1);p&&o[c]&&o[c].checkbox.uncheck()}else o[c]&&o[c].checkbox.check();n?(l.legendItemSymbol&&l.legendItemSymbol.attr({fill:h,stroke:h}),l.legendItemText&&l.legendItemText.attr({fill:h}),l.legendIconLine&&l.legendIconLine.attr({stroke:h})):(l.legendItemSymbol&&l.legendItemSymbol.attr({fill:d,stroke:s}),l.legendItemText&&l.legendItemText.attr({fill:r}),l.legendIconLine&&l.legendIconLine.attr({stroke:d}))}},h]),be("waterfall2d",{standaloneInit:!0,friendlyName:"Waterfall Chart",creditLabel:j,defaultDatasetType:"Waterfall2D",applicableDSList:{Waterfall2D:!0},singleseries:!0,hasLegend:!1,_dataSegregator:function(e){var t=[],a=[];return O(e,function(e,o){"true"!==e.vline&&!0!==e.vline&&1!==e.vline&&"1"!==e.vline?t.push(e):a.push({index:o,data:e})}),{data:t,catData:a}}},be.sscartesian),be("multilevelpie",{standaloneInit:!0,friendlyName:"Multi-level Pie Chart",creditLabel:j,defaultDatasetType:"multiLevelPie",applicableDSList:{multiLevelPie:!0},is3d:!0,hasLegend:!1,hasCanvas:!1,_createDatasets:function(){var e,t,a,o=this.components,i=this.jsonData,r=i.dataset||[],n=r.length,s=this.defaultDatasetType,l=this.applicableDSList;e=[];var h={};for(e=this.config.categories=i.category||[],i=e.length,!n&&i&&(r=e,n=i),i||this.setChartMessage(),e=o.dataset||(o.dataset=[]),o=0;n>o;o+=1)i=r[o],i.seriesname&&(i.seriesname=y(i.seriesname)),t=i.parentyaxis||u,t=(t="s"===t.toLowerCase()?f(i.renderas,this.sDefaultDatasetType):f(i.renderas,s))&&t.toLowerCase(),l[t]||(t=s),(a=FusionCharts.get("component",["dataset",t]))&&(void 0===h[t]?h[t]=0:h[t]++,e[0]?(t=e[0],t.JSONData=i):(t=new a,e.push(t),t.chart=this,t.index=o),t.init(r))},_spaceManager:function(){this._manageChartMenuBar(.225*this.config.canvasHeight)}},be.guageBase),FusionCharts.register("component",["dataset","multiLevelPie",{init:function(e){!this.components&&(this.components={data:[]}),this.conf={},this.graphics={},this.JSONData=e,this.configure()},configure:function(){var e,t,a=this,o=a.chart,i=o.config,r=a.conf||(a.conf={}),n=r.dataLabelOptions||(r.dataLabelOptions={}),s=r.piePlotOptions,l=o.config.style,h=a.JSONData,o=o.jsonData.chart;e=r.enableAnimation=x(o.animation,o.defaultanimation,1);var d=x(-o.centerangle,180),c=x(o.totalangle,360);r.animation=e?{duration:1e3*x(o.animationduration,o.moveduration,1)}:!1,r.showShadow=x(o.showshadow,0),e=r.useHoverColor=Boolean(x(o.usehovercolor,1)),r.hoverFillColor=ge(f(o.hoverfillcolor,"FF5904"),x(o.hoverfillalpha,100)),r.pierad=parseInt(o.pieradius,10),t=(t=b(o.valuebordercolor,g))?ge(t,x(o.valueborderalpha,o.valuebgalpha,o.valuealpha,100)):g,!n.style&&(n.style={fontFamily:f(o.valuefont,l.fontFamily),fontSize:x(o.valuefontsize,parseInt(l.fontSize,10))+"px",color:ge(f(o.valuefontcolor,l.color),x(o.valuefontalpha,o.valuealpha,100)),fontWeight:x(o.valuefontbold)?"bold":"normal",fontStyle:x(o.valuefontitalic)?"italic":"normal",backgroundColor:o.valuebgcolor?ge(o.valuebgcolor,x(o.valuebgalpha,o.valuealpha,100)):g,border:t||o.valuebgcolor?x(o.valueborderthickness,1)+"px solid":g,borderPadding:x(o.valueborderpadding,2),borderThickness:x(o.valueborderthickness,l.borderThickness,1),borderRadius:x(o.valueborderradius,l.borderRadius,0),borderColor:t,borderDash:x(o.valueborderdashed,0)?C(x(o.valueborderdashlen,4),x(o.valueborderdashgap,2),x(o.valueborderthickness,1)):"none"}),!s&&(s=r.piePlotOptions={}),s.allowPointSelect=!1,r.borderColor=ge(f(o.plotbordercolor,o.piebordercolor,"FFFFFF"),"0"!=o.showplotborder?f(o.plotborderalpha,o.pieborderalpha,100):0),r.showTooltip=x(o.showtooltip,1),r.borderWidth=x(o.pieborderthickness,o.plotborderthickness,1),s.startingAngle=0,s.size="100%",r.showLabels=x(o.showlabels,1),r.showValues=x(o.showvalues,0),r.showValuesInTooltip=x(o.showvaluesintooltip,o.showvalues,0),r.showPercentValues=x(o.showpercentvalues,o.showpercentagevalues,0),r.showPercentInTooltip=x(o.showpercentintooltip,0),r.toolTipSepChar=f(o.tooltipsepchar,o.hovercapsepchar,_),r.labelSepChar=f(o.labelsepchar,r.toolTipSepChar),r.tooltext=o.plottooltext,r.alpha=f(o.plotfillalpha,o.piefillalpha,100),r.startAngle=$/180*(d-c/2),r.endtAngle=$/180*(d+c/2),r.initialAngle=r.endtAngle,r.originX=x(o.originx),r.originY=x(o.originy),e&&(r.events={mouseOver:function(){for(var e=this.data("plotItem").selfRef,t=a.conf;e.graphics.element;)e.graphics.element.attr({fill:t.hoverFillColor}),e=e.linkedItems.parent},mouseOut:function(){for(var e=this.data("plotItem"),t=e.selfRef;t.graphics.element;)t.graphics.element.attr({fill:(t.config||e).color}),t=t.linkedItems.parent}}),i.plotBorderWidth=0,i.plotBorderWidth=0,r.maxLevel=a.addMSPieCat(h,1,a,r.startAngle,r.endtAngle),r.pieRadius=parseInt(o.pieradius,10),n.distance=0,n.placeLabelsInside=!0},removalFn:function(e,t,a){var o,i,r=this.pool||(this.pool={});o=this.chart.get("config","animationObj");var n=o.duration,s=o.dummyObj,l=o.animObj,h=o.animType,d=function(e){(e||this).hide()};!r[a]&&(r[a]=[]),"element"===a?(i=e.attr("ringpath"),o=(i[4]+i[5])/2,t?e.animateWith(s,l,{ringpath:[i[0],i[1],i[2],i[3],o,o]},n,h,d):r[a].push(e)):t?d(e):r[a].push(e)},removeGraphics:function(e,t){var a,o,i,r=e.components&&e.components.data,n=e.graphics;if(r)for(i=r.length,a=0;i>a;a+=1)this.removeGraphics(r[a]);if(e.graphics)for(o in n)n.hasOwnProperty(o)&&this.removalFn(e.graphics[o],t,o)},removeChild:function(e,t,a){var o,i;if(e.length)for(o=0;o<e.length;o+=1)i=e[o],a?this.removalFn(i,t,a):this.removeGraphics(i,t);else for(o in e)this.removeChild(e[o],t,o)},addMSPieCat:function(e,t,a,o,i){var r,n,s,l,h,d,c,p,u,b,w,k=e.length,A=this,L=a.components.data,S=A.chart.components,D=A.conf,T=D.borderWidth,P=D.borderColor,B=S.numberFormatter,S=S.colorManager,V=0,I=D.labelSepChar,_=t,E=L.length,O=function(){A.removeChild.apply(A,arguments)},N=e.length;l=i-o;var F,R=0;for(d=0;k>d;d+=1)i=e[d],i._userValue=B.getCleanValue(i.value,!0),i._value=x(i._userValue,1),V+=i._value;for(V=V||1,l/=V,d=k-1;d>=0;--d)i=e[d],h=l*i._value,r=y(f(i.label,i.name)),p=null!==i._userValue?B.dataLabels(i._userValue):g,u=B.percentValue(i._value/V*100),c=x(i.alpha,D.alpha),w=D.showLabels?r:g,D.showValues&&(D.showPercentValues?w+=w!==g?I+u:u:void 0!==p&&p!==g&&(w+=w!==g?I+p:p)),b=D.showTooltip?y(f(i.tooltext,i.hovertext,D.tooltext)):void 0,b===g?(b=r,D.showValuesInTooltip&&(D.showPercentInTooltip?b+=b!==g?I+u:u:void 0!==p&&p!==g&&(b+=b!==g?I+p:p))):b=m(b,[1,2,3,14],{percentValue:u,label:r,formattedValue:p},i),r=L[d],p=o+R,R+=h,r||(r=L[d]={components:{data:[]},linkedItems:{},config:{},graphics:{}}),r.graphics.element&&(F=r.config.startAngle+r.config.angleStrech),r.config={initialAngle:F||(a.conf||a.config).initialAngle,startAngle:p,angleStrech:h,level:t,displayValue:w,toolText:b,link:v(i.link),doNotSlice:!0,color:ge(i.color||S.getPlotColor(),c),borderWidth:x(i.borderwidth,T),borderColor:f(i.bordercolor,P),dashStyle:x(i.valueborderdashed,0)?C(x(i.borderdashlen,4),x(i.borderdashgap,2),x(i.borderthickness,1)):"none",shadow:{opacity:.01*K(c>50?c*c*c*1e-4:c*c*.01)},isSingleTon:!(k>1)},r.linkedItems.parent=a,i.category?(_=Q(_,A.addMSPieCat(i.category,t+1,r,p,h+p)),(n=r.components.data.length)>(s=i.category.length)&&O(r.components.data.splice(n-1,s))):(n=r.components.data.length)&&O(r.components.data.splice(0,n));return E>N&&O(L.splice(E-1,N)),_},draw:function(e){var t,a,o,i=this.conf||{},r=this.chart,n=r.config,s=r.graphics;o=this.components;var l=o.data.length,h=n.dataLabelStyle;t=i.showShadow;var d,c=r.components.paper,p=n.textDirection,g=n.tooltip||{},g=g&&!1!==g.enabled,m=n.canvasWidth;d=n.canvasHeight;var f,v,b,y,w,C,A,L,S,D,T=x(i.originX,n.canvasLeft+.5*m),n=x(i.originY,n.canvasTop+.5*d),P=s.datasetGroup.trackTooltip(!0),B=r.get("config","animationObj"),V=B.duration||0,I=B.dummyObj,_=B.animObj,B=B.animType,E=i.events||{};S=function(e){var t=E.mouseOver;Ae.call(this,r,e,"DataPlotRollOver"),t&&t.call(this)},a=function(e){var t=E.mouseOut;
Ae.call(this,r,e,"DataPlotRollOut"),t&&t.call(this)};var O=function(e){var t=E.mouseOver;Ae.call(this,r,e,"DataPlotRollOver"),t&&t.call(this)},N=function(e){var t=E.mouseOut;Ae.call(this,r,e,"DataPlotRollOut"),t&&t.call(this)},F=function(e){Ae.call(this,r,e)},R=function(e,t){return function(e,t){return function(){W.show(),t===l-1&&(W.show(),r._animCallBack())}}(e,t)},M=this.pool||(this.pool={});o=(o=o.removeDataArr)&&o.length,d=x(2*i.pieRadius,X(m,d))/(2*i.maxLevel);var W=s.datalabels||(s.datalabels=c.group("datalabels").insertAfter(P));for(o&&this.remove(),V&&W.hide(),!e&&(e=this),l=e.components.data.length,i=0;l>i;i+=1)this.draw(e.components.data[i]);m=e.config,(o=m.level)?(s=o*d,o=(o-1)*d,A=e.graphics,v=m.angleStrech,b=m.displayValue,d=m.toolText,y=!!m.link,f=m.color,w=m.startAngle,C=w+m.angleStrech,D=m.initialAngle,L=A.element,L||(M.element&&M.element.length?(L=A.element=M.element.shift(),L.show()):L=A.element=c.ringpath(P).mouseover(S).mouseout(a).mouseup(F),L.attr({ringpath:[T,n,s,o,D,D]})),e={chart:r,link:m.link,value:v,color:f,labelText:b,graphics:{element:L},selfRef:e},P={link:m.link,label:m.displayValue,toolText:m.toolText},L.attr({"stroke-width":m.borderWidth,stroke:m.borderColor,fill:k(m.color),"stroke-dasharray":m.dashStyle,ishot:!g,cursor:y?"pointer":u}).tooltip(m.toolText).shadow(t&&!!m.shadow).data("plotItem",e).data("eventArgs",P),S=A.label,void 0!==b&&b!==u?(t=(w+C)/2,a=0===o&&m.isSingleTon?0:o+(s-o)/2,S=A.label,S||(S=M.label&&M.label.length?A.label=M.label.shift():A.label=c.text(W).mouseover(O).mouseout(N).mouseup(F)),e.label=S,S.attr({text:b,fill:h.color||"#000000",direction:p,ishot:y,cursor:y?"pointer":u,x:T+a*q(t),y:n+a*J(t),"text-bound":[h.backgroundColor,h.borderColor,h.borderThickness,h.borderPadding,h.borderRadius,h.borderDash]}).show().css(h).data("plotItem",e).data("eventArgs",P),g&&S.tooltip(d)):S&&S.hide(),L.animateWith(I,_,{ringpath:[T,n,s,o,w,C]},V,B,!i&&R(void 0,void 0))):this.removeChild(this.pool,!0)}},"Pie2D"]),be("radar",{friendlyName:"Radar Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:"radar",applicableDSList:{radar:!0},hasLegend:!0,areaAlpha:50,showValues:0,defaultPlotShadow:0,_postSpaceManagement:function(){var e=this.components,t=this.config,a=e.legend;(e.yAxis&&e.yAxis[0]).setAxisDimention({x:t.canvasLeft+t.canvasWidth/2,y:t.canvasTop,axisLength:t.canvasHeight/2}),a.postSpaceManager()}},be.mspolar),be("dragbase",{configure:function(){var t,a,o=this.jsonData.chart;this.base.base.configure.call(this),a=this.config,a.formAction=v(o.formaction),"0"!==o.submitdataasxml||o.formdataformat||(o.formdataformat=e.dataFormats.CSV),a.formDataFormat=f(o.formdataformat,e.dataFormats.XML),a.formTarget=f(o.formtarget,"_self"),a.formMethod=f(o.formmethod,"POST"),a.submitFormAsAjax=x(o.submitformusingajax,1),a.restoreBtnTitle=f(o.restorebtntitle,"Restore"),a.submitBtnTitle=f(o.formbtntitle,"Submit"),a.showFormBtn=x(o.showformbtn,1)&&a.formAction,a.showRestoreBtn=x(o.showrestorebtn,1),a.formBtnTitle=f(o.formbtntitle,"Submit"),a.formBtnBorderColor=f(o.formbtnbordercolor,"CBCBCB"),a.formBtnBgColor=f(o.formbtnbgcolor,"FFFFFF"),a.btnPadding=x(o.btnpadding,7),a.btnSpacing=x(o.btnspacing,5),a.formBtnStyle={fontSize:a.style.outCanfontSize,fontFamily:a.style.outCanfontFamily,fontWeight:"bold"},a.formBtnLabelFill=a.style.outCancolor,o.btntextcolor&&(a.formBtnLabelFill=o.btntextcolor.replace(D,T)),0<=(t=x(o.btnfontsize))&&(a.formBtnStyle.fontSize=t+"px"),a.restoreBtnWidth=x(o.restorebtnwidth,0),a.formBtnWidth=x(o.formbtnwidth,0),a.restoreBtnBorderColor=f(o.restorebtnbordercolor,a.formBtnBorderColor),a.restoreBtnBgColor=f(o.restorebtnbgcolor,a.formBtnBgColor),a.restoreBtnStyle={fontSize:a.formBtnStyle.fontSize,fontFamily:a.formBtnStyle.fontFamily,fontWeight:"bold"},a.restoreBtnLabelFill=a.formBtnLabelFill},_createToolBox:function(){var t,a,o,i=this,r=i.components.tb||(i.components.tb=new(FusionCharts.register("component",["toolbox","toolbox"])));o=i.components;var n,s,l=i.linkedItems.smartLabel,h=i.config,d=h.showRestoreBtn,c=h.formAction,p=h.restoreBtnTitle,g=h.submitBtnTitle,u=h.formBtnStyle,m=h.restoreBtnStyle,f=h.restoreBtnWidth,v=h.restoreBtnBgColor,x=h.restoreBtnBorderColor,b=h.formBtnBgColor,y=h.formBtnBorderColor,w=h.restoreBtnLabelFill,C=h.formBtnLabelFill,k=h.btnSpacing,A=h.btnPadding,L=h.formBtnWidth;t=o.chartMenuBar,t&&t.drawn||(t=r.init({graphics:i.graphics||(i.graphics={}),chart:i,components:i.components}),r.pId=t,t=o.toolBoxAPI=r.getAPIInstances(r.ALIGNMENT_HORIZONTAL),a=t.ComponentGroup,o=t.Toolbar,n=t.Symbol,r.getDefaultConfiguration(),t=r.getDefaultConfiguration(),s=new n(p,!0,(r.idCount=r.idCount||0,r.idCount++),r.pId),n=new n(g,!0,r.idCount++,r.pId),be.mscartesian._createToolBox.call(i),i.addConfigureOptions&&i.addConfigureOptions(),a=new a(r.idCount++,r.pId),l.useEllipsesOnOverflow(h.useEllipsesWhenOverflow),l.setStyle(m),p=l.getOriSize(p),f=Q(p.width,f),h=p.height,l.setStyle(u),p=l.getOriSize(g),L=Q(L,p.width),l=p.height,s.conf.width=f+A,n.conf.width=L+A,s.conf.stroke=ge(x,100),s.conf.height=h+A,n.conf.height=l+A,n.conf.fill=ge(b,100),n.conf.labelFill=ge(C,100),s.conf.fill=ge(v,100),s.conf.labelFill=ge(w,100),n.conf.stroke=ge(y,100),n.conf.btnTextStyle.fontSize=u.fontSize,s.conf.btnTextStyle.fontSize=m.fontSize,t.spacing=k,a.setConfiguaration({buttons:t,group:{fill:ge("FFFFFF",0),borderThickness:0}}),d&&(a.addSymbol(s),s.attachEventHandlers({click:function(){i.restoreData()}})),c&&(a.addSymbol(n),n.attachEventHandlers({click:function(){i.submitData(e)}})),r=new o(r.idCount++,r.pId),r=i.components.actionBar=r,r.addComponent(a),r.toolbarConfig.fill=ge("EBEBEB",0),r.toolbarConfig.borderThickness=0)},addConfigureOptions:function(){var e=this,t=e.chartMenuTools,a=e.components.chartMenuBar.componentGroups[0].symbolList[0].getListRefernce(),o=x(e.jsonData.chart.allowaxischange,1),t=t.set,i=[{"Increase Upper Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeUpperLimits(t.max+t.tickInterval)},action:"click"}},{"Increase Lower Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeLowerLimits(t.min+t.tickInterval)},action:"click"}},{"Decrease Upper Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeUpperLimits(t.max-t.tickInterval)},action:"click"}},{"Decrease Lower Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeLowerLimits(t.min-t.tickInterval)},action:"click"}}];o&&(t(i),a.appendAsList(i))},_manageActionBarSpace:function(){var e=this.components.actionBar,e=e&&e.getLogicalSpace()||{};return this.config.actionBarHeight=e.height,{bottom:e.height||0}},drawAxisUpdateUI:function(){var e=this,a=e.components.yAxis[0],o=a.config.axisRange,i=a.graphics.labels||[],r=e.config,a=o.min,o=o.max,s=i[i.length-1],i=i[0],l=e.linkedItems.container,h=e.config.inCanvasStyle||{},d=I({outline:"none","-webkit-appearance":"none",filter:"alpha(opacity=0)",position:"absolute",background:"transparent",border:"1px solid #cccccc",textAlign:"right",top:0,left:0,width:50,zIndex:20,opacity:0,borderRadius:0},h),c={max:{label:s,value:o},min:{label:i,value:a}};O(["max","min"],function(a){var o,i,s,p,g,m,f=c[a],v=f.label,x=f.value,b=f.oldValue=x,f=v&&v.getBBox(),y="max"===a,w=function(t,a,o){return t===a+u?null:o?e.changeUpperLimits(t):e.changeLowerLimits(t)},C=function(){return function(){var e,t={opacity:1,filter:"alpha(opacity=100)",color:h.color};this.value=x;for(e in t)this.style[e]=t[e];p=m=!0,v.hide()}}(x),k=function(){return function(){var e=this;m&&(m=!1,re||setTimeout(function(){e.select()},0))}}(),A=function(){return function(){!0!==w(this.value,b,y)&&(this.style.opacity=0,this.style.filter="alpha(opacity=0)",v.show()),S&&n.getElementsByTagName("body")[0].focus&&n.getElementsByTagName("body")[0].focus(),p=m=!1}}(y,b),D=function(){return function(e){var a=e.originalEvent.keyCode,o=this.value;13===a?(e=w(o,b,y),!1===e&&(this.style.color="#dd0000")):27===a&&(this.value=b,t.dem.fire(this,"blur",e))}}(y,b);if(f&&v){a=f.x+f.width-r.marginLeft,i=r.canvasLeft-a-(L?4:5),o=Be("input",{type:"text",value:x,name:x||u},l,!0),I(d,{top:f.y+(L?-1:0)+"px",left:i+"px",width:a+"px"});for(s in d)o.style[s]=d[s];t.dem.listen(o,["focus","mouseup","blur","keyup"],[C,k,A,D]),o.setAttribute("isOverlay","true"),L?(N(l,"defaultprevented",g=function(e){o.parentNode&&t.dem.fire(o,"blur",e)}),N(l,"destroy",function(){F(e,"defaultprevented",g),o.parentNode.removeChild(o)})):(N(l,"mousedown",g=function(e){e.srcElement!==o&&p&&t.dem.fire(o,"blur",e)}),N(l,"destroy",function(){F(l,"mousedown",g),o.parentNode.removeChild(o)}))}})},drawActionBar:function(){var e,t=this.config,a=this.components.actionBar||{};e=a.getLogicalSpace(),a.toolbarConfig.fill=G,a.toolbarConfig.vPadding=0,a.toolbarConfig.borderColor=G,a.draw(t.width-t.marginRight-e.width,t.height-t.marginBottom-e.height),a.drawn=!0},changeUpperLimits:function(e){var t=this.components.yAxis[0],a=t.config.axisRange,o=a.min,i=a.max,r=this.config.yMax,a=!1;void 0!==e&&e>r&&e!==i?a=!0:e=r>i?r:i,a&&(t.setAxisData({axisMaxValue:e,axisMinValue:o}),t.setDataLimit(e,o),this._drawAxis(),this._drawDataset())},changeLowerLimits:function(e){var t,a=this.components.yAxis[0],o=a.config.axisRange,i=this.config.yMin,r=o.max,n=!1,o=o.min;void 0!==e&&i>e&&e!==o?(t=e,n=!0):e=o>i?i:o,n&&(a.setAxisData({axisMaxValue:r,axisMinValue:e}),a.setDataLimit(r,t),this._drawAxis(),this._drawDataset())},eiMethods:{getDataWithId:function(){for(var e,t,a,o,i,r,n=this.jsVars.instanceAPI.getJSONData(),s=[[g]],l=n.dataset,n=n.categories&&n.categories[0]&&n.categories[0].category,h=l&&l.length||0,d=0;h--;)if(t=l[h])for(s[0][h+1]=t.id||t.seriesname,o=t.id||h+1,r=(t=t.data)&&t.length||0,i=0;r>i;i+=1){if(a=i+1,!s[a]){for(e=n&&n[i+d]||{};e.vline;)d+=1,e=n[i+d]||{};e=e.label||e.name||g,s[a]=[e]}e=s[a],a=t[i].id||a+"_"+o,e[h+1]=[a,Number(t[i].value)]}return s},getData:function(t){var a,o,i=this.jsVars.instanceAPI,r=i.getJSONData(),n=[[g]],s=r.dataset,l=r.categories&&r.categories[0]&&r.categories[0].category,h=s&&s.length||0,d=0;if(t)n=/^json$/gi.test(t)?r:e.core.transcodeData.call(i.chartInstance,r,"json",t);else for(;h--;)if(t=s[h])for(n[0][h+1]=s[h].seriesname,i=(t=s[h]&&s[h].data)&&t.length||0,r=0;i>r;r+=1){if(o=r+1,!n[o]){for(a=l&&l[r+d]||{};a.vline;)d+=1,a=l[r+d]||{};a=a.label||a.name||g,n[o]=[a]}o=n[o],o[h+1]=Number(t[r].value)}return n}},restoreData:function(){var e,t,a=this.components,o=a.yAxis[0],i=a.dataset,a=a.legend,r=i.length;for(t=0;r>t;t++)e=i[t],e.configure();o.setAxisData({axisMaxValue:void 0,axisMinValue:void 0}),this._setAxisLimits(),this._drawAxis(),this._drawDataset(),a._drawPointLegendItem()},submitData:function(e){var a,o,r,n,s,l=this.chartInstance,h=new e.ajax,d=this.config,c=e.dataFormats.JSON,p=e.dataFormats.CSV,g=e.dataFormats.XML,u=d.formAction,m=this.chartInstance,f=d.submitFormAsAjax;d.formDataFormat===c?(a=c,o=JSON.stringify(this.getJSONData())):this.formDataFormat===p?(a=p,o=l.getCSVString&&l.getCSVString(),void 0===o&&(o=e.core.transcodeData(this.getJSONData(),c,p))):(a=g,o=e.core.transcodeData(this.getJSONData(),c,g)),e.raiseEvent("beforeDataSubmit",{data:o},m,void 0,function(){f?(h.onError=function(e,a,i,r){t.raiseEvent("dataSubmitError",{xhrObject:a.xhr,url:r,statusText:e,httpStatus:a.xhr&&a.xhr.status?a.xhr.status:-1,data:o},m,[m.id,e,a.xhr&&a.xhr.status])},h.onSuccess=function(e,a,i,r){t.raiseEvent("dataSubmitted",{xhrObject:h,response:e,url:r,data:o},m,[m.id,e])},r={},r["str"+a.toUpperCase()]=o,h.open&&h.abort(),h.post(u,r)):(n=i.document.createElement("span"),n.innerHTML='<form style="display:none" action="'+u+'" method="'+d.formMethod+'" target="'+d.formTarget+'"> <input type="hidden" name="strXML" value="'+Le(o)+'"><input type="hidden" name="dataFormat" value="'+a.toUpperCase()+'" /></form>',s=n.removeChild(n.firstChild),i.document.body.appendChild(s),s.submit&&s.submit(),s.parentNode.removeChild(s),n=s=null)},function(){e.raiseEvent("dataSubmitCancelled",{data:o},m)})},getJSONData:function(){var e,t,a=this.defaultDatasetType&&this.defaultDatasetType.toLowerCase(),o=this.components,i=o["datasetGroup_"+a],a=o.dataset,r=this.jsonData.dataset,n=this.jsonData,s=a.length,o=[];if(i)o=i.getJSONData();else for(i=0;s>i;i++)e=a[i],t=e.getJSONData(),e=r[i]||{},delete e.data,o.push(w(e,t));return a=w({},n),a.dataset=o,a},_setDataLimits:function(){var e,t,a,o=this.components.dataset,i=this.config,r=-(1/0),n=1/0;for(t=o.length,a=0;t>a;a++)e=o[a],e=e.getDataLimits(),r=Q(r,e.max),n=X(n,e.min);i.yMax=r,i.yMin=n}},be.mscartesian),be("dragnode",{friendlyName:"Dragable Node Chart",standaloneInit:!0,hasLegend:!0,numVDivLines:0,numDivLines:0,showLimits:0,setadaptivexmin:1,showdivlinevalues:0,showzeroplane:0,showyaxisvalues:0,dontShowLegendByDefault:!0,creditLabel:j,defaultDatasetType:"dragnode",configure:function(){var t,a=this.jsonData.chart;be.dragbase.configure.call(this),t=this.config,t.formAction=v(a.formaction),"0"!==a.submitdataasxml||a.formdataformat||(a.formdataformat=e.dataFormats.CSV),t.formDataFormat=f(a.formdataformat,e.dataFormats.XML),t.formTarget=f(a.formtarget,"_self"),t.formMethod=f(a.formmethod,"POST"),t.submitFormAsAjax=x(a.submitformusingajax,1),t.viewMode=x(a.viewmode,0)},_createDatasets:function(){var e,t,a,o,i,r,n,s,l,h,d=this.config,c=this.components,p=this.jsonData,g=p.dataset,u=p.connectors,m=p.labels&&p.labels.label||[],f=g&&g.length,v=u&&u.length,x=m&&m.length||[],b=c.legend;s=0;var y,w=d.datasetMap||(d.datasetMap={connectors:[],dragnode:[],labels:[]}),C={connectors:[],dragnode:[],labels:[]},k={};if(g){for(this.config.categories=p.categories&&p.categories[0].category,t=c.dataset=[],e=FusionCharts.register("component",["datasetGroup","dragnode"]),p=c.datasetGroup_dragnode,e&&!p&&(p=c.datasetGroup_dragnode=new e,p.chart=this,p.init()),i=FusionCharts.get("component",["dataset","Dragnode"]),r=FusionCharts.get("component",["dataset","Connector"]),n=FusionCharts.get("component",["dataset","DragableLabels"]),e=0;f>e;e++)c="dragnode",a=w[c],y=a[0],void 0===k[c]?k[c]=0:k[c]++,y?(o=g[e],l=y.components&&y.components.data||[],C[c].push(y),t.push(y),l=l.length,h=o&&o.data&&o.data.length||0,l>h&&y.removeData(h-1,l-h),y.JSONData=o,y.configure(),a.shift()):(o=g[e],a=new i,a.chart=this,C[c].push(a),t.push(a),a.chart=this,a.index=e,a.init(o),p.addDataset(a,e)),s++;for(e=0;v>e;e++)c="connectors",f=u[e],a=w[c],y=a[0],void 0===k[c]?k[c]=0:k[c]++,y?(l=y.components&&y.components.data||[],l=l.length,h=f.connector&&f.connector.length||0,C[c].push(y),t.push(y),l>h&&y.removeData(h-1,l-h),y.JSONData=f,y.configure(),a.shift()):(a=new r,a.chart=this,C[c].push(a),t.push(a),a.init(f),p.addConnectors(a,e)),s++;c="labels",a=w[c],y=a[0],void 0===k[c]?k[c]=0:k[c]++,y?(l=y.JSONData,l=l.length,h=x,C[c].push(y),t.push(y),l>h&&y.removeData(h-1,l-h),y.JSONData=m,y.configure(),a.shift()):(s=new n,s.chart=this,C[c].push(s),t.push(s),s.init(m),p.addLabels(s,0)),this.config._datasetUpdated=!0;for(g in w)if(a=w[g],m=a.length,s=k[g]||-1,m)for(u=0;m>u;u++)"dragnode"===g?(p.removeNodeDataset(s),p._clearConnectors(),b.removeItem(a[u].legendItemId)):"connectors"===g?p.removeConnectorSet(s):p.removeLabelSet(s),M.call(a[u]),s+=1;d.datasetMap=C}else this.setChartMessage()},addConfigureOptions:function(){var e=this.chartMenuTools,t=this.components["datasetGroup_"+this.defaultDatasetType],a=this.components.chartMenuBar.componentGroups[0].symbolList[0].getListRefernce(),e=e.set,o=this.config.viewMode,i=[{"Add Node":{handler:function(){t.showNodeAddUI()},action:"click"}},{"Add Connector":{handler:function(){t.showConnectorAddUI(t.chart,{})},action:"click"}},{"Add Label":{handler:function(){t.showLabelUpdateUI(t.chart,{})},action:"click"}}];e(i),!o&&a.appendAsList(i)},_redrawDragNode:function(e,a){var o=this.chart;this.draw(),t.raiseEvent("chartUpdated",w({sourceEvent:a},e),o.chartInstance,[o.chartInstance.id])},addNode:function(t){var a,o,i,r,n=this.components.dataset,s=t.datasetId,l=n.length;for(r=0;l>r;r++)if(a=n[r]||{},i=a.config&&a.config.id,void 0!==i&&(i=i.toString()),i===s){o=!0;break}a&&o&&(n=a.groupManager,s=a.components.data,t.add=!0,l=s.length,s={index:l,dataIndex:l,link:t.link,y:t.y,x:t.x,shape:t.shape,width:t.width,height:t.height,radius:t.radius,sides:t.sides,label:t.name,toolText:t.tooltext,id:t.id,datasetIndex:a.index,datasetName:a.JSONData.seriesname,sourceType:"dataplot"},a._setConfigure(l,t),this._redrawDragNode.call(n,s,"nodeAdded"),e.raiseEvent("nodeAdded",s,this.chartInstance))},updateNode:function(t){var a,o,i,r,n,s,l,h=this.components["datasetGroup_"+this.defaultDatasetType],d=h.datasets,c=d.length;for(t.update=!0,n=0;c>n;n++)for(i=d[n].dataset,s=i.components.data||[],a=s.length,l=0;a>l;l++)if(r=s[l],r.config.id===t.id){o=!0;break}i&&o&&(d={index:l,dataIndex:l,link:t.link,y:t.y,x:t.x,shape:t.shape,width:t.width,height:t.height,radius:t.radius,sides:t.sides,label:t.name,toolText:t.tooltext,id:t.id,datasetIndex:i.index,datasetName:i.JSONData.seriesname,sourceType:"dataplot"},i._setConfigure(l,t),this._redrawDragNode.call(h,d,"nodeupdated"),e.raiseEvent("nodeupdated",d,this.chartInstance))},deleteNode:function(a){var o,i,r,n,s,l,h,d,c=this.components["datasetGroup_"+this.defaultDatasetType].nodes,p=c[a],g=function(e){for(var t in e)e[t].remove()};if(p){for(o=p.dataset,i=o.components.data,r=p.config.startConnectors,n=p.config.endConnectors,d=i.length,p=0;d>p;p++)if(l=i[p],l.config.id===a){s=!0;break}if(!0===s){i=l.graphics,g(i);for(h in r)s=r[h]||{},i=s.graphics,g(i),delete s.graphics;for(h in n)s=n[h]||{},i=s.graphics,g(i),delete s.graphics;delete c[a],l.removed=!0,a=l.config||{},o={index:p,dataIndex:p,link:a.link,y:a.y,x:a.x,shape:a.shape,width:a.width,height:a.height,radius:a.radius,sides:a.sides,label:a.displayValue,toolText:a.toolText,id:a.id,datasetIndex:p,datasetName:o.JSONData.seriesname,sourceType:"dataplot"},t.raiseEvent("chartUpdated",w({sourceEvent:"nodedeleted"},o),this.chartInstance,[this.chartInstance.id]),e.raiseEvent("nodedeleted",o,this.chartInstance)}}},addConnector:function(t){var a=this.components["datasetGroup_"+this.defaultDatasetType],o=a.connectorSet[0].connectors,i=o.components.data.length;t.add=!0,o._setConfigure(i,t),t={arrowAtEnd:Boolean(t.arrowAtEnd),arrowAtStart:Boolean(t.arrowAtStart),fromNodeId:t.from,id:t.id,label:t.label,link:t.connectorLink,sourceType:"connector",toNodeId:t.to},this._redrawDragNode.call(a,t,"connectoradded"),e.raiseEvent("connectoradded",t,this.chartInstance)},editConnector:function(t){var a,o,i,r,n,s,l,h,d=this.components["datasetGroup_"+this.defaultDatasetType],c=t.from,p=t.to,g=d.connectorSet,u=g.length;for(a=0;u>a;a++)for(i=(h=g[a].connectors)&&h.components.data||[],o=i.length,s=0;o>s;s++)if(r=i[s],n=r.config,r=n.from,n=n.to,r===c&&n===p){l=!0;break}t.update=!0,l&&(h._setConfigure(s,t),t={arrowAtEnd:Boolean(t.arrowatend),arrowAtStart:Boolean(t.arrowatstart),fromNodeId:t.from,id:t.id,label:t.label,link:t.link,sourceType:"connector",toNodeId:t.to},this._redrawDragNode.call(d,t,"connectorupdated"),e.raiseEvent("connectorupdated",t,this.chartInstance))},deleteConnector:function(a){var o=a.from;a=a.to;var i,r,n,s,l,h=this.components["datasetGroup_"+this.defaultDatasetType].connectorSet,d=!1,c=h.length;for(i=0;c>i;i++)for(r=h[i].connectors,s=r.components.data,l=s.length,r=0;l>r;r++)if(n=s[r],n.config.from===o&&n.config.to===a){d=!0;break}if(d){o=n.config||{},o={arrowAtEnd:o.arrowAtEnd,arrowAtStart:o.arrowAtStart,fromNodeId:o.from,id:o.id,label:o.label,link:o.connectorLink,sourceType:"connector",toNodeId:o.to},a=n.graphics;for(var p in a)a[p].remove();delete n.graphics,n.removed=!0,t.raiseEvent("chartUpdated",w({sourceEvent:"connectordeleted"},o),this.chartInstance,[this.chartInstance.id]),e.raiseEvent("connectordeleted",o,this.chartInstance)}},addLabel:function(t){var a=this.components["datasetGroup_"+this.defaultDatasetType],o=a.labelSet,i=FusionCharts.get("component",["dataset","DragableLabels"]);t.add=!0,o.length?(o=a.labelSet[0].labels,i=o.components.data,i=i.length,o._setConfigure(i,t)):(o=new i,o.chart=this,o.init([t]),a.addLabels(o,0)),o={text:t.text,x:t.x,y:t.y,allowdrag:t.allowdrag,sourceType:"labelnode",link:t.link},this._redrawDragNode.call(a,o,"labeladded"),e.raiseEvent("labeladded",o,this.chartInstance),t.add=!0},deleteLabel:function(a){a=this.components["datasetGroup_"+this.defaultDatasetType].labelSet[0].labels.components.data[a];var o,i;(o=a.graphics.element)&&(i=o.data("eventArgs"),o.remove(),delete a.graphics),t.raiseEvent("chartUpdated",w({sourceEvent:"labeldeleted"},i),this.chartInstance,[this.chartInstance.id]),e.raiseEvent("labeldeleted",i,this.chartInstance),a.removed=!0},restoreData:function(){var e,t,a,o,i=this.components["datasetGroup_"+this.defaultDatasetType],r=i.datasets,n=this.components.legend,s=i.connectorSet,l=i.labelSet,h=function(e){var t,i;for(t=0;t<e.length;t++)if(a=e[t],delete a.removed,a.config.add)for(i in o=e[t].graphics)o[i].remove()};for(e=0;e<r.length;e++)t=r[e].dataset,i=t.components.data,h(i),t.drawn=!1,t.configure();for(e=0;e<s.length;e++)t=s[e].connectors,i=t.components.data,h(i),t.drawn=!1,t.configure();l.length&&(r=l[0].labels,i=r.components.data,h(i),r.configure()),this._setAxisLimits(),this._drawAxis(),this._drawDataset(),n._drawPointLegendItem()},getJSONData:function(){var e,t=this.defaultDatasetType&&this.defaultDatasetType.toLowerCase(),a=this.components,o=a["datasetGroup_"+t],t=a.dataset,i=this.jsonData,r=t.length,a=[];if(o)a=o.getJSONData();else for(o=0;r>o;o++)e=t[o],e=e.getJSONData(),a.push(e);return t=w({},i),t.dataset=a.dataset,t.connectors=a.connectors,t.labels=a.labels,t},_setCategories:function(){var e,t,a=this.jsonData,o=this.components.xAxis,a=a.categories&&a.categories[0].category||[],i=a.length,r=[];for(e=0;i>e;e++)t=a[e]||{},void 0!==t.x&&r.push(t);o&&o[0].setCategory(r)},_drawDataset:function(){var e=this.components["datasetGroup_"+this.defaultDatasetType];e&&e.draw()},_setAxisLimits:function(){var e,t,a,o,i,r=this.components,n=this.jsonData,n=n.categories&&n.categories[0].category||[],s=r.dataset,l=r.yAxis,r=r.xAxis,h=s.length,d=-(1/0),c=1/0,p=1/0,g=-(1/0),u={},m=[],v=function(e){o=f(e.xMax,-(1/0)),i=f(e.xMin,1/0),d=Q(d,e.max),c=X(c,e.min),g=Q(g,o),p=X(p,i)};for(a=0;h>a;a++)t=s[a],(e=t.groupManager)?u[t.type]=e:m.push(t);for(e in u)s=u[e].getDataLimits(),v(s);for(h=m.length,a=0;h>a;a++)s=m[a].getDataLimits(),v(s);if(-(1/0)===d&&(d=0),1/0===c&&(c=0),this.config.yMax=d,this.config.yMin=c,l[0].setAxisConfig({isPercent:this.isStacked?this.config.stack100Percent:0}),l[0].setDataLimit(d,c),-(1/0)!==g||1/0!==p){for(a=0,h=n.length;h>a;a++)e=n[a],(e=e.x)&&(p>e&&(p=e),e>g&&(g=e));r[0].setDataLimit(g,p)}}},be.dragbase),FusionCharts.register("component",["datasetGroup","DragNode",{init:function(){this.connectorSet=[],this.nodes={},this.datasets=[],this.components=[],this.graphics={},this.labelSet=[]},addDataset:function(e,t){var a=this.datasets[t];e.groupManager=this,e.datasetIndex=t,a||(this.datasets[t]={dataset:e})},addLabels:function(e,t){var a=this.labelSet[t];e.groupManager=this,a||(this.labelSet[t]={labels:e})},addConnectors:function(e,t){var a=this.connectorSet[t];e.groupManager=this,a||(this.connectorSet[t]={connectors:e})},showNodeAddUI:function(){var e,t,a,o=this.chart,i=o.components.dataset,r=u;for(a=0;a<i.length;a++)t=i[a]||{},e=t.config,t=t.plotType,"dragnode"===t&&(r+='<option value="'+e.id+'">'+(e.name!==g&&void 0!==e.name&&e.name+we+" "||g)+e.id+"</option>");this.showNodeUpdateUI(o,{dataset:{innerHTML:r}})},showConnectorAddUI:function(){var e,t,a=this.chart,o=this.nodes,i=u;for(t in o)e=o[t],e=e.config,e=e.id,i+='<option value="'+e+'">'+e+"</option>";this.showConnectorUpdateUI(a,{fromid:{innerHTML:i},toid:{innerHTML:i}})},draw:function(){var e,t,a,o=this.datasets,i=this.connectorSet,r=this.labelSet;for(this.updateUIvisuals(),e=0,a=o.length;a>e;e++)t=o[e].dataset,t.draw();for(e=0,a=i.length;a>e;e++)o=i[e].connectors,o.draw();for(e=0,a=r.length;a>e;e++)i=r[e].labels,i.draw();this.drawn=!0},getJSONData:function(){var e,t,a,o=this.datasets,i=this.connectorSet,r=this.labelSet,n={};for(n.dataset=[],n.connectors=[],n.labels=[],e=0,t=o.length;t>e;e++)a=o[e]&&o[e].dataset,n.dataset[e]||(n.dataset[e]=w({},a.JSONData)),n.dataset[e].data=a.getJSONData();for(e=0,t=i.length;t>e;e++)a=i[e]&&i[e].connectors,n.connectors[e]||(n.connectors[e]=w({},a.JSONData)),n.connectors[e].connector=a.getJSONData();for(e=0,t=r.length;t>e;e++)a=r[e]&&r[e].labels,n.labels[e]||(n.labels[e]={label:[]}),n.labels[e].label=a.getJSONData();return n},clearLongPress:function(){this.data("move",!1),clearTimeout(this._longpressactive),delete this._longpressactive},createHtmlDialog:function(e,t,a,o,i,r,n){var s=e.components.paper,l=e.config.style.inCanvasStyle||{},h=e.config.width,d=e.config.height,c=e.get("config","animationObj").transposeAnimDuration,p={color:P(l.color),textAlign:"center",paddingTop:"1px",border:"1px solid #cccccc",borderRadius:"4px",cursor:"pointer",_cursor:"hand",backgroundColor:"#ffffff",zIndex:21,"-webkit-border-radius":"4px"},g=n;return g?c?g.animate({width:h,height:d},c,"normal"):g.attr({width:h,height:d}):g=s.html("div",{fill:"transparent",width:h,height:d},{fontSize:"10px",lineHeight:"15px",fontFamily:l.fontFamily},e.linkedItems.container),g.veil?c?g.veil.animate({width:h,height:d},c,"normal"):g.veil.attr({width:h,height:d}):g.veil=s.html("div",{fill:"000000",width:h,height:d,opacity:.3},void 0,g),e={x:(h-t)/2,y:(d-a)/2,fill:"efefef",strokeWidth:1,stroke:"000000",width:t,height:a},g.dialog?c?g.dialog.animate({x:e.x,y:e.y,width:e.width,height:e.height},c,"normal"):g.dialog.attr(e):g.dialog=s.html("div",e,{borderRadius:"5px",boxShadow:"1px 1px 3px #000000","-webkit-border-radius":"5px","-webkit-box-shadow":"1px 1px 3px #000000",filter:'progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color="#000000")'},g),e={x:t-70-5,y:a-23-5,width:65,height:17,text:"Submit",tabIndex:1},g.ok?c?g.ok.animate({x:e.x,y:e.y,width:e.width,height:e.height},c,"normal"):g.ok.attr(e):g.ok=s.html("div",e,p,g.dialog).on("click",o),o={x:t-140-5,y:a-23-5,width:65,height:17,text:"Cancel",tabIndex:2},g.cancel?c?g.cancel.animate({x:o.x,y:o.y,width:o.width,height:o.height},c,"normal"):g.cancel.attr(o):g.cancel=s.html("div",o,p,g.dialog).on("click",i),t={x:t-210-5,y:a-23-5,width:65,height:17,text:"Delete",tabIndex:3},g.remove?c?g.remove.animate({x:t.x,y:t.y,width:t.width,height:t.height},c,"normal"):g.remove.attr(t):g.remove=s.html("div",t,p,g.dialog).on("click",r),g.handleKeyPress||(g.handleKeyPress=function(e){13===e.keyCode?g.ok.trigger(re?"touchStart":"click",e):27===e.keyCode&&g.cancel.trigger(re?"touchStart":"click",e)}),g},updateUIvisuals:function(){var e=this.graphics.cacheConnectorUpdateUI,t=this.chart,a=this.graphics.cacheLabelUpdateUI,o=this.graphics.cacheLabelDeleteUI,i=this.graphics.cacheUpdateUI;e&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,e),i&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,i),a&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,a),o&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,o)},showConnectorUpdateUI:function(e,t,a){var o,i,r,n,s=e.components.paper,l=this.cacheConnectorUpdateUI,h={border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",fontFamily:(e.config.style.inCanvasStyle||{}).fontFamily,padding:"2px"},d={textAlign:"right"},c=l&&l.fields,p=l&&l.labels,g=function(){var t=l&&l.fields,t={from:t.fromid.val(),to:t.toid.val(),id:t.id.val()};e.deleteConnector(t),l.hide()};l?(l.attr({width:e.config.width,height:e.config.height}),l.veil.attr({width:e.config.width,height:e.config.height}),l.dialog.attr({x:(e.config.width-315)/2,y:(e.config.height-215)/2,width:315,height:215})):(l=this.graphics.cacheConnectorUpdateUI=this.createHtmlDialog(e,315,215,function(){var t,o=l&&l.fields;o&&(t={from:o.fromid.val(),to:o.toid.val(),id:o.id.val(),label:o.label.val(),color:o.color.val(),alpha:o.alpha.val(),link:o.url.val(),tooltext:o.tooltext.val(),strength:o.strength.val(),arrowatstart:o.arratstart.val(),arrowatend:o.arratend.val(),dashed:o.dashed.val(),dashlen:o.dashlen.val(),dashgap:o.dashgap.val()},t.from?t.to?t.from!=t.to?(a?e.editConnector(t):e.addConnector(t),l.enableFields(),l.hide(),l.clearFields()):(l.error.attr({text:"Connector cannot start and end at the same node!"}),o.fromid.focus()):(l.error.attr({text:"Please select a valid connector end."}),o.toid.focus()):(l.error.attr({text:"Please select a valid connector start."}),o.fromid.focus()))},function(){l.error.attr({text:u}),l.enableFields(),l.hide()},g),n=l.dialog,p=l.labels={},c=l.fields={}),l.config=t,l.enableFields||(l.enableFields=function(){for(var e in t)t[e]&&t[e].disabled&&c[e]&&c[e].element.removeAttribute("disabled")}),l.clearFields||(l.clearFields=function(){var e,t=l.fields;for(e in t)t[e].element.disabled||(t[e].element.value=u)}),O(this.connectorUpdateUIDefinition,function(e){var a=e.key,g=t[a]||{};p[a]||(p[a]=s.html("label",{x:e.x,y:e.y,width:e.labelWidth||45,text:e.text},d,n)),e.noInput||((i=c[a])||(i=c[a]=s.html(e.inputType||"input",{y:-2+(e.inputPaddingTop||0),x:e.labelWidth&&e.labelWidth+5||50,width:e.inputWidth||50,name:a||u},h),"select"!==e.inputType&&i.attr({type:e.type||"text"}).on("keyup",l.handleKeyPress),i.add(p[a])),(o=f(g.innerHTML,e.innerHTML))&&i.attr({innerHTML:o}),void 0!==(r=f(g.val,e.val))&&i.val(r),g.disabled&&i.attr({disabled:"disabled"}))}),l.checkDash=function(){var e=c.dashed&&c.dashed.val()?"show":"hide";p.dashgap&&p.dashgap[e](),c.dashgap&&c.dashgap[e](),p.dashlen&&p.dashlen[e](),c.dashlen&&c.dashlen[e]()},l.checkDash(),c.dashed.on("click",l.checkDash),l.error||(l.error=s.html("span",{color:"ff0000",x:10,y:170},void 0,n)),l.remove[a?"show":"hide"](),e.animation?l.fadeIn("fast"):l.show()},labelUpdateUIDefinition:[{key:"label",text:"Label*",x:10,y:15,inputWidth:235},{key:"size",text:"Size",x:10,y:40},{key:"padding",text:"Padding",x:10,y:65},{key:"x",text:"Position",x:120,y:65,labelWidth:70,inputWidth:25},{key:"y",text:",",x:225,y:65,labelWidth:10,inputWidth:25},{key:"xy",text:"(x, y)",x:260,y:65,noInput:!0},{key:"allowdrag",text:"Allow Drag",x:120,y:40,inputType:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:70,val:1},{key:"color",text:"Color",x:10,y:90},{key:"alpha",text:"Alpha",x:145,y:90,inputWidth:30,val:"100"},{key:"bordercolor",text:"Border Color",x:10,y:125,labelWidth:100},{key:"bgcolor",text:"Background Color",x:10,y:150,labelWidth:100}],showLabelUpdateUI:function(e,t){var a,o,i,r=e.components.paper,n=this.graphics.cacheLabelUpdateUI,s={border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",fontFamily:(e.config.style.inCanvasStyle||{}).fontFamily,padding:"2px"},l={textAlign:"right"},h=n&&n.fields,d=n&&n.labels;n||(n=this.graphics.cacheLabelUpdateUI=this.createHtmlDialog(e,315,205,function(){var t,a=n&&n.fields;a&&(t={text:a.label.val(),x:a.x.val(),y:a.y.val(),color:a.color.val(),alpha:a.alpha.val(),bgcolor:a.bgcolor.val(),bordercolor:a.bordercolor.val(),fontsize:a.size.val(),allowdrag:a.allowdrag.val(),padding:a.padding.val()},t.text?(e.addLabel&&e.addLabel(t),n.hide()):(n.error.attr({text:"Label cannot be blank."}),a.label.focus()))},function(){n.error.attr({text:u}),n.hide()}),i=n.dialog,d=n.labels={},h=n.fields={}),O(this.labelUpdateUIDefinition,function(e){var c=e.key;d[c]||(d[c]=r.html("label",{x:e.x,y:e.y,width:e.labelWidth||45,text:e.text},l,i)),e.noInput||((a=h[c])||(a=h[c]=r.html("input",{y:-2+(e.inputPaddingTop||0),x:e.labelWidth&&e.labelWidth+5||50,width:e.inputWidth||50,type:e.inputType||"text",name:c||u},s,d[c]).on("keyup",n.handleKeyPress)),void 0!==(o=f(t[c],e.val))&&a.val(o))}),n.error||(n.error=r.html("span",{color:"ff0000",x:10,y:180},void 0,i)),e.animation?n.fadeIn("fast"):n.show(),n.fields.label.focus()},showLabelDeleteUI:function(e){var t=this.chart,a=t.get("config","animationObj").duration,o=t.components.paper,i=this.graphics.cacheLabelDeleteUI;i||(i=this.graphics.cacheLabelDeleteUI=this.createHtmlDialog(t,250,100,void 0,function(){i.hide()},function(){t.deleteLabel(e.config.index),i.hide()}),i.message=o.html("span",{x:10,y:10,width:230,height:80}).add(i.dialog),i.ok.hide(),i.remove.translate(175).show()),i.message.attr({text:'Would you really like to delete the label: "'+e.config.text+'"?'}),a?i.fadeIn("fast"):i.show()},connectorUpdateUIDefinition:[{key:"fromid",text:"Connect From",inputType:"select",x:10,y:15,labelWidth:80,inputWidth:100},{key:"toid",text:"Connect To",inputType:"select",x:10,y:40,labelWidth:80,inputWidth:100},{key:"arratstart",text:"Arrow At Start",x:200,y:15,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:"arratend",text:"Arrow At End",x:200,y:40,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:"label",text:"Label",x:10,y:75,labelWidth:40,inputWidth:120},{key:"id",text:"Node ID",x:190,y:75,inputWidth:55},{key:"color",text:"Color",x:10,y:100,labelWidth:40,inputWidth:35},{key:"alpha",text:"Alpha",
x:110,y:100,inputWidth:25,labelWidth:35},{key:"strength",text:"Strength",x:190,y:100,inputWidth:55,val:"0.1"},{key:"url",text:"Link",x:10,y:125,labelWidth:40,inputWidth:120},{key:"tooltext",text:"Tooltip",x:190,y:125,labelWidth:40,inputWidth:60},{key:"dashed",text:"Dashed",x:10,y:150,type:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:40},{key:"dashgap",text:"Dash Gap",x:85,y:150,labelWidth:60,inputWidth:25},{key:"dashlen",text:"Dash Length",x:190,y:150,labelWidth:70,inputWidth:30}],nodeUpdateUIDefinition:[{key:"id",text:"Id",inputWidth:60,x:10,y:15},{key:"dataset",text:"dataset",inputType:"select",inputWidth:110,innerHTML:void 0,x:170,y:15},{key:"x",text:"Value",x:10,y:40,inputWidth:21},{key:"y",text:",",x:88,y:40,inputWidth:21,labelWidth:5},{text:"(x, y)",x:125,y:40,labelWidth:33,noInput:!0},{key:"tooltip",text:"Tooltip",inputWidth:105,x:170,y:40},{key:"label",text:"Label",inputWidth:92,x:10,y:65},{key:"labelalign",text:"Align",labelWidth:70,inputWidth:110,inputType:"select",innerHTML:'<option></option><option value="top">Top</option><option value="middle">Middle</option><option value="bottom">Bottom</option>',x:145,y:63},{key:"color",text:"Color",x:10,y:90,inputWidth:60},{key:"colorOut",innerHTML:"&nbsp;",x:85,y:90,inputWidth:15,inputType:"span"},{key:"alpha",text:"Alpha",x:170,y:90,inputWidth:20},{key:"draggable",text:"Allow Drag",value:!0,inputWidth:20,x:250,y:90,labelWidth:58,inputPaddingTop:3,type:"checkbox"},{key:"shape",text:"Shape",inputType:"select",inputWidth:97,innerHTML:'<option value="rect">Rectangle</option><option value="circ">Circle</option><option value="poly">Polygon</option>',x:10,y:115},{key:"rectHeight",text:"Height",x:170,y:115,inputWidth:20},{key:"rectWidth",text:"Width",x:255,y:115,inputWidth:20},{key:"circPolyRadius",text:"Radius",x:170,y:115,inputWidth:20},{key:"polySides",text:"Sides",x:255,y:115,inputWidth:20},{key:"link",text:"Link",x:10,y:140,inputWidth:92},{key:"image",text:"Image",type:"checkbox",inputPaddingTop:4,inputWidth:20,x:10,y:170},{key:"imgUrl",text:"URL",inputWidth:105,x:170,y:170},{key:"imgWidth",text:"Width",inputWidth:20,x:10,y:195},{key:"imgHeight",text:"Height",inputWidth:20,x:82,y:195},{key:"imgAlign",text:"Align",inputType:"select",inputWidth:75,innerHTML:'<option value="top">Top</option><option value="middle">Middle</option><option value="bottom">Bottom</option>',x:170,y:195}],showNodeUpdateUI:function(){var e=function(){for(var e,t=this.graphics.cacheUpdateUI,a=t.fields.shape,o=["rectWidth","rectHeight","circPolyRadius","polySides"],i=o.length;i--;)e=o[i],/rect|poly|circ/gi.test(e)&&(t.labels[e].hide(),t.fields[e].hide()),new RegExp(f(a.val(),"rect"),"ig").test(e)&&(t.labels[e].show(),t.fields[e].show())},a=function(){var e=this.graphics.cacheUpdateUI.fields,t=Te(e.color.val());t&&e.colorOut.css({background:De(t)})},o=function(e,a){var o,i,r,n=this.graphics.cacheUpdateUI,s=e.config.height,l=n.fields.image.val(),h=a?300:0,d=["imgWidth","imgHeight","imgAlign","imgUrl"];for(o=l?250:215,n.ok.hide(),n.cancel.hide(),n.remove.hide(),n.error.hide(),i=d.length;!l&&i--;)r=d[i],n.labels[r].hide(),n.fields[r].hide();t.danimate.animate(n.dialog.element,{top:(s-o)/2,height:o},h,"linear",function(){for(i=d.length;i--&&l;)r=d[i],n.labels[r].show(),n.fields[r].show();n.ok.attr({y:o-23-5}).show(),n.cancel.attr({y:o-23-5}).show(),n.remove.attr({y:o-23-5}),n.error.attr({y:o-23-5+4}).show(),n.edit?n.remove.show():n.remove.hide()})};return function(t,i,r){var n,s=this,l=s.graphics,h=l.cacheUpdateUI,d=s.nodes,c=t.config,p=c.animation,m=t.components.paper,f={width:"80px",border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",padding:"2px",fontFamily:(c.style.inCanvasStyle||{}).fontFamily},v={textAlign:"right"},x=h&&h.fields,y=h&&h.labels,c=function(){var e,t,a,o=h&&h.fields,i=h.edit,r=s.chart,n=r.components;if(e=n.xAxis[0].config.axisRange.min,n=n.yAxis[0].config.axisRange.min,o){switch(o.shape.val()){case"circ":a="circle";break;case"poly":a="polygon";break;default:a="rectangle"}if(e={x:b(o.x.val(),e),y:b(o.y.val(),n),id:o.id.val(),datasetId:o.dataset.val(),name:o.label.val(),tooltext:o.tooltip.val(),color:o.color.val(),alpha:o.alpha.val(),labelalign:o.labelalign.val(),allowdrag:o.draggable.val(),shape:a,width:o.rectWidth.val(),height:o.rectHeight.val(),radius:o.circPolyRadius.val(),numsides:o.polySides.val(),imagenode:o.image.val(),imagewidth:o.imgWidth.val(),imageheight:o.imgHeight.val(),imagealign:o.imgAlign.val(),imageurl:o.imgUrl.val(),link:o.link.val()},d[e.id]&&(t=!0),!t||void 0!==i)return o=e.datasetId,void((o!==u||i)&&(i?r.updateNode(e):r.addNode(e),h.hide(),h.visible=!1));h.error.attr({text:"ID already exist."}),o.label.focus()}h.enableFields()},w=function(){h.hide(),h.visible=!1,h.enableFields(),h.error.attr({text:g}),h.visible=!1},C=function(){t.deleteNode(h.fields.id.val()),h.hide(),h.visible=!1};h||(h=l.cacheUpdateUI=this.createHtmlDialog(t,350,215,c,w,C),n=h.dialog,y=h.labels={},x=h.fields={}),h.config=i,h.edit=r,h.error||(h.error=m.html("span",{color:"ff0000",x:30,y:228},void 0,n)),h.enableFields||(h.enableFields=function(){for(var e in i)i[e]&&i[e].disabled&&x[e]&&x[e].element.removeAttribute("disabled")}),h.clearFields||(h.clearFields=function(){var e,t=h.fields;for(e in t)t[e].element.disabled||(t[e].element.value=u)}),O(this.nodeUpdateUIDefinition,function(r){var l,d,c,p=r.key,w={},C=i[p]||{};!y[p]&&(y[p]=m.html("label",{x:r.x,y:r.y,width:r.labelWidth||45,text:r.text},v,n)),r.noInput||(l=x[p],l||(f.border="checkbox"==r.type?g:"1px solid #cccccc",l=x[p]=m.html(r.inputType||"input",{x:r.labelWidth&&r.labelWidth+5||50,y:-2+(r.inputPaddingTop||0),width:r.inputWidth||50,name:p||u},f),"select"!==r.inputType&&l.attr({type:r.type||"text"}).on("keyup",h.handleKeyPress),l.add(y[p])),W(d=b(C.innerHTML,r.innerHTML))&&(w.innerHTML=d),C.disabled?w.disabled="disabled":l.element&&(l.element.disabled=!1),l.attr(w),W(c=b(C.value,r.value))&&l.val(c),"shape"==p&&l.on("change",function(){e.call(s,t)}),"image"==p&&l.on("click",function(){o.call(s,t,!0)}),"color"==p&&l.on("keyup",function(){a.call(s,t)}))}),a.call(this,t),o.call(this,t),e.call(this,t),p?h.fadeIn("fast"):h.show(),h.visible=!0,h.fields[r?"label":"id"].focus()}}(),getDataLimits:function(){var e,t,a=this.datasets,o=1/0,i=-(1/0),r=-(1/0),n=1/0;for(e=0;e<a.length;e++)t=a[e].dataset.config,i=Q(i,t.yMax),o=X(o,t.yMin),r=Q(r,t.xMax),n=X(n,t.xMin);return{max:i,min:o,xMax:r,xMin:n}},removeNodeDataset:function(e){this.datasets.splice(e)},removeConnectorSet:function(e){this.connectorSet.splice(e)},removeLabelSet:function(e){this.labelSet.splice(e)},_clearConnectors:function(){var e,t,a,o,i,r=this.nodes;for(e in r)if(a=r[e]){for(t=a.config.startConnectors||[],a=a.config.endConnectors||[],i=0;i<t.length;i++)o={graphics:t[i].graphics||{}},M.call(o);for(i=0;i<a.length;i++)o={graphics:a[i].graphics||{}},M.call(o)}this.nodes={}}}]),FusionCharts.register("component",["dataset","Dragnode",{type:"dragnode",configure:function(){var e,t,a,o,i,r,n=this.index,s=this.chart,l=this.JSONData,h=s.jsonData.chart,d=(l.data||[]).length,c=this.config,s=s.components.colorManager;for(c.showValues=x(l.showvalues,h.showvalues,1),r=c.useRoundEdges=x(h.useroundedges),c.zIndex=1,c.name=v(l.seriesname),c.viewMode=x(h.viewmode,0),c.id=f(l.id,this.index),0!==x(l.includeinlegend)&&void 0!==c.name||(c.showInLegend=!1),c.includeInLegend=x(l.includeinlegend,1),c.showTooltip=x(h.showtooltip,1),c.seriesNameInTooltip=x(h.seriesnameintooltip,1),c.tooltipSepChar=f(h.tooltipsepchar," - "),e=c.plotFillAlpha=f(h.plotfillalpha,"100"),t=c.showPlotBorder=x(h.showplotborder,1),a=c.plotBorderColor=se(f(h.plotbordercolor,"666666")),o=c.plotBorderThickness=x(h.plotborderthickness,r?2:1),i=c.plotBorderAlpha=f(h.plotborderalpha,h.plotfillalpha,r?"35":"95"),c.use3DLighting=Boolean(x(h.use3dlighting,h.is3d,r?1:0)),c.color=se(f(l.color,s.getPlotColor(n))),c.alpha=f(l.plotfillalpha,l.nodeFillAlpha,l.alpha,e),c.datasetShowPlotBorder=Boolean(x(l.showplotborder,t)),c.datasetPlotBorderColor=se(f(l.plotbordercolor,l.nodebordercolor,a)),c.datasetPlotBorderThickness=x(l.plotborderthickness,l.nodeborderthickness,o),c.datasetPlotBorderAlpha=c.datasetShowPlotBorder?f(l.plotborderalpha,l.nodeborderalpha,l.alpha,i):"0",c.seriesname=y(l.seriesname),c.datasetAllowDrag=Boolean(x(l.allowdrag,1)),c.colorObj={fillColor:ge(c.color,c.alpha),lineColor:{FCcolor:{color:c.datasetPlotBorderColor,alpha:c.datasetPlotBorderAlpha}}},c.lineWidth=void 0,c.symbol="poly_4",n=this.components.data=this.components.data||(this.components.data=[]),h=n.length,h>d&&n.splice(d,h-d),this.visible=1===x(l.visible,!Number(l.initiallyhidden),1),c.yMin=c.yMax=c.xMax=c.xMin=0,this._refreshData=!0,l=0;d>l;l+=1)this._setConfigure(l);this._refreshData=!1,this._addLegend()},_setConfigure:function(e,t){var a,o,i=this.JSONData,r=i.data,n=t?t:r[e],s=this.components.data,r=this.config,s=s[e]=s[e]||(s[e]={}),l=s.config=s.config||(s.config={}),h=r.id,d=r.yMin||1/0,c=r.yMax||-(1/0),p=r.xMax||-(1/0),u=r.xMin||1/0,m=r.use3DLighting,b=r.datasetPlotBorderThickness,C=r.datasetPlotBorderColor,k=r.datasetPlotBorderAlpha,A=this.chart.jsonData.chart,L=r.color,S=r.alpha,D=r.datasetAllowDrag,T=this.chart.components.numberFormatter;if(!s.graphics&&(s.graphics={}),l._options=w({},n),n||t){if(a=l.y=T.getCleanValue(f(n.y)),o=l.x=T.getCleanValue(f(n.x)),l.index=e,l.dragStart||(l.dragStart={}),c=Q(c,l.y),d=X(d,l.y),p=Q(p,l.x),u=X(u,l.x),null===a)l.value=null;else{switch(o=T.xAxis(o),l.formatedVal=null===a?a:T.dataLabels(a),l.setTooltext=v(y(f(n.tooltext,i.plottooltext,A.plottooltext))),l.pointLabel=f(n.label,n.name),i=y(l.pointLabel),l.label=i,l.name=i,l.displayValue=i,l.xValue=o,l.toolText=r.showTooltip?this._configureTooltext(l,r,A):!1,l.link=n.link,l.id=f(n.id,h+"_"+e),l.allowDrag=Boolean(x(n.allowdrag,D)),i=l.shape=v(f(n.shape),"rectangle").toLowerCase(),l.height=v(f(n.height),10),l.width=v(f(n.width),10),l.radius=v(f(n.radius),10),l.numSides=v(f(n.numsides),4),l.color=se(f(n.color,L)),l.borderColor=se(f(n.bordercolor,C)),l.alpha=f(n.alpha,S),l.imageURL=v(n.imageurl),l.imageNode=Boolean(x(n.imagenode)),l.imageWidth=n.imagewidth,l.imageHeight=n.imageheight,l.imageAlign=v(n.imagealign,g).toLowerCase(),l.labelAlign=f(n.labelalign,l.imageNode&&W(l.imageURL)?ue:"middle"),l.shape){case"circle":n=0;break;case"polygon":n=2,i=ye(l.numSides);break;default:n=1}l.symbol=i,m?(l.fillColor=this.getPointColor(l.color,l.alpha,n),l.cloneFillColor=this.getPointColor(l.color,50,n)):(l.fillColor={color:l.color,alpha:l.alpha},l.cloneFillColor=ge(l.color,50)),l.rollOverProperties=this.pointHoverOptions(s,A,{shapeType:n,use3D:m,height:l.height,width:l.width,radius:l.radius,color:l.color,alpha:l.alpha,borderColor:l.borderColor,borderAlpha:k,borderThickness:b})}!l.update&&t&&(l.update=t.update),!l.add&&t&&(l.add=t.add),!0===this._refreshData&&delete s.removed}s.dataset=this,r.xMax=p,r.xMin=u,r.yMin=d,r.yMax=c},_configureTooltext:function(e,t,a){var o=e.setTooltext,i=e.formatedVal,r=t.seriesname,n=e.label,s=e.xValue,l=e.pointLabel,h=t.tooltipSepChar;return void 0!==o?e=m(o,[3,4,5,6,8,9,10,11],{yaxisName:y(a.yaxisname),xaxisName:y(a.xaxisname),yDataValue:i,xDataValue:s,label:n},e,a,t):void 0!==l?e=n:null===i?e=!1:(t.seriesNameInToolTip&&(r=b(t.seriesname)),e=r?r+h:g,e+=s?s+h:g,e+=i),e},updatePointConfig:function(e,t){var a=this.chart,o=this.config,i=(this.components.data[t]||{}).config,r=a.components.numberFormatter,a=a.jsonData.chart,n=o.yMin||1/0,s=o.yMax||-(1/0),l=o.xMax||-(1/0),h=o.xMin||1/0;void 0!==i&&(i.y=r.getCleanValue(f(e.y)),i.x=r.getCleanValue(f(e.x)),i._options.x=i.x,i._options.y=i.y,Q(s,i.y),X(n,i.y),Q(l,i.x),X(h,i.x),n=r.xAxis(i.x),i.formatedVal=null===i.y?i.y:r.dataLabels(i.y),i.xValue=n,i.toolText=o.showTooltip?this._configureTooltext(i,o,a):!1,i.update=e.update)},pointHoverOptions:function(e,t,a){var o=x(e.showhovereffect,this.showhovereffect,t.plothovereffect,t.showhovereffect),i={},r=!!f(e.hovercolor,this.hovercolor,t.plotfillhovercolor,e.hoveralpha,this.hoveralpha,t.plotfillhoveralpha,e.borderhovercolor,this.borderhovercolor,t.plotborderhovercolor,e.borderhoveralpha,this.borderhoveralpha,t.plotborderhoveralpha,e.borderhoverthickness,this.borderhoverthickness,t.plotborderhoverthickness,e.hoverheight,this.hoverheight,t.plothoverheight,e.hoverwidth,this.hoverwidth,t.plothoverwidth,e.hoverradius,this.hoverradius,t.plothoverradius,o),n=!1;return(void 0===o&&r||o)&&(n=!0,o=f(e.hovercolor,this.hovercolor,t.plotfillhovercolor,pe(a.color,70)),r=f(e.hoveralpha,this.hoveralpha,t.plotfillhoveralpha,a.alpha),i={stroke:ge(f(e.borderhovercolor,this.borderhovercolor,t.plotborderhovercolor,a.borderColor),x(e.borderhoveralpha,this.borderhoveralpha,t.plotborderhoveralpha,r,a.borderAlpha)),"stroke-width":x(e.borderhoverthickness,this.borderhoverthickness,t.plotborderhoverthickness,a.borderThickness),height:x(e.hoverheight,this.hoverheight,t.plothoverheight,a.height),width:x(e.hoverwidth,this.hoverwidth,t.plothoverwidth,a.width),r:x(e.hoverradius,this.hoverradius,t.plothoverradius,a.radius)},e=a.use3D?this.getPointColor(se(f(e.hovercolor,this.hovercolor,t.plotfillhovercolor,pe(a.color,70))),f(e.hoveralpha,this.hoveralpha,t.plotfillhoveralpha,a.alpha),a.shapeType):ge(o,r),i.fill=k(e)),{enabled:n,rollOverAttrs:i}},getJSONData:function(){var e,t,a=this.components.data,o=a.length,i=[];for(t=0;o>t;t++)e=a[t],!e.removed&&e.config._options&&(delete e.config._options.update,delete e.config._options.add,i.push(e.config._options));return i},getPointColor:function(e,t,a){var o;return e=se(e),t=de(t),o=pe(e,80),e=ce(e,65),t={FCcolor:{gradientUnits:"objectBoundingBox",color:o+","+e,alpha:t+","+t,ratio:Y}},a?t.FCcolor.angle=1===a?0:180:(t.FCcolor.cx=.4,t.FCcolor.cy=.4,t.FCcolor.r="50%",t.FCcolor.radialGradient=!0),t},init:function(e){this.yAxis=this.chart.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.plotType="dragnode",this.configure()},_addLegend:function(){var e=this.config,t=this.chart.components.legend,e={enabled:e.includeInLegend,type:this.type,fillColor:k({color:e.color,alpha:e.alpha}),strokeColor:k({color:e.plotBorderColor,alpha:"100"}),anchorSide:4,strokeWidth:e.anchorBorderThickness,label:b(this.JSONData.seriesname)};this.legendItemId=t.addItems(this,this.legendInteractivity,e)},draw:function(){var e,t,a=this.graphics,o=this.chart,i=o.linkedItems.smartLabel,r=this.components.data,n=this.components.removeDataArr||[],s=n.length,l=o.components.paper,h=o.config.dataLabelStyle||{color:"#000000"};e=o.graphics,t=e.datasetGroup;var d=e.trackerGroup;for(e=a.group=a.group||l.group(t),t=a.dragLabelGroup=a.dragLabelGroup||l.group("dragLabelGroup",t),a.trackerContainer=a.trackerContainer||l.group("tracker",d),i.useEllipsesOnOverflow(o.config.useEllipsesWhenOverflow),i.setStyle(h),o=0,i=r.length;i>o;o+=1)l=r[o].removed,!l&&this._drawNode(o);for(this.drawn=!0,this.visible&&(e.show(),t.show(),a.trackerContainer.show()),o=0;s>o;o++)this._removeDataVisuals(n.shift())},_drawNode:function(e){var t,a,o,i,r,n,s,l,h,d,c=this.chart,p=c.components,m=this.groupManager,v=m.nodes,b=c.config,y=p.paper,w=this.xAxis=p.xAxis[0],C=this.yAxis=p.yAxis[0],p=this.components.data[e],A=p.config,L=this.config,S=c.get("config","animationObj")||{},D=S.duration,T=S.dummyObj,S=S.animObj,P=c.linkedItems.smartLabel,B=b.dataLabelStyle||{color:"#000000"},V={fontFamily:B.fontFamily,fontSize:B.fontSize,lineHeight:B.lineHeight,fontWeight:B.fontWeight,fontStyle:B.fontStyle},I=p.graphics||(p.graphics={}),_=A.symbol,E=L.colorObj.lineColor,O=L.datasetPlotBorderThickness;i=this.graphics;var N=!m.animationDone,F=function(){c._animCallBack()};h=c.graphics.datasetGroup;var R,M,G,j,H,z=i.group,Y=p.config.rollOverProperties,U=this.components.pool||{};t=I.graphic;var J,q=I.cloneGraphic,K=I.cloneText,X=I.cloneImage,Q=I.image,Z=I.label;if(i.cloneGraphicGroup=i.cloneGraphicGroup||y.group("clone",h),A._yPos=C=C.getAxisPosition(A.y),A._xPos=w=w.getAxisPosition(A.x),void 0!==C&&!isNaN(C)){if(A.shapeArg={},A.startConnectors=[],A.endConnectors=[],n=A.shapeArg,a=x(A.height),t=x(A.width),o=x(A.radius),_="rectangle"===_,i=A.id,r=A.imageNode,s=A.imageURL,l=A.imageAlign,h=A.labelAlign,d=_?t:1.4*o,R=x(A.imageWidth,d),o=_?a:1.4*o,M=x(A.imageHeight,o),j=k(A.fillColor),G={fill:j,"stroke-width":O,stroke:k(E)},_=n.symbol=f(A.symbol,L.symbol,g),_=_.split("_"),H=[_[1],w,C,A.radius,A.startAngle,0],"poly"===_[0]||"circle"===_[0]?(A.shapeType=_[0],J="polypath",L="path",H={polypath:H},n.x=w,n.y=C,n.radius=A.radius,n.sides=_[1]):(A.shapeType=Se,L=J="rect",n.x=w-t/2,n.y=C-a/2,n.r=0,n.width=t,n.height=a,H={x:n.x,y:n.y,width:t,height:a,r:0},G.width=t,G.height=a,G.x=w-t/2,G.y=C-a/2,Y&&Y.enabled&&(Y=Y.rollOverAttrs,Y.x=w-Y.width/2,Y.y=C-Y.height/2,delete Y.r)),Y=(t=I.element)&&t.type,-1===J.indexOf(Y)&&t&&(t.remove(),t=I.element=null,Z&&Z.remove(),Q&&Q.remove(),delete I.label,delete I.image,Z=Q=null),t||(U.element&&U.element[L]&&U.element[L].length?(t=I.element=U.element[L].shift(),t.toFront()):(t=I.element=y[J](z),t.attr(H))),t.show().animateWith(T,S,H,D,N&&F),t.attr({fill:j,"stroke-width":O,stroke:k(E)}),m.animationDone=!0,q&&(q.transform(u),q.attr(H)),r&&s){switch(M>o&&(M=o),R>d&&(R=d),l){case"middle":m=C-M/2;break;case"bottom":m=o>M?C+o/2-M:C-M/2;break;default:m=o>M?C-.5*o:C-M/2}A.imageX=w-R/2,A.imageY=m,A.imageWidth=R,A.imageHeight=M,L="image",Q||(U.image&&U.image[L]&&U.image[L].length?(Q=I.image=U.image[L].shift(),Q.toFront()):Q=I.image=y.image(z)),Q.show().attr({src:s,x:A.imageX,y:m,width:R,height:M}),X&&(X.transform(u),X.attr({src:s,x:A.imageX,y:m,width:R,height:M}))}if(A.pointAttr=G,this._drawTracker(p,e),e=A.displayValue,W(e)||e!==g){switch(L="text",P.useEllipsesOnOverflow(b.useEllipsesWhenOverflow),b=P.getSmartText(e,d,o),e=.5*o-.5*b.height,h){case"top":e=-e;break;case"bottom":break;default:e=0}p._yAdjustment=e,e=C+e,Z||(U.label&&U.label[L]&&U.label[L].length?(Z=I.label=U.label[L].shift(),Z.toFront()):(Z=I.label=y.text(z),Z.attr({x:w,y:e}))),Z.show().animateWith(T,S,{x:w,y:e},D,"normal"),Z.attr({text:b.text,title:b.tooltext||u,fill:B.color,"text-bound":[B.backgroundColor,B.borderColor,B.borderThickness,B.borderPadding,B.borderRadius,B.borderDash]}).css(V),K&&(K.transform(u),K.attr({x:w,y:e,text:b.text,title:b.tooltext||u,fill:B.color,"text-bound":[B.backgroundColor,B.borderColor,B.borderThickness,B.borderPadding,B.borderRadius,B.borderDash]}))}v[i]=p}},_removeDataVisuals:function(e){var t,a,o,i,r=this.components.pool||(this.components.pool={});if(e)for(a in e=e.graphics)t=r[a]||(r[a]={}),o=(i=e[a])&&i.type,t=t[o]||(t[o]=[]),i.hide&&"function"==typeof i.hide&&(i.attr({"text-bound":[]}),i.hide(),i.transform&&i.transform(u)),t.push(e[a])},show:function(){var e=this.graphics,t=this.graphics.trackerContainer,a=e.dragLabelGroup;e.group.show(),a.show(),t.show(),this.visible=!0},hide:function(){var e=this.graphics,t=this.graphics.trackerContainer,a=e.dragLabelGroup;e.group.hide(),t.hide(),a.hide(),this.visible=!1},_drawTracker:function(e,t){var a=this,o=a.chart,i=e.config,r=i.shapeArg,n=r.width,s=r.height,l=r.x,h=r.y,d=i.pointAttr,c=i.shapeType,p=r.sides,g=r.radius,r=e.graphics.trackerElement,m=e.graphics.cloneGraphic,v=a.graphics.trackerContainer,x=i.rollOverProperties,b={},y=o.components.paper,w=e.graphics.cloneImage,C=e.graphics.cloneText,k=function(e,t){return function(a){var i=this.data("hoverAttr");t&&e.graphics.element.attr(i),Ae.call(this,o,a,"DataPlotRollOver")}},A=function(e,t){return function(a){var i=this.data("unHoverAttr");t&&e.graphics.element.attr(i),Ae.call(this,o,a,"DataPlotRollOut")}},L=r&&r.data("type"),S=i.toolText,D=i.link?"pointer":i.allowDrag?"move":u;b.fill=G,b.stroke=G,b.cursor=D,b.ishot=!0,L!=={circle:"path",rect:"rect",poly:"path"}[c]&&r&&(r.remove(),r=e.graphics.trackerElement=null),r?(c!==Se?r.attr({polypath:[p||2,l,h,g,i.startAngle,0]}).attr(b):r.attr({x:l,y:h,width:n,height:s}).attr(b),r.tooltip(S)):(c!==Se?(r=e.graphics.trackerElement=y.polypath(p||2,l,h,g,i.startAngle,0,v),r.data("type","path")):(r=e.graphics.trackerElement=y.rect(l,h,n,s,0,v),r.data("type","rect")),m&&(m.remove(),delete e.graphics.cloneGraphic),w&&(w.remove(),delete e.graphics.cloneImage),C&&(C.remove(),delete e.graphics.cloneText),r.attr(b).tooltip(S),r.hover(k(e,x&&x.enabled),A(e,x&&x.enabled)),r.data("drag-options",{dataObj:e,dataset:a,endConnectors:i.endConnectors,startConnectors:i.startConnectors,boundaryTop:o.config.canvasTop,boundaryBottom:o.config.canvasTop+o.canvasHeight,boundaryLeft:o.config.canvasLeft,boundaryRight:o.config.canvasLeft+o.config.canvasWidth,datasetIndex:a.index,pointIndex:e.config.index,cursor:D,chart:o,link:e.link}),r.drag(function(e,t,i,r){a._dragMove.call(this,e,t,i,r,o)},function(e){a._dragStart.call(this,e,o)},function(e){a._dragUp.call(this,e)})),i={index:t,link:i.link,y:i.y,x:i.x,shape:f(c,"rect"),width:n,height:s,radius:g,sides:i.numSides,label:i.displayValue,toolText:i.toolText,id:i.id,datasetIndex:a.index,datasetName:a.JSONData.seriesname,sourceType:"dataplot"},r.data("eventArgs",i),r.data("hoverAttr",x&&x.rollOverAttrs),r.data("unHoverAttr",d)},_dragStart:function(e,t){var a=this,i=a.data("drag-options"),r=a.getBBox(),n=i.dataObj,s=n.config,l=i.dataset,h=l.groupManager,d=h.graphics,c=d.waitElement,p=i.dataset.config,i=p.viewMode;re&&R(e);var u=t.components.paper,m=l.graphics.trackerContainer,f=s.dragStart||(s.dragStart={}),v=n.graphics.cloneGraphic,x=l.graphics.cloneGraphicGroup,y=n.graphics.cloneText,w=n.graphics.image,C=n.graphics.cloneImage,A=n.graphics.label,L={circle:"circ",rectangle:"rect",polygon:"poly"};o&&(a._.dirty=1),s.symbol.split("_"),s.allowDrag&&(!v&&n.graphics.element&&(v=n.graphics.cloneGraphic=n.graphics.element.clone(),x.appendChild(v)),A&&!y&&(y=n.graphics.cloneText=n.graphics.label.clone(),y.followers[0]&&y.followers[0].el&&x.appendChild(y.followers[0].el),x.appendChild(y)),w&&!C&&(C=n.graphics.cloneImage=n.graphics.image.clone(),x.appendChild(C)),x.attr({opacity:.3}),v.show()),f.xPos=s._xPos,f.yPos=s._yPos,f.x=s.x,f.y=s.y,f.bBox=r,f.origX=f.lastDx||(f.lastDx=0),f.origY=f.lastDy||(f.lastDy=0),a.data("fire_click_event",1),a.data("mousedown",1),clearTimeout(a._longpressactive),a.data("move",!0),i||(c||(c=d.waitElement=u.ringpath(s._xPos,s._yPos,8,11,0,0,m).attr({fill:k({alpha:"100,100",angle:120,color:"CCCCCC,FFFFFF",ratio:"30,50"}),"stroke-width":0})),c.attr({ringpath:[s._xPos,s._yPos,8,11,0,0]}).show().animate({ringpath:[s._xPos,s._yPos,8,11,0,6.28]},1e3),a._longpressactive=setTimeout(function(){var e=p.name!==g&&void 0!==p.name?p.name+we+" ":g,o=p.id;d.waitElement&&d.waitElement.hide(),a.data("fire_click_event",0),h.showNodeUpdateUI(t,{x:{value:s.x},y:{value:s.y},draggable:{value:b(s.allowdrag,1)},color:{value:s.color},alpha:{value:s.alpha},label:{value:b(s.label,s.name)},tooltip:{value:s.toolText},shape:{value:L[s.shape]},rectWidth:{value:s.width},rectHeight:{value:s.height},circPolyRadius:{value:s.radius},polySides:{value:s.numsides},image:{value:s.imageNode},imgWidth:{value:s.imageWidth},imgHeight:{value:s.imageHeight},imgAlign:{value:s.imageAlign},imgUrl:{value:s.imageURL},id:{value:s.id,disabled:!0},link:{value:s.link},dataset:{innerHTML:'<option value="'+o+'">'+e+o+"</option>",disabled:!0},datasetIndex:l.index},!0)},1e3)),v&&v.show(),y&&y.show(),C&&C.show(),x&&x.show()},_dragMove:function(e,t,a,o,i){var r=this.data("drag-options"),n=r.dataObj;a=n.graphics.cloneGraphic,o=n.graphics.cloneImage;var s=n.graphics.cloneText,n=n.config,l=n.dragStart,h=l.bBox.x+e,d=l.bBox.x2+e,c=l.bBox.y+t,p=l.bBox.y2+t,g=r.dataset.groupManager.graphics,u=i.config.canvasLeft,m=i.config.canvasRight,f=i.config.canvasTop;i=i.config.canvasBottom,u>h&&(e+=u-h),d>m&&(e-=d-m),f>c&&(t+=f-c),p>i&&(t-=p-i),(e||t)&&(g.waitElement&&g.waitElement.hide(),this.data("fire_click_event",0),Pe.call(this)),n.allowDrag&&(l.draged=!0,l.lastDx=e,l.lastDy=t,i=r._transformObj={transform:"t"+(l.origX+e)+","+(l.origY+t)},a&&a.attr(i),o&&o.attr(i),s&&s.attr({x:n._xPos+e,y:n._yPos+t}))},removeData:function(e,t){var a=this.components,o=this.groupManager,i=a.data,r=a.removeDataArr||(a.removeDataArr=[]);e=e||0,0>e&&(e=0),a.removeDataArr=r.concat(i.splice(e,t||1)),o._clearConnectors()},_dragUp:function(e){var a=this.data("drag-options"),o=a.dataset,i=o.chart,r=o.components.data,n=a.dataObj,a=a.dataset.groupManager,s=o.graphics.cloneGraphicGroup,l=this.data("fire_click_event"),h=n.config,d=i.config.canvasTop,c=i.config.canvasLeft,p=n.config.dragStart||{},g=o.yAxis,u=n.graphics.cloneText,m=o.groupManager.graphics,f=i.components.xAxis[0],v={};if(m.waitElement&&m.waitElement.hide(),Pe.call(this),this.data("mousedown",0),l&&Ae.call(this,i,e),p.draged){for(p.origX+=p.lastDx,p.origY+=p.lastDy,n.config._xPos=p.xPos+p.lastDx,n.config._yPos=p.yPos+p.lastDy,v.x=f.getValue(n.config._xPos-c),v.y=g.getValue(n.config._yPos-d),v.update=!0,l=0,c=r.length;c>l&&(d=r[l],n.config.id!==d.config.id);l++);o.updatePointConfig(v,l),o=this.data("eventArgs"),o.x=v.x,o.y=v.y,e=ke(i.linkedItems.container,e),e.sourceEvent="dataplotdragend",u.attr({"text-bound":[]}),t.raiseEvent("chartupdated",w(e,o),i.chartInstance),a.draw(),p.draged=!1}s&&s.hide(),delete h.dragStart},getDataLimits:function(){var e=this.config;return{max:e.yMax,min:e.yMin,xMax:e.xMax,xMin:e.xMin}}},"Area"]),FusionCharts.register("component",["dataset","Connector",{type:"connector",configure:function(){var e=this.chart.jsonData.chart,a=this.config,o=this.components.data||(this.components.data=[]),i=this.JSONData,r=i.connector,n=r&&r.length,s=t.parseUnsafeString;for(a.connectorsTooltext=v(s(f(i.connectortooltext,e.connectortooltext))),a.stdThickness=x(i.stdthickness,1),a.conColor=se(f(i.color,"FF5904")),a.conAlpha=f(i.alpha,"100"),a.conDashGap=x(i.dashgap,5),a.conDashLen=x(i.dashlen,5),a.conDashed=Boolean(x(i.dashed,0)),a.arrowAtStart=Boolean(x(i.arrowatstart,1)),a.arrowAtEnd=Boolean(x(i.arrowatend,1)),a.conStrength=x(i.strength,1),a.toolTipSepChar=f(e.tooltipsepchar," - "),a.showTooltip=x(e.showtooltip,1),a.viewMode=x(e.viewmode,1),e=o.length,e>n&&o.splice(n,e-n),a._refreshData=!0,o=0;n>o;o+=1)this._setConfigure(o,r[o]);a._refreshData=!0},_setConfigure:function(e,t){var a=this.components.data,a=a[e]||(a[e]=a[e]={}),o=this.config,i=this.chart,r=y(f(t.label,t.name)),n=f(t.alpha,o.conAlpha),s=i.linkedItems.smartLabel,l="$fromLabel"+o.toolTipSepChar+"$toLabel",n={FCcolor:{color:se(f(t.color,o.conColor)),alpha:n}},h=v(y(f(t.tooltext,o.connectorsTooltext)));s.useEllipsesOnOverflow(i.config.useEllipsesWhenOverflow),i=s.getOriSize(r),a.config=a.config||(a.config={}),!a.graphics&&(a.graphics={}),l=o.showTooltip?f(h,r?"$label":l):!1,r=a.config={_options:t,id:f(t.id,e).toString(),from:f(t.from,g),to:f(t.to,g),label:r,toolText:l,customToolText:h,color:n,index:e,dashStyle:Boolean(x(t.dashed,o.conDashed))?C(x(t.dashlen,o.conDashLen),x(t.dashgap,o.conDashGap),o.stdThickness):"none",dashed:t.dashed,dashlen:t.dashlen,dashgap:t.dashgap,arrowAtStart:Boolean(x(t.arrowatstart,o.arrowAtStart)),arrowAtEnd:Boolean(x(t.arrowatend,o.arrowAtEnd)),conStrength:x(t.strength,o.conStrength),link:t.link,stdThickness:o.stdThickness,labelWidth:i.widht,labelHeight:i.height},r.add=t.add,r.update=t.update,o._refreshData&&delete a.removed},init:function(e){this.yAxis=this.chart.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.configure()},draw:function(){var e,t,a,o,i,r=this,n=r.chart,s=r.groupManager,l=r.config,h=r.chart.components,d=s.nodes,c=r.components.data,p={},g=h.paper,v=n.graphics.datasetGroup;t=d[t];var b,y,w,C,A,L,S,D,T,P,B=d[a],h=h.numberFormatter,V=n.config.dataLabelStyle,I=function(){var e=this,t=e.data("config"),a=t||{};e._longpressactive=clearTimeout(e._longpressactive),e.data("fire_click_event",1),e._longpressactive=setTimeout(function(){e.data("fire_click_event",0),e.data("viewMode")||s.showConnectorUpdateUI(n,{fromid:{val:a.from,innerHTML:"<option>"+a.from+"</option>",disabled:!0},toid:{val:a.to,innerHTML:"<option>"+a.to+"</option>",disabled:!0},datasetIndex:r.index,index:t.index,arratstart:{val:Boolean(x(a.arrowatstart,1))},arratend:{val:Boolean(x(a.arrowatend,1))},dashed:{val:x(a.dashed)},dashgap:{val:a.dashgap},dashlen:{val:a.dashlen},label:{val:a.label},tooltext:{val:a.tooltext},id:{val:l.id,disabled:!0},strength:{val:a.conStrength},alpha:{val:a.alpha},color:{val:a.color.FCcolor.color}},!0)},1e3)},_=function(){this.data("fire_click_event",0),Pe.call(this)},E=function(e){Pe.call(this),Ae.call(this,n,e,"ConnectorClick")},O=function(e){Ae.call(this,n,e,"ConnectorRollover")},N=function(e){Ae.call(this,n,e,"ConnectorRollout")},F=c.length,R=r.components.removeDataArr||[],M=R.length,W=r.components.pool||{},G=n.get("config","animationObj"),j=G.duration,H=G.dummyObj,G=G.animObj;for(P||(P=r.graphics.connectorGroup=r.graphics.connectorGroup||g.group("connectorGroup").insertBefore(v)),l.showTooltip&&P.trackTooltip(!0),S=0;F>S;S++)e=c[S],e.removed||(D=e.config,v=e.graphics||(e.graphics={}),t=D.from,a=D.to,b=D.toolText,t=d[t],B=d[a],t&&B&&!0!==D.deleted&&(D.fromPointObj=t,D.toPointObj=B,b=t.config,T=B.config,D.fromX=y=b._xPos,D.fromY=w=b._yPos,D.toX=C=T._xPos,D.toY=A=T._yPos,D.strokeWidth=o=D.conStrength*D.stdThickness,i=D.color,D.textBgColor=a=i&&i.FCcolor&&i.FCcolor.color,L=p.label=D.label,p.arrowAtStart=D.arrowAtStart,p.arrowAtEnd=D.arrowAtEnd,p.link=D.link,p.id=D.id,p.fromNodeId=b.id,p.toNodeId=T.id,b=D.toolText=m(D.toolText,[3,83,84,85,86,87,88,89,90,91,92],{label:D.label,fromXValue:h.dataLabels(t.config.x),fromYValue:h.dataLabels(t.config.y),fromXDataValue:t.config.x,fromYDataValue:t.config.y,fromLabel:f(t.config.displayValue,t.config.id),toXValue:h.dataLabels(B.config.x),toYValue:h.dataLabels(B.config.y),toXDataValue:B.config.x,toYDataValue:B.config.y,toLabel:f(B.config.displayValue,B.config.id)}),t.config&&t.config.startConnectors&&t.config.startConnectors.push(e),B.config&&B.config.endConnectors&&B.config.endConnectors.push(e),t=this._getlinePath(e),e=v.graphic,v.graphic||(W.graphic&&W.graphic.path&&W.graphic.path.length?e=v.graphic=W.graphic.path.shift():(e=v.graphic=g.path(P).mousedown(I).mousemove(_).mouseup(E).hover(O,N),e.attr({path:t}))),e.show().animateWith(H,G,{path:t},j,"normal"),e.attr({"stroke-width":o,ishot:!0,"stroke-dasharray":D.dashStyle,cursor:D.link?"pointer":u,stroke:k(i)}).data("eventArgs",p).data("viewMode",l.viewMode).data("config",D).tooltip(b),t=v.text,L?(v.text||(W.text&&W.text.length?v.text=t=W.text.shift():(v.text=t=g.text(P).mousedown(I).mousemove(_).mouseup(E).hover(O,N),t.attr({x:(y+C)/2,y:(w+A)/2}))),t.show().css(V).animateWith(H,G,{x:(y+C)/2,y:(w+A)/2},j,"normal"),t.attr({text:L,fill:V.color,ishot:!0,direction:u,cursor:D.link?"pointer":u,"text-bound":[f(V.backgroundColor,a),f(V.borderColor,a),1,"2"]}).data("eventArgs",p).data("viewMode",l.viewMode).data("config",D).tooltip(b)):t&&t.hide().attr({"text-bound":[]})));for(r.drawn=!0,S=0;M>S;S++)r._removeDataVisuals(R.shift())},getJSONData:function(){var e,t,a=this.components.data,o=a.length,i=[];for(t=0;o>t;t++)e=a[t],e.removed||(e.config._options&&(delete e.config._options.update,delete e.config._options.add),i.push(e.config._options));return i},_updateFromPos:function(e,t){this.fromX=e,this.fromY=t,this.graphic&&this.graphic.animate({path:this.getlinePath()}),this.text&&this.text.animate({x:(this.fromX+this.toX)/2,y:(this.fromY+this.toY)/2})},_updateToPos:function(e,t){this.toX=e,this.toY=t,this.graphic&&this.graphic.animate({path:this.getlinePath()}),this.text&&this.text.animate({x:(this.fromX+this.toX)/2,y:(this.fromY+this.toY)/2})},_getlinePath:function(e){e=e.config;var t=e.fromPointObj,a=e.toPointObj,o=e.fromX,i=e.fromY,r=e.toX,n=e.toY,s=["M",o,i];return e.arrowAtStart&&(t=t.config,s=t.shapeType===Se?s.concat(this._drawArrow(o,i,r,n,t.shapeArg.width,t.shapeArg.height)):s.concat(this._drawArrow(o,i,r,n,t.shapeArg.radius))),e.arrowAtEnd&&(t=a.config,s=t.shapeType===Se?s.concat(this._drawArrow(r,n,o,i,t.shapeArg.width,t.shapeArg.height)):s.concat(this._drawArrow(r,n,o,i,t.shapeArg.radius))),s.push("L",r,n),s},_drawArrow:function(e,t,a,o,i,r){var n=U.atan((t-o)/(e-a)),s=[];return 0>n&&(n=2*U.PI+n),o>t?(a>=e&&n>U.PI||e>a&&n>U.PI)&&(n-=U.PI):(a>=e&&n<U.PI&&0!==n||e>a&&n<U.PI)&&(n+=U.PI),"undefined"==typeof r?(a=e+i*q(n),i=t+i*J(n)):(i=Z(i)/2,r=Z(r)/2,a=e+(i=a>e?i:-i),i=t+i*U.tan(n),Z(t-i)>Z(r)&&(i=t+(r=o>t?r:-r),a=e+r/U.tan(n))),s.push("L",a,i,a+10*q(n+.79),i+10*J(n+.79),"M",a+10*q(n-.79),i+10*J(n-.79),"L",a,i),s},removeData:function(e,t){var a=this.components,o=a.data;0>e&&(e=0),a.removeDataArr=o.splice(e,t)}},"Dragnode"]),FusionCharts.register("component",["dataset","DragableLabels",{configure:function(){var e,t=(this.JSONData||[]).length,a=this.components.data;for(this.config.viewMode=x(this.chart.jsonData.chart.viewmode,0),a||(a=this.components.data=[]),e=a.length,e>t&&a.splice(t,e-t),e=0;t>e;e++)this._setConfigure(e)},_setConfigure:function(e,t){var a,o,i=this.JSONData,i=t?t:i[e],r=this.components.data,n=this.chart.config.style.inCanvasStyle,s=n.fontSize;
a=r[e],!a&&(a=r[e]={}),!a.graphics&&(a.graphics={}),r=a.config=a.config||(a.config={}),a=y(f(i.text,i.label)),r._options=i,r.add=i.add,a&&(r.text=a,r.x=i.x||0,r.y=i.y||0,r.labelFontSize=o=x(i.fontsize,s),r.labelColor=a=f(i.color,n.color),r.alpha=s=x(i.alpha,100)/100,r.allowdrag=x(i.allowdrag,1),r.padding=x(i.padding,5),r.labelStyle=n={fontSize:o+"px",fontFamily:n.fontFamily,fill:a,color:a,opacity:s},r.labelBGColor=a=f(i.bgcolor&&i.bgcolor.replace(D,T)),r.labelBDColor=o=f(i.bordercolor&&i.bordercolor.replace(D,T)),r.link=i.link,r.allowDrag=x(i.allowdrag,1),a&&(n.backgroundOpacity=s),r.borderThickness=i.borderthickness,r.dashLen=i.dashlen,r.dashGap=i.dashgap,r.dashed=i.dashed,r.radius=i.radius,o&&(n.borderOpacity=s))},init:function(e){this.yAxis=this.chart.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.configure()},getJSONData:function(){var e,t,a=this.components.data,o=a.length,i=[];for(t=0;o>t;t++)e=a[t],e.removed||e.config._options&&i.push(e.config._options);return i},draw:function(){var e,t,a,o,i,r,n,s,l,h,d,c,p,g,m,f,v=this.components.data,b=this.chart,y=b.get("config","animationObj"),w=y.duration,k=y.dummyObj,y=y.animObj,A=b.components.paper,L=b.components.yAxis[0],S=b.components.xAxis[0],D=b.linkedItems.smartLabel,T=b.graphics.datalabelsGroup,P=b.graphics.trackerGroup,B=b.config.dataLabelStyle,V=v.length,I=this.components.removeDataArr||[],_=I.length,E=this.components.pool||{},T=this.graphics.dataLabelContainer=this.graphics.dataLabelContainer||A.group("datalabels",T);for(this.graphics.trackerContainer=this.graphics.trackerContainer||A.group("tracker",P),f=0;V>f;f++)h=v[f],h.removed||(l=h.config,!h.graphics&&(h.graphics={}),l.index=f,P=S.getPixel(l.x),o=L.getPixel(l.y),i=l.text,r=l.labelBGColor,n=l.labelBDColor,s=l.padding,d=l.allowDrag,c=l.labelFontSize,p=l.labelStyle,g=l.radius,a=l.dashed,e=l.dashLen,t=l.dashGap,m=l.borderThickness,e={text:i,"class":"fusioncharts-label",align:"center","text-bound":[r||u,n||u,x(m,1),s,x(g,0),x(a,0)?C(x(e,5),x(t,4),x(m,1)):"none"],"font-size":c,"font-weight":B.fontWeight,"font-style":B.fontStyle,"font-family":B.fontFamily,visibility:"visible"},r={backgroundColor:r,borderColor:n,borderPadding:s,fontSize:c+"px",fontStyle:B.fontStyle,fontWeight:B.fontWeight,borderRadius:0,borderDash:"none",fontFamily:B.fontFamily},le(r),D.useEllipsesOnOverflow(b.config.useEllipsesWhenOverflow),D.setStyle(r),r={link:l.link,text:i,x:P,y:o,allowdrag:d,sourceType:"labelnode"},d=h.graphics.element,d||(E.element&&E.element.length?d=h.graphics.element=E.element.shift():(d=h.graphics.element=A.text(T),d.attr({x:P,y:o}))),d.animateWith(k,y,{x:P,y:o},w,"normal"),d.css(p).attr(e),d.data("eventArgs",r),i=D.getOriSize(i),l.width=i.width,l.height=i.height,l.xPos=P,l.yPos=o,this.drawTracker(d,f));for(f=0;_>f;f++)this._removeDataVisuals(I.shift())},removeData:function(e,t){var a=this.components;a.removeDataArr=a.data.splice(e,t)},drawTracker:function(e,t){var a=this,o=a.chart,i=o.components.paper,r=a.groupManager,n=a.config,s=a.graphics.trackerContainer,l=a.components.data[t],h=l.config,d=h.padding||0,c=h.width,p=h.height,g=h.xPos-c/2,m=h.yPos-p/2,f=l.graphics.trackerElement,d={x:g-d,y:m-d,width:c+2*d,height:p+2*d,cursor:h.allowDrag?"move":u,fill:G,stroke:G,ishot:!0},c=function(e){var t=this;t.data("fire_click_event",1),clearTimeout(t._longpressactive),t._longpressactive=setTimeout(function(){t.data("fire_click_event",0),t.data("viewMode")||r.showLabelDeleteUI(e)},1e3)},p=function(){this.data("fire_click_event")&&(this.data("fire_click_event",0),r.clearLongPress.call(this))},v=function(e){var t=this.data("fire_click_event");r.clearLongPress.call(this),t&&Ae.call(this,o,e,"LabelClick")},x=function(e){Ae.call(this,o,e,"LabelRollover")},b=function(e){Ae.call(this,o,e,"LabelRollout")},h={link:h.link,text:h.text,x:g,y:m,allowdrag:h.allowDrag,sourceType:"labelnode"};f||(f=l.graphics.trackerElement=i.rect(s).mousedown(c).mousemove(p).mouseup(v).data("viewMode",n.viewMode).data("eventArgs",h).hover(x,b).drag(function(e,t,i,r,n){a._labelDragMove.call(this,e,t,i,r,o,n)},function(e){a._labelDragStart.call(this,e,o)},function(e){a._labelDragUp.call(this,e)})),f.attr(d),f.data("drag-options",{index:t,dataset:a})},_labelDragStart:function(){var e=this,t=e.getBBox(),a=e.data("drag-options"),o=a.dataset,i=o.groupManager,r=o.components.data[a.index],o=r.graphics.element,n=r.dragStart=r.dragStart||(r.dragStart={});a.ox=o.attr("x"),a.oy=o.attr("y"),a.bBox=t,n.xPos=r.config.xPos,n.yPos=r.config.yPos,n.bBox=t,e.data("fire_click_event",1),e.data("fire_dragend",0),clearTimeout(e._longpressactive),e._longpressactive=setTimeout(function(){e.data("fire_click_event",0),e.data("viewMode")||i.showLabelDeleteUI(r)},1e3)},_labelDragMove:function(e,t,a,o,i,r){o=i.config,a=o.canvasLeft;var n=o.canvasRight,s=o.canvasBottom;o=o.canvasTop;var l=this.data("drag-options"),h=l.dataset,d=h.groupManager,h=h.components.data[l.index],c=h.graphics.element,p=h.dragStart,g=p.bBox,u=p.bBox.x+e,m=p.bBox.x2+e,f=p.bBox.y+t,v=p.bBox.y2+t,x=i.components.yAxis[0],b=i.components.xAxis[0];a>u&&(e+=a-u),m>n&&(e-=m-n),o>f&&(t+=o-f),v>s&&(t-=v-s),p.draged=!0,this.attr({x:g.x+e,y:g.y+t}),n=l.ox+e,s=l.oy+t,c.attr({x:l.ox+e,y:l.oy+t}),h.config.x=b.getValue(n-a),h.config.y=x.getValue(s-o),this.data("fire_dragend")||(Ae.call(this,i,r,"LabelDragStart"),this.data("fire_dragend",1)),this.data("fire_click_event")&&(this.data("fire_click_event",0),d.clearLongPress.call(this))},_labelDragUp:function(e){var a=this.data("drag-options"),o=a.dataset,i=o.chart,r=o.groupManager,n=o.components.data[a.index].dragStart,a=this.data("eventArgs"),o=o.yAxis;a.x=i.components.xAxis[0].getValue(this.attr("x")),a.y=o.getValue(this.attr("y")),n.draged=!1,this.data("fire_dragend")&&(o=ke(i.linkedItems.container,e),o.sourceEvent="labeldragend",t.raiseEvent("chartupdated",w(o,a),i.chartInstance),Ae.call(this,i,e,"labeldragend")),r.clearLongPress.call(this)}},"Dragnode"]),be("dragarea",{friendlyName:"Dragable Area Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:"dragarea",decimals:2,anchorAlpha:"100",applicableDSList:{dragarea:!0}},be.dragbase),be("dragline",{friendlyName:"Dragable Line Chart",standaloneInit:!0,creditLabel:j,decimals:2,defaultDatasetType:"dragline",applicableDSList:{dragline:!0},defaultPlotShadow:1},be.dragbase),be("dragcolumn2d",{friendlyName:"Dragable Column Chart",standaloneInit:!0,creditLabel:j,decimals:2,defaultDatasetType:"DragColumn",applicableDSList:{dragcolumn:!0}},be.dragbase),FusionCharts.register("component",["dataset","DragColumn",{configure:function(){var e,t,a,o=this.chart.jsonData.chart;a=this.JSONData;var i,r,n=this.JSONData.data||[];for(this.__base__.configure.call(this),e=this.config,t=this.components.data,e.allowDrag=x(a.allowdrag,1),e.allowNegDrag=x(a.allownegativedrag,1),e.allowAxisChange=x(o.allowaxischange,1),e.snapToDivOnly=x(o.snaptodivonly,0),e.snapToDiv=e.snapToDivOnly?1:x(o.snaptodiv,1),e.doNotSnap=x(o.donotsnap,0),e.snapToDivRelaxation=x(o.snaptodivrelaxation,10),e.doNotSnap&&(e.snapToDiv=e.snapToDivOnly=0),i=t.length,o=0;i>o;o++)r=n[o]||{},a=t[o].config,a.allowDrag=x(r.allowdrag,e.allowDrag),a.allowNegDrag=x(r.allownegativedrag,e.allowNegDrag)},draw:function(){var e,t=this.components.data.length;for(this.__base__.draw.call(this),e=0;t>e;e++)this.drawTracker(e)},drawTracker:function(e){var t=this.chart,a=t.components.paper,o=this.components.data[e],i=o.graphics||{},r=o._width,n=o._xPos,s=i.element,l=o._yPos+(0>o.config.setValue&&o._height)||0,h=re?40:10,i=i&&i.dragTracker||null,d=this.components.pool||{},c=this.graphics.trackerContainer,p=o.config.setValue,g=o.config.allowDrag;s&&null!==p&&g&&(s.getBBox(),r=["M",n,l,"L",n+r,l,"Z"],h={path:r,stroke:G,"stroke-width":h,ishot:!0,cursor:L&&"ns-resize"||"n-resize"},i||(d.dragTracker&&d.dragTracker.length?i=o.graphics.dragTracker=d.dragTracker.shift():(i=o.graphics.dragTracker=a.path(c),i.drag(this.dragMove,this.dragStart,this.dragUp))),i.attr(h).data("drag-options",{items:s,yPos:l,chart:t,name:this.JSONData.seriesname,datasetIndex:this.index,pointIndex:e,dataObj:o}),o.graphics.dragTracker=i)},dragStart:function(){var e=this.data("drag-options"),t=e.chart,a=t.config,o=t.components.yAxis[0],t=o.config.axisRange.max,o=o.config.axisRange.min,i=this.getBBox();e.barH=e.items.getBBox().height,e.isAllPositive=t>0&&o>0,e.isAllPositiveZero=t>0&&o>=0,e.isAllNegative=0>t&&0>o,e.isAllNegativeZero=0>=t&&0>o,e.isPositiveNegative=t>0&&0>o,e.boundaryTop=a.canvasTop,e.boundaryBottom=a.canvasTop+a.canvasHeight,e.bBoxY=i.y,e.bBoxY2=i.y2||i.y+i.height,e.startValue=e.dataObj.config.setValue,e.origX=e.lastX||(e.lastX=0),e.origY=e.lastY||(e.lastY=0),e.draged=!1},dragMove:function(t,a){var o=this.data("drag-options"),i=o.items,r=o.dataObj,n=o.chart,s=r.config,l=n.config,h=n.components,d=h.canvas.config,c=h.yAxis[0],p=h.dataset[o.datasetIndex],h=h.numberFormatter,g=c.getPixel(c.getAxisBase()),u={},m=o.bBoxY2+a,v=o.bBoxY+a,x=l.canvasBottom,b=r.config.allowNegDrag?x:g,l=l.canvasTop,y=parseFloat(p.config.plotBorderThickness)||0,d=d.showCanvasBorder,w=o.isAllNegativeZero,C=o.isPositiveNegative,k=r._xPos,A=r._width,L=r.graphics.hotElement;v<o.boundaryTop&&(a=o.boundaryTop-o.bBoxY),m>b&&(a=b-o.bBoxY2),o.draged||(m={dataIndex:o.pointIndex+1,datasetIndex:o.datasetIndex,startValue:o.startValue,datasetName:o.name},e.raiseEvent("dataplotDragStart",m,n.chartInstance)),m=o.yPos+a,g>=m?(u.y=m,u.height=g-m):(u.y=g,u.height=m-g),d&&!C&&(w?u.y-=u.y-(l-y/2):u.height=x-u.y+y),this.attr({path:["M",k,m,"L",k+A,m]}),i.animate(u),L.data("draged",!0),o.shapeAttr=u,i=o.value=K(c.getValue(m-l)),s.setValue=i,c=c.getPixel(c.getAxisBase()),r._yPos=X(m,c),r._height=u.height,c=h.dataLabels(i),s.toolTipValue=c,s.displayValue=f(s.setDisplayValue,c),o.draged=!0,o.lastX=t,o.lastY=a,r.draged=!0,r.lastX=t,r.lastY=a,n=n.config.animationObj,r=n.duration,n.duration=0,p.drawLabel(o.pointIndex,o.pointIndex+1),n.duration=r},dragUp:function(){var a,o,i=this.data("drag-options"),r=i.chart,n=r.components.dataset[i.datasetIndex],s=n.config,l=!s.doNotSnap,h=i.dataObj,d=n.yAxis,c=r.config.canvasTop,p=h.config.setTooltext,g=s.snapToDivRelaxation,u=s.snapToDiv,m=h.graphics.hotElement,f=s.snapToDivOnly,s=h.config,v=s.setValue,s=s.toolTipValue;i.draged&&(o=a=i.yPos+i.lastY,l&&u&&(o=Z(d.getValue(a+g-c)-v),l=d.getClosestDiv(v,f?null:o),o=d.getPixel(l),h.config.setValue=l,o-a&&n.dragMove.call(this,0,o-i.yPos)),h={dataIndex:i.pointIndex+1,datasetIndex:i.datasetIndex+1,startValue:i.startValue,endValue:h.config.setValue,datasetName:i.name},d=[r.chartInstance.id,h.dataIndex,h.datasetIndex,h.datsetName,h.startValue,h.endValue],e.raiseEvent("dataplotDragEnd",h,r.chartInstance),t.raiseEvent("chartupdated",h,r.chartInstance,d),i.yPos=o,i.lastX+=i.origX,i.lastY+=i.origY,m.data("draged",!1),m&&m.attr(i.shapeAttr).tooltip(p+s),n.setMaxMin(),r._setDataLimits())},getJSONData:function(){var e,t,a,o,i,r=this.JSONData.data,n=this.components.data,s=[],l={};for(i=0,o=r.length;o>i;i++){t=r[i],e=n[i],l={};for(a in t)l[a]="value"===a?e.config.setValue:t[a];s.push(l)}return{data:s}}},"Column"]),FusionCharts.register("component",["datasetGroup","DragColumn",{getJSONData:function(){var e,t,a,o=this.chart,i=o.components.dataset,o=o.jsonData&&o.jsonData.dataset,r=[],n=i.length;for(a=0;n>a;a++)e=i[a],t=w({},o[a]),delete t.data,e=e.getJSONData(),r.push(w(t,e));return r}},d]),FusionCharts.register("component",["dataset","DragArea",{configure:function(){var e,t=this.chart.jsonData.chart;e=FusionCharts.get("component",["dataset","area"]);var a,o,i;o=this.JSONData;var r,n=o.data||[];for(e.prototype.configure.call(this),e=this.config,a=this.components.data,e.allowDrag=x(o.allowdrag,1),e.allowNegDrag=x(o.allownegativedrag,1),e.allowAxisChange=x(t.allowaxischange,1),e.snapToDivOnly=x(t.snaptodivonly,0),e.doNotSnap=x(t.donotsnap,0),e.snapToDiv=x(t.snaptodiv,1),e.snapToDivRelaxation=x(t.snaptodivrelaxation,10),e.doNotSnap&&(e.snapToDiv=e.snapToDivOnly=0),r=a.length,t=0;r>t;t++)i=n[t]||{},o=a[t].config,o.allowDrag=x(i.allowdrag,e.allowDrag),o.allowNegDrag=x(i.allownegativedrag,e.allowNegDrag)},draw:function(){var e,t,a=this.components.data,o=a.length;for(this.__base__.draw.call(this),t=0;o>t;t++)e=a[t],(e=e.config.anchorProps.imageUrl)||this.drawTracker(t)},drawTracker:function(e){var t=this.chart,a=this.components.data,o=a[e],i=(o.graphics||{}).hotElement||null,r=this.dragStart,n=this.dragUp,s=this.dragMove,l=o.config,h=o._xPos,d=o._yPos;i&&(!l.trackerListenerBind&&l.allowDrag&&(i.drag(s,r,n),l.trackerListenerBind=!0),l.allowDrag&&i.attr({cursor:L&&"ns-resize"||"n-resize",ishot:!0,cx:h,cy:d}).data("drag-options",{items:a,yPos:d,chart:t,datasetIndex:this.index,name:this.JSONData.seriesname,pointIndex:e,dataObj:o}))},dragStart:function(){var e=this.data("drag-options"),t=e.chart.config;e._origY=e._lastY||(e._lastY=0),e.boundaryTop=t.canvasTop,e.boundaryBottom=t.canvasTop+t.canvasHeight,e.startValue=e.dataObj.config.setValue,e.origY=this.attr("cy"),e.origX=this.attr("cx"),e.draged=!1},dragMove:function(t,a){var i,r,n=this.data("drag-options"),s=n.items,l=n.dataObj,h=n.chart,d=h.config.animationObj,c=h.components,p=c.dataset[n.datasetIndex],g=p.graphics.lineElement,u=c.yAxis[0],m=l._xPos,v=l.config,x=d.duration,c=c.numberFormatter,b=h.config.canvasTop,y=s[n.pointIndex].graphics,w=u.getPixel(u.getAxisBase()),C=l.config.allowNegDrag?n.boundaryBottom:w,w=y.image,k=p.graphics.anchorGroup,A=l.config.anchorProps,L=A.imageUrl,S=y.element,y=l.config.showValue;r=n.origY+a,n.draged||(i={dataIndex:n.pointIndex+1,datasetIndex:n.datasetIndex,startValue:n.startValue,datasetName:n.name},e.raiseEvent("dataplotDragStart",i,h.chartInstance)),r<n.boundaryTop&&(a=n.boundaryTop-n.origY),r>C&&(a=C-n.origY),r=n.origY+a,this.attr({cy:r}),o&&L?w=S:(C=S.data("setRolloverAttr"),(L=S.data("setRolloutAttr"))&&(L.polypath[2]=r),C&&(C.polypath[2]=r),S&&S.attr({polypath:[A.symbol[1]||2,m,r,A.radius,90,0]}),S.data("setRolloverAttr",C),S.data("setRolloutAttr",L)),l._yPos=r,w&&p.updateImage(l,h,k),h=v.setValue=u.getValue(r-b),h=c.dataLabels(h),l.config.toolTipValue=h,v.displayValue=f(v.setDisplayValue,h),d.duration=0,y&&p.drawLabel(n.pointIndex),d.duration=x,n.draged=!0,this.data("draged",!0),n.lastY=a,n=p.getLinePath(s,{}),p.config.lastPath=n,g&&g.attr({path:n.getPathArr()})},updateImage:function(e){var t=this.chart,a=e.graphics,a=a.image||a.element,i=e.config,r=i.anchorProps,n=i.hoverEffects,i=a&&a.data("imgRef"),s=function(e){var t,a=e.length,o=u;for(t=0;a>t;t+=1)o+=" "+e[t];return o},l=r.imageScale,h=t.components.paper,d=i.height*l*.01,c=i.width*l*.01,t=e._xPos;e=e._yPos;var p=n.imageHoverScale,g=i.width*p*.01,m=i.height*p*.01,f=r.radius=r.isAnchorRadius?r.radius:X(c,d)/2,v=r.imagePadding,x=f-v-.5*r.borderThickness,v=n.radius-v-.5*n.anchorBorderThickness,f=r.symbol[1],r=h.polypath(f||2,t,e,x>0?x:0,r.startAngle,0).attr({visibility:"hidden"}),x=s(r.attrs.path),l={x:t-i.width*l*.005,y:e-i.height*l*.005,width:c,height:d,alpha:100};o||(l["clip-path"]=x),r.remove(),r=h.polypath(f||2,t,e,v>0?v:0,n.startAngle,n.dip),n=s(r.attrs.path),r.remove(),i={x:t-i.width*p*.005,y:e-i.height*p*.005,width:g,height:m,alpha:100},o||(i["clip-path"]=n),a.attr(l),a.data("setRolloverAttr",i),a.data("setRolloutAttr",l)},dragUp:function(){var a,o=this.data("drag-options"),i=o.dataObj,r=o.chart,n=r.components.dataset[o.datasetIndex],s=n.config,l=s.showTooltip,h=i.config.setTooltext,d=!s.doNotSnap,c=i.config.displayValue,p=r.config.canvasTop,g=n.yAxis,m=s.snapToDivRelaxation,f=s.snapToDivOnly,v=s.snapToDiv,x=i.config.setValue;o.draged&&(s=a=o.yPos+o.lastY,d&&v&&(s=Z(g.getValue(a+m-p)-x),f=g.getClosestDiv(x,f?null:s),i.config.setValue=f,s=g.getPixel(f),s-a&&n.dragMove.call(this,0,s-o.yPos)),g={dataIndex:o.pointIndex+1,datasetIndex:o.datasetIndex+1,startValue:o.startValue,endValue:i.config.setValue,datasetName:o.name},f=[r.chartInstance.id,g.dataIndex,g.datasetIndex,g.datsetName,g.startValue,g.endValue],e.raiseEvent("dataplotDragEnd",g,r.chartInstance),t.raiseEvent("chartupdated",g,r.chartInstance,f),o.yPos=s,i._yPos=s,h+=c,i.graphics.hotElement.attr({y:o.yPos}).tooltip(l?h:u),o._lastY=o.lastY+o._origY,o.lastY+=o.origY,this.data("draged",!1),n.setMaxMin(),r._setDataLimits())},getJSONData:function(){var e,t,a,o,i,r=this.JSONData.data,n=this.components.data,s=[],l={};for(i=0,o=r.length;o>i;i++){e=r[i],t=n[i],l={};for(a in e)l[a]="value"===a?t.config.setValue:e[a];s.push(l)}return{data:s}}},"Area"]),FusionCharts.register("component",["datasetGroup","DragArea",{getJSONData:function(){var e,t,a,o=this.chart,i=o.components.dataset,o=o.jsonData&&o.jsonData.dataset,r=[],n=i.length;for(a=0;n>a;a++)e=i[a],t=w({},o[a]),delete t.data,e=e.getJSONData(),r.push(w(t,e));return r}},"area"]),FusionCharts.register("component",["dataset","DragLine",{configure:function(){var e,t,a,o,i=this.chart.jsonData.chart;a=this.JSONData;var r,n=a.data||[];for(this.__base__.configure.call(this),e=this.config,t=this.components.data,e.allowDrag=x(a.allowdrag,1),e.allowNegDrag=x(a.allownegativedrag,1),e.allowAxisChange=x(i.allowaxischange,1),e.snapToDivOnly=x(i.snaptodivonly,0),e.snapToDiv=x(i.snaptodiv,1),e.doNotSnap=x(i.donotsnap,0),e.snapToDivRelaxation=x(i.snaptodivrelaxation,10),e.doNotSnap&&(e.snapToDiv=e.snapToDivOnly=0),r=t.length,i=0;r>i;i++)o=n[i]||{},a=t[i].config,a.allowDrag=x(o.allowdrag,e.allowDrag),a.allowNegDrag=x(o.allownegativedrag,e.allowNegDrag)},draw:function(){var e,t=this.components.data,a=FusionCharts.get("component",["dataset",h]),o=t.length;for(a.prototype.draw.call(this),a=0;o>a;a++)e=t[a],(e=e.config.anchorProps.imageUrl)||this.drawTracker(a)},drawTracker:function(e){var t=this.chart,a=this.components.data,o=a[e],i=o.graphics.hotElement||null,r=this.dragStart,n=this.dragUp,s=this.dragMove,l=o.config,h=o._yPos;i&&(!l.trackerListenerBind&&l.allowDrag&&(i.drag(s,r,n),l.trackerListenerBind=!0),l.allowDrag&&i.attr({cursor:L&&"ns-resize"||"n-resize",ishot:!0}).data("drag-options",{items:a,yPos:h,chart:t,name:this.JSONData.seriesname,datasetIndex:this.index,pointIndex:e,dataObj:o}))},dragStart:function(){var e=this.data("drag-options"),t=e.chart.config;e._origY=e._lastY||(e._lastY=0),e.boundaryTop=t.canvasTop,e.boundaryBottom=t.canvasTop+t.canvasHeight,e.startValue=e.dataObj.config.setValue,e.origY=this.attr("cy"),e.origX=this.attr("cx"),e.latestY=e.origY,e.draged=!1},dragMove:function(t,a){var i,r,n=this.data("drag-options"),s=n.items,l=s[n.pointIndex],h=n.dataObj,d=h.config,c=n.chart,p=c.components,g=p.dataset[n.datasetIndex],u=FusionCharts.get("component",["dataset","DragArea"]),m=c.config.animationObj,v=p.yAxis[0],x=h._xPos,b=m.duration,y=p.numberFormatter,w=c.config.canvasTop,C=l.graphics,l=v.getPixel(v.getAxisBase()),k=h.config.allowNegDrag?n.boundaryBottom:l,A=C.image,L=h.config.anchorProps,S=L.imageUrl,l=g.graphics.lineElement,p=h.config.showValue,D=s.length,C=C.element;for(r=n.origY+a,n.draged||(i={dataIndex:n.pointIndex+1,datasetIndex:n.datasetIndex,startValue:n.startValue,datasetName:n.name},e.raiseEvent("dataplotDragStart",i,c.chartInstance)),r<n.boundaryTop&&(a=n.boundaryTop-n.origY),r>k&&(a=k-n.origY),r=n.origY+a,this.attr({cy:r}),o&&S?A=C:(k=C.data("setRolloverAttr"),(c=C.data("setRolloutAttr"))&&(c.polypath[2]=r),k&&(k.polypath[2]=r),C&&C.attr({polypath:[L.symbol[1]||2,x,r,L.radius,90,0]}),C.data("setRolloverAttr",k),C.data("setRolloutAttr",c)),h._yPos=r,A&&u.prototype.updateImage.call(g,h),n.latestY=r,h._yPos=r,h=d.setValue=v.getValue(r-w),h=y.dataLabels(h),d.toolTipValue=h,d.displayValue=f(d.setDisplayValue,h),d=0;D>d;d++)C=s[d].graphics,(h=C.connector)&&(v=s[d],u=v.config.connStartIndex,v=v.config.connEndIndex,u=g.getLinePath(s,{},{begin:u,end:v+1}),h.attr({path:u.getPathArr()}));l&&(d=g.config,u=d.pathStartIndex,v=d.pathEndIndex,u=g.getLinePath(s,{},{begin:u,end:v}),l.attr({path:u.getPathArr()})),m.duration=0,p&&g.drawLabel(n.pointIndex),m.duration=b,n.draged=!0,this.data("draged",!0),n.lastY=a},dragUp:function(){var a,o=this.data("drag-options"),i=o.dataObj,r=o.chart,n=r.components.dataset[o.datasetIndex],s=n.config,l=s.showTooltip,h=i.config.setTooltext,d=!s.doNotSnap,c=i.config.displayValue,p=r.config.canvasTop,g=n.yAxis,m=s.snapToDivRelaxation,f=s.snapToDivOnly,v=s.snapToDiv,x=i.config.setValue;o.draged&&(s=a=o.yPos+o.lastY,d&&v&&(s=Z(g.getValue(0-p)-g.getValue(m-p)),f=g.getClosestDiv(x,f?null:s),s=g.getPixel(f),s-a&&n.dragMove.call(this,0,s-o.yPos)),g={dataIndex:o.pointIndex+1,datasetIndex:o.datasetIndex+1,startValue:o.startValue,endValue:i.config.setValue,datasetName:o.name},f=[r.chartInstance.id,g.dataIndex,g.datasetIndex,g.datsetName,g.startValue,g.endValue],e.raiseEvent("dataplotDragEnd",g,r.chartInstance),t.raiseEvent("chartupdated",g,r.chartInstance,f),o.yPos=s,i._yPos=s,h+=c,i.graphics.hotElement.attr({y:o.yPos}).tooltip(l?h:u),o._lastY=o.lastY+o._origY,o.lastY+=o.origY,this.data("draged",!1),n.setMaxMin(),r._setDataLimits())},getJSONData:function(){var e,t,a,o,i,r=this.JSONData.data,n=this.components.data,s=[],l={};for(i=0,o=r.length;o>i;i++){e=r[i],a=n[i],l={};for(t in e)l[t]="value"===t?a.config.setValue:e[t];s.push(l)}return{data:s}}},h]),be("selectscatter",{isXY:!0,hasLegend:!0,applicableDSList:{selectScatter:!0},friendlyName:"Dragable Scatter Chart",standaloneInit:!0,creditLabel:j,defaultDatasetType:"selectScatter",defaultZeroPlaneHighlighted:!1,configure:be.dragbase.configure,_createToolBox:be.dragbase._createToolBox,_manageActionBarSpace:be.dragbase._manageActionBarSpace,drawActionBar:be.dragbase.drawActionBar,getData:function(t){var a,o=this.getCollatedData(),i=[],r=o.dataset,n=r&&r.length||0,s=0,l=0;if(t)i=/^json$/gi.test(t)?o:/^csv$/gi.test(t)?this.getCSVString():e.core.transcodeData(o,"json",t);else for(;n>s;s+=1)if(o=r[s]){for((a=t=(o=r[s]&&r[s].data)&&o.length||0)&&(i[l]||(i[l]=[v(r[s].id,"null")]));a--;)i[l][a+1]=v(o[a].id,"null");t&&(l+=1)}return i},getCSVString:function(){for(var e=this.getData(),t=e.length;t--;)e[t]=e[t].join(",");return e.join("|")},getCollatedData:function(){for(var t,a,o,i,r,n,s,l,h,d=this.config._selectEleArr,c=d&&d.length,p=w({},this.chartInstance.getChartData(e.dataFormats.JSON)),g=p.dataset,u=[];c--;)if(t=d[c])for(n=t.startX,s=t.endX,l=t.startY,h=t.endY,i=g.length;i--;)for(u[i]||(u[i]={data:[]}),r=(o=g[i].data)&&o.length;r--;)a=o[r],t=a.x,a=a.y,t>n&&s>t&&l>a&&a>h&&(u[i].data[r]=!0);for(i=g.length;i--;)for(r=(o=g[i].data)&&o.length;r--;)u[i]&&u[i].data[r]||o.splice(r,1);return this.updatedDataObj=p},createSelectionBox:function(e){var t=e.chart,a=t.components,o=a.paper,i=t.config,r=a.yAxis&&a.yAxis[0],a=a.xAxis&&a.xAxis[0],n=e.selectionLeft,s=e.selectionTop,l=e.selectionWidth;e=e.selectionHeight;var h=n+l,d=s+e,c=l>15&&e>15,p={resizeEleRadius:15,canvasTop:i.canvasTop,canvasRight:i.canvasLeft+i.canvasWidth,canvasLeft:i.canvasLeft,canvasBottom:i.canvasTop+i.canvasHeight},g=t.graphics.trackerGroup,u=i._selectEleArr||(i._selectEleArr=[]);p.index=u.length,p.id="SELECT_"+p.index,p.selectBoxG=g=o.group("selection-box",g).toFront(),p.selectBoxTracker=o.rect(n,s,l,e,g).attr({"stroke-width":1,stroke:k(i.selectBorderColor),ishot:!0,fill:i.selectFillColor}).css({cursor:"move"}),p.selectBoxTracker.data("config",{position:6,selectEleObj:p,xChange:!0,yChange:!0}),p.topTracker=o.rect(n,s-6,l,12,g).attr({"stroke-width":0,ishot:!0,fill:G}).css("cursor",L&&"ns-resize"||"n-resize"),p.topTracker.data("config",{position:1,selectEleObj:p,yChange:!0}),p.rightTracker=o.rect(n+l-6,s,12,e,g).attr({"stroke-width":0,ishot:!0,fill:G}).css("cursor",L&&"ew-resize"||"w-resize"),p.rightTracker.data("config",{position:2,selectEleObj:p,xChange:!0}),p.bottomTracker=o.rect(n,s+e-6,l,12,g).attr({"stroke-width":0,ishot:!0,fill:G}).css("cursor",L&&"ns-resize"||"n-resize"),p.bottomTracker.data("config",{position:3,selectEleObj:p,yChange:!0}),p.leftTracker=o.rect(n-6,s,12,e,g).attr({"stroke-width":0,ishot:!0,fill:G}).css("cursor",L&&"ew-resize"||"e-resize"),p.leftTracker.data("config",{position:4,selectEleObj:p,xChange:!0}),p.cornerInnerSymbol=o.symbol("resizeIcon",0,0,15,g).attr({transform:"t"+h+","+d,"stroke-width":1,visibility:c?z:"hidden",ishot:!0,stroke:"#999999"}),p.cornerOuterSymbol=o.symbol("resizeIcon",0,0,-12,g).attr({transform:"t"+h+","+d,strokeWidth:1,visibility:c?"hidden":z,ishot:!0,stroke:"#777777"}),p.resizeTracker=o.circle(h,d,12,g).attr({"stroke-width":1,stroke:G,ishot:!0,fill:G}).css("cursor",L&&"nwse-resize"||"nw-resize"),p.resizeTracker.data("config",{position:5,selectEleObj:p,yChange:!0,xChange:!0}),p.closeButton=o.symbol("closeIcon",0,0,6,g).attr({transform:"t"+h+","+s,"stroke-width":2,stroke:i.selectionCancelButtonBorderColor,fill:i.selectionCancelButtonFillColor,"stroke-linecap":"round",ishot:!0,"stroke-linejoin":"round"}).css({cursor:"pointer",_cursor:"hand"}).click(function(){t.deleteSelection(this,t)}),p.closeButton.data("config",{index:p.index}),p.chart=t,p.startX=a.getValue(n-i.canvasLeft),p.startY=r.getValue(s-i.canvasTop),p.endX=a.getValue(h-i.canvasLeft),p.endY=r.getValue(d-i.canvasTop),p.isVisible=!0,u.push(p),t.bindDragEvent(p)},_deleteAllSelection:function(){var e,t,a,o,i=this.config._selectEleArr;for(a in i)if(i.hasOwnProperty(a)){e=i[a];for(o in e)e.hasOwnProperty(o)&&(t=e[o],t.remove&&t.remove(),delete e[o]);delete i[a]}},deleteSelection:function(t,a){var o,i,r=t.data("config").index,n=a.components,s=a.config._selectEleArr,l=s[r];i=l.selectBoxTracker.getBBox(),i={selectionLeft:i.x,selectionTop:i.y,selectionWidth:i.width,selectionHeight:i.height,startXValue:n.xAxis[0].getAxisPosition(i.x,1),startYValue:n.yAxis[0].getAxisPosition(i.y,1),endXValue:n.xAxis[0].getAxisPosition(i.x+i.width,1),endYValue:n.yAxis[0].getAxisPosition(i.y+i.height,1),data:a.getCollatedData(),id:l.id};for(o in l)l.hasOwnProperty(o)&&(n=l[o],n.remove&&n.remove(),delete l[o]);delete s[r],e.raiseEvent("selectionRemoved",i,a.chartInstance)},bindDragEvent:function(e){for(var t in e)/Tracker/.test(t)&&e[t].drag(this.move,this.start,this.up)},start:function(){var e=this.data("config").selectEleObj,t=e.topTracker,a=e.rightTracker,o=e.bottomTracker,i=e.leftTracker,r=e.resizeTracker,n=t.data("config"),s=a.data("config"),l=o.data("config"),h=i.data("config"),d=r.data("config"),c=e.selectBoxTracker.data("config"),p=e.selectBoxTracker.getBBox();n.ox=p.x,n.oy=p.y,s.ox=p.x2,s.oy=p.y,l.ox=p.x,l.oy=p.y2,h.ox=p.x,h.oy=p.y,n.ox=p.x,n.oy=p.y,d.ox=p.x2,d.oy=p.y2,c.ox=p.x,c.oy=p.y,c.ow=p.width,c.oh=p.height,c.ox2=p.x2,c.oy2=p.y2,e.selectBoxG.toFront(),t.hide(),a.hide(),o.hide(),i.hide(),r.hide(),this.show()},move:function(t,a){var o,i,r=this.data("config"),n=r.selectEleObj,s=n.chart,l=s.config,h=s.components,d=n.topTracker,c=n.rightTracker,p=n.bottomTracker,g=n.leftTracker,u=n.resizeTracker,m=n.selectBoxTracker,f=n.canvasLeft,v=n.canvasRight,x=n.canvasTop,b=n.canvasBottom,y=m.data("config"),w={};switch(t=r.xChange?t:0,a=r.yChange?a:0,o=t+r.ox,i=a+r.oy,o=X(v-(r.ow||0),Q(o,f)),i=X(b-(r.oh||0),Q(i,x)),r.position){case 1:w.y=X(y.oy2,i),w.height=Z(y.oy2-i)||1,d.attr({y:i+-6});break;case 2:w.x=X(y.ox,o),w.width=Z(y.ox-o)||1,c.attr({x:o+-6});break;case 3:w.y=X(y.oy,i),w.height=Z(y.oy-i)||1,p.attr({y:i+-6});break;case 4:w.x=X(y.ox2,o),w.width=Z(y.ox2-o)||1,g.attr({x:o+-6});break;case 5:w.x=X(y.ox,o),w.width=Z(y.ox-o)||1,w.y=X(y.oy,i),w.height=Z(y.oy-i)||1,u.attr({cx:o,cy:i});break;default:w.x=o,w.y=i}this.data("dragStarted")||(r=m.getBBox(),l={selectionLeft:r.x,selectionTop:r.y,selectionWidth:r.width,selectionHeight:r.height,startXValue:h.xAxis[0].getValue(r.x-l.canvasLeft),startYValue:h.yAxis[0].getValue(r.y-l.canvasTop),endXValue:h.xAxis[0].getValue(r.x+r.width-l.canvasLeft),endYValue:h.yAxis[0].getValue(r.y+r.height-l.canvasTop),id:n.id},e.raiseEvent("BeforeSelectionUpdate",l,s.chartInstance),this.data("dragStarted",1)),m.animate(w),n.isVisible&&(n.closeButton.hide(),n.cornerInnerSymbol.hide(),n.cornerOuterSymbol.hide(),n.isVisible=!1)},up:function(){var t,a,o=this,i=o.data("config").selectEleObj,r=i.chart,n=r.components,s=r.config,l=n.xAxis&&n.xAxis[0],h=n.yAxis&&n.yAxis[0],d=i.topTracker,c=i.rightTracker,p=i.bottomTracker,g=i.leftTracker,u=i.resizeTracker,m=i.selectBoxTracker;setTimeout(function(){t=m.getBBox(),i.startX=l.getValue(t.x-s.canvasLeft),i.startY=h.getValue(t.y-s.canvasTop),i.endX=l.getValue(t.x2-s.canvasLeft),i.endY=h.getValue(t.y2-s.canvasTop),d.attr({x:t.x,y:t.y+-6,width:t.width}),c.attr({x:t.x2+-6,y:t.y,height:t.height}),p.attr({x:t.x,y:t.y2+-6,width:t.width}),g.attr({x:t.x+-6,y:t.y,height:t.height}),u.attr({cx:t.x2,cy:t.y2}),i.closeButton.transform("t"+t.x2+","+t.y),i.cornerInnerSymbol.transform("t"+t.x2+","+t.y2),i.cornerOuterSymbol.transform("t"+t.x2+","+t.y2),i.closeButton.show(),15>t.width||15>t.height?(i.cornerInnerSymbol.hide(),i.cornerOuterSymbol.show()):(i.cornerInnerSymbol.show(),i.cornerOuterSymbol.hide()),i.isVisible=!0,d.show(),c.show(),p.show(),g.show(),u.show(),o.data("dragStarted")&&(a={selectionLeft:t.x,selectionTop:t.y,selectionWidth:t.width,selectionHeight:t.height,startXValue:n.xAxis[0].getValue(t.x-s.canvasLeft),startYValue:n.yAxis[0].getValue(t.y-s.canvasTop),endXValue:n.xAxis[0].getValue(t.x+t.width-s.canvasLeft),endYValue:n.yAxis[0].getValue(t.y+t.height-s.canvasTop),data:r.getCollatedData(),id:i.id},e.raiseEvent("SelectionUpdated",a,r.chartInstance),o.data("dragStarted",0))},100)},restoreData:function(){var e,t=this.components.dataset;for(this._deleteAllSelection(),e=0;e<t.length;e++)t[e].draw();return!0},submitData:function(){var a,o,r,n,s,l=this.chartInstance,h=new e.ajax,d=this.config,c=e.dataFormats.JSON,p=e.dataFormats.CSV,g=e.dataFormats.XML,u=d.formAction||"",m=d.submitFormAsAjax;d.formDataFormat===c?(a=c,o=JSON.stringify(this.getCollatedData())):this.formDataFormat===p?(a=p,o=l.getCSVString&&l.getCSVString(),void 0===o&&(o=e.core.transcodeData(this.getCollatedData(),c,p))):(a=g,o=e.core.transcodeData(this.getCollatedData(),c,g)),e.raiseEvent("beforeDataSubmit",{data:o},l,void 0,function(){m?(h.onError=function(e,a,i,r){t.raiseEvent("dataSubmitError",{xhrObject:a.xhr,url:r,statusText:e,httpStatus:a.xhr&&a.xhr.status?a.xhr.status:-1,data:o},l,[l.id,e,a.xhr&&a.xhr.status])},h.onSuccess=function(e,a,i,r){t.raiseEvent("dataSubmitted",{xhrObject:h,response:e,url:r,data:o},l,[l.id,e])},r={},r["str"+a.toUpperCase()]=o,h.open&&h.abort(),h.post(u,r)):(n=i.document.createElement("span"),n.innerHTML='<form style="display:none" action="'+u+'" method="'+d.formMethod+'" target="'+d.formTarget+'"> <input type="hidden" name="strXML" value="'+Le(o)+'"><input type="hidden" name="dataFormat" value="'+a.toUpperCase()+'" /></form>',s=n.removeChild(n.firstChild),i.document.body.appendChild(s),s.submit&&s.submit(),s.parentNode.removeChild(s),n=s=null)},function(){e.raiseEvent("dataSubmitCancelled",{data:o},l)})},_postSpaceManagement:function(){be("mscartesian")._postSpaceManagement.call(this),this._deleteAllSelection()},eiMethods:{getData:function(e){var t=this.apiInstance;return t&&t.getData(e)},restoreData:function(){var e=this.apiInstance;return e&&e.restoreData()},submitData:function(){var e=this.apiInstance;return e&&e.submitData()}}},be.scatterBase),FusionCharts.register("component",["dataset","selectScatter",{configure:function(){var t=this.chart,a=t.config,o=t.jsonData.chart,t=t.components.colorManager,i=f(o.selectbordercolor,t.getColor("canvasBorderColor")),r=x(o.selectborderalpha,t.getColor("canvasBorderAlpha"));FusionCharts.get("component",["dataset","scatter"]).prototype.configure.call(this),a.selectBorderColor={FCcolor:{color:i,alpha:r}},a.selectFillColor=ge(f(o.selectfillcolor,t.getColor("altHGridColor")),x(o.selectfillalpha,t.getColor("altHGridAlpha"))),a.selectionCancelButtonBorderColor=ge(f(o.selectioncancelbuttonbordercolor,i),x(o.selectioncancelbuttonborderalpha,r)),a.selectionCancelButtonFillColor=ge(f(o.selectioncancelbuttonfillcolor,"FFFFFF"),x(o.selectioncancelbuttonfillalpha,100)),a.connativeZoom=!1,a.zoomType="xy",a.formAction=v(o.formaction),"0"!==o.submitdataasxml||o.formdataformat||(o.formdataformat=e.dataFormats.CSV),a.formDataFormat=f(o.formdataformat,e.dataFormats.XML),a.formTarget=f(o.formtarget,"_self"),a.formMethod=f(o.formmethod,"POST"),a.submitFormAsAjax=x(o.submitformusingajax,1)},draw:function(){var t=this.chart,a=t.linkedItems.container;FusionCharts.get("component",["dataset","scatter"]).prototype.draw.call(this),xe(t,{selectionStart:function(t){var o=ke(a,t.originalEvent),o=w({selectionLeft:t.selectionLeft,selectionTop:t.selectionTop,selectionWidth:t.selectionWidth,selectionHeight:t.selectionHeight,startXValue:t.chart.components.xAxis[0].getAxisPosition(t.selectionLeft,1),startYValue:t.chart.components.yAxis[0].getAxisPosition(t.selectionTop,1)},o);e.raiseEvent("selectionStart",o,t.chart.chartInstance)},selectionEnd:function(t){var o=ke(a,t.originalEvent),i=t.chart.components.xAxis[0],r=t.chart.components.yAxis[0],o=w({selectionLeft:t.selectionLeft,selectionTop:t.selectionTop,selectionWidth:t.selectionWidth,selectionHeight:t.selectionHeight,
startXValue:i.getAxisPosition(t.selectionLeft,1),startYValue:r.getAxisPosition(t.selectionTop,1),endXValue:i.getAxisPosition(t.selectionLeft+t.selectionWidth,1),endYValue:r.getAxisPosition(t.selectionTop+t.selectionHeight,1)},o);e.raiseEvent("selectionEnd",o,t.chart.chartInstance),t.chart.createSelectionBox(t)}})}},"scatter"]),be("candlestick",{friendlyName:"Candlestick Chart",standaloneInit:!0,creditLabel:j,paletteIndex:3,defaultDatasetType:"candlestick",hasLegend:!0,applicableDSList:{candlestick:!0},canvasborderthickness:1,hasInteractiveLegend:!1,init:function(e,t,a,o){var i;this.jsonData=t,i=this.components=this.components||(this.components={}),i.canvasVolume=i.canvasVolume||(i.canvasVolume={graphics:{},config:{}}),be.mscartesian.init.call(this,e,t,a,o)},configure:function(){var e,t,a,o=this.components.colorManager,i=this.jsonData.chart,r=this.components;this.base.configure.call(this),e=this.config,a=r.canvas.config,e.showVolumeChart=x(i.showvolumechart,1),t=x(i.volumeheightpercent,40),e.volumeHeightPercent=20>t?20:t>80?80:t,e.canvasBorderWidth=x(i.canvasborderthickness,1),e.rollOverBandColor=ge(f(i.rolloverbandcolor,o.getColor("altHGridColor")),f(i.rolloverbandalpha,o.getColor("altHGridAlpha"))),w(r.canvasVolume.config,a)},_createDatasets:function(){var e,t,a,o,i,r,n,s,l=this.config,h=this.components,c=this.jsonData,g=c.dataset,u=c.trendset||[],m=this.config.showVolumeChart,v=g&&g.length,x=this.defaultDatasetType,b=f(y(c.chart.plotpriceas),d),w=0,C=l.datasetMap||(l.datasetMap={trendset:[],candlestick:[]}),k={},A={trendset:[],candlestick:[]},L=h.legend;if(g){for(this.config.categories=c.categories&&c.categories[0].category,e=h.dataset=[],c=0,v=g.length;v>c;c++)i=g[c],i.seriesname&&(i.seriesname=y(i.seriesname)),a=(a=f(i.renderas,x))&&a.toLowerCase(),o=FusionCharts.get("component",["dataset",a]),s=C[a],t=s[0],o&&(void 0===k[a]?k[a]=0:k[a]++,t?(r=t,t.index=c,b!==r.config.plotType?(M.call(r),t=e[w]=new o,t.chart=this,t.index=w,t.init(i)):(r=(r=t.JSONData)&&r.data&&r.data.length,n=i.data&&i.data.length,r>n&&t.removeData(n-1,r-n,!1),t.JSONData=i),t.configure(),A[a].push(t),e.push(t),s.shift()):(t=new o,e.push(t),A[a].push(t),t.chart=this,t.index=w,t.init(i))),w++,s=h.yAxis&&h.yAxis[1],m&&this.config.drawVolume?(s&&s.show(),o&&(void 0===k[a]?k[a]=0:k[a]++,s=C[a],(t=s[0])?(r=(r=t.JSONData)&&r.data&&r.data.length,n=i.data&&i.data.length,r>n&&t.removeData(n-1,r-n,!1),t.JSONData=i,t.configure(),e.push(t),A[a].push(t),s.shift()):(t=new o,t.chart=this,e.push(t),A[a].push(t),t.init(i,p))),w++):s&&s.hide(),m=this.config.drawVolume&&m?this.config.showVolumeChart=1:this.config.showVolumeChart=0;for(c=0,v=u.length;v>c;c++)i=u[c],a="trendset",s=C[a],t=s[0],void 0===k[a]?k[a]=0:k[a]++,t?(r=(r=t.JSONData)&&r.data&&r.data.length,n=i.data&&i.data.length,A[a].push(t),e.push(t),t.index=w,r>n&&t.removeData(n-1,r-n,!1),t.JSONData=i,t.configure(),s.shift()):(o=FusionCharts.get("component",["dataset",a]),h=new o,e.push(h),A[a].push(h),h.chart=this,h.index=w,h.init(i)),w++;for(g in C)if(s=C[g],v=s.length)for(u=0;v>u;u++)L.removeItem(s[u].legendItemId),M.call(s[u]);l.datasetMap=A}else this.setChartMessage()},_spaceManager:function(){var e,t,a=this.config,o=this.components,i=a.legendPosition,r=o.xAxis&&o.xAxis[0],n=o.xAxis&&o.xAxis[1],s=o.yAxis&&o.yAxis[0],l=o.yAxis&&o.yAxis[1];e=this.hasLegend;var h,d,c=o.legend,p=this.config.showVolumeChart,g=p?a.volumeHeightPercent:0,u=o.canvas.config,m=o.canvasVolume.config,f=a.width,v=a.height,x={};d=a.chartBorderWidth,o=o.canvas.config.canvasBorderWidth,h=a.minCanvasHeight,t=a.minCanvasWidth;var b,y,w=a.canvasMarginLeft,C=a.canvasMarginRight,k=a.canvasMarginTop,A=a.canvasMarginBottom,L=a.origCanvasTopMargin,S=a.origCanvasBottomMargin,D=a.origCanvasLeftMargin,T=a.origCanvasRightMargin;this._allocateSpace({top:d,bottom:d,left:d,right:d}),d=i===fe?.225*a.canvasWidth:.3*a.canvasHeight,!1!==e&&r&&this._allocateSpace(c._manageLegendPosition(d)),e=.7*a.canvasWidth,s=s.placeAxis(e),l=p?l.placeAxis(e):{},x.left=Q(s.left,l.left||0),x.right=Q(s.right,l.right||0),this._allocateSpace(x),t>f-w-C&&(y=!0,l=a.canvasWidth-t,x=w+C,w=a.canvasMarginLeft=l*w/x,C=a.canvasMarginRight=l*C/x),w=w>a.canvasLeft?w-a.canvasLeft:0,f=C>f-a.canvasRight?C+a.canvasRight-f:0,this._allocateSpace({left:w,right:f}),y&&(x=D+T,y=a.canvasWidth,y>t&&(l=y-t,w=l*D/x,f=l*T/x),this._allocateSpace({left:w,right:f})),t=i===me?.225*a.canvasHeight:.225*a.canvasWidth,this._manageChartMenuBar(t),this._allocateSpace({top:a.canvasMarginTop,bottom:a.canvasMarginBottom}),t=.3*a.canvasHeight,i=r.placeAxis(t),r&&this._allocateSpace(i),i.bottom+=6,p&&(r=n.placeAxis(t),this._allocateSpace(r)),this._allocateSpace({top:o,bottom:2*o,left:o,right:o}),h>v-k-A&&(b=!0,l=a.canvasHeight-h,x=k+A,k=a.canvasMarginTop=l*k/x,A=a.canvasMarginBottom=l*A/x),r=k>a.canvasTop?k-a.canvasTop:0,v=A>v-a.canvasBottom?A+a.canvasBottom-v:0,this._allocateSpace({top:r,bottom:v}),b&&(x=L+S,b=a.canvasHeight,b>h&&(l=b-h,r=l*L/x,v=l*S/x),this._allocateSpace({top:r,bottom:v})),h=a.canvasHeight,u.canvasHeight=K((100-g)/100*h),m.canvasHeight=g/100*h,u.canvasTop=a.canvasTop,u.canvasLeft=a.canvasLeft,u.canvasBottom=u.canvasTop+u.canvasHeight,u.canvasWidth=a.canvasWidth,u.canvasRight=a.canvasRight,m.canvasTop=u.canvasBottom+i.bottom+2*o,m.canvasLeft=a.canvasLeft,m.canvasBottom=m.canvasTop+m.canvasHeight+2*o,m.canvasRight=a.canvasRight,m.canvasWidth=a.canvasWidth,g=a.canvasTop+u.canvasHeight+o,a=a.canvasTop+u.canvasHeight+i.bottom+2*o,u.canvasY=g,m.canvasY=a},_postSpaceManagement:function(){var e=this.components,t=this.config.showVolumeChart,a=e.xAxis&&e.xAxis[0],o=e.yAxis&&e.yAxis[0],i=e.xAxis&&e.xAxis[1],r=e.yAxis&&e.yAxis[1],n=e.canvas.config,s=e.legend,e=e.canvasVolume.config,l=n.canvasBorderWidth;a&&a.setAxisDimention({x:n.canvasLeft,y:n.canvasY,opposite:n.canvasTop-l,axisLength:n.canvasWidth}),o&&o.setAxisDimention({x:n.canvasLeft-l,y:n.canvasTop,opposite:n.canvasRight+l,axisLength:n.canvasHeight}),t&&(i&&i.setAxisDimention({x:n.canvasLeft,y:e.canvasBottom,opposite:e.canvasTop-l,axisLength:n.canvasWidth}),r&&r.setAxisDimention({x:n.canvasLeft-l,y:e.canvasY,opposite:e.canvasRight+l,axisLength:e.canvasHeight}),i&&i.setCanvas(e),r&&r.setCanvas(e)),a.setCanvas(n),o.setCanvas(n),s.postSpaceManager()},_drawCanvas:function(){var e,t=this.components,a=this.graphics,o=t.paper,i=t.canvas,r=t.canvas.config,n=r.clip||(r.clip=[]),s=t.canvasVolume.config,l=i.graphics,t=t.canvasVolume.graphics,h=i.config,d=l.topCanvas,c=l.topCanvasBorderElement,i=t.volumeCanvas,p=r.canvasLeft,g=r.canvasTop,u=r.canvasWidth,r=r.canvasHeight,m=s.canvasTop,s=s.canvasHeight,a=a.canvasGroup,f=h.canvasBorderRadius,v=h.canvasBorderWidth,x=.5*v,b=h.canvasBorderColor,y=this.get("config","animationObj"),w=y.dummyObj,C=y.animObj,A=y.animType,y=y.transposeAnimDuration,L=this.config.showVolumeChart,S=h.shadow,D=h.shadowOnCanvasFill,h=h.canBGColor;e={x:p-x,y:g-x,width:u+v,height:r+v,r:f,"stroke-width":v,stroke:b,"stroke-linejoin":v>2?"round":"miter"},c?y?c.animateWith(w,C,{x:p-x,y:g-x,width:u+v,height:r+v,r:f},y,A):c.attr(e):c=l.topCanvasBorderElement=o.rect(e,a).shadow(S),c.attr({"stroke-width":v,stroke:b,"stroke-linejoin":v>2?"round":"miter"}),n["clip-canvas"]=[Q(0,p),Q(0,g),Q(1,u),Q(1,r)],n["clip-canvas-init"]=[Q(0,p),Q(0,g),1,Q(1,r)],d?y?d.animate({x:p,y:g,width:u,height:r},y,A).attr({r:f}):d.attr(void 0):(l.topCanvas=d=o.rect(a),d.attr({x:p,y:g,width:u,height:r}).shadow(D)),d.animateWith(w,C,{x:p,y:g,width:u,height:r},y,A),d.attr({r:f,"stroke-width":0,stroke:"none",fill:k(h)}),L?(n={x:p-x,y:m-x-1,width:u+v,height:s+v},i||(t.volumeCanvas=i=o.rect(a).attr(n).shadow(D).crisp()),i.show().animateWith(w,C,n,y,A).attr({r:f,fill:k(h),"stroke-width":v,stroke:b,"stroke-linejoin":v>2?"round":"miter","shape-rendering":"crisp"})):i&&i.hide()},_createAxes:function(){var e,t,a,o=this.components,i=FusionCharts.register("component",["axis","cartesian"]),r=this.config.showVolumeChart;o.yAxis=[],o.xAxis=[],o.yAxis[0]=t=new i,o.yAxis[1]=e=new i,o.xAxis[0]=a=new i,t.chart=this,e.chart=this,a.chart=this,r&&(o.xAxis[1]=o=new i,o.chart=this,o.init()),t.init(),e.init(),a.init(),this._setCategories()},_feedAxesRawData:function(){var e,t,a=this.components,o=a.colorManager,i=this.jsonData,r=i.chart,n=this.is3d,s=n?E.chart3D:E.chart2D,l=FusionCharts.register("component",["axis","cartesian"]),h=this.config.showVolumeChart;e={outCanfontFamily:f(r.outcnvbasefont,r.basefont,"Verdana,sans"),outCanfontSize:he(r.outcnvbasefontsize,r.basefontsize,10),outCancolor:f(r.outcnvbasefontcolor,r.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:r.xaxisnamepadding,axisValuePadding:r.labelpadding,axisNameFont:r.xaxisnamefont,axisNameFontSize:r.xaxisnamefontsize,axisNameFontColor:r.xaxisnamefontcolor,axisNameFontBold:r.xaxisnamefontbold,axisNameFontItalic:r.xaxisnamefontitalic,axisNameBgColor:r.xaxisnamebgcolor,axisNameBorderColor:r.xaxisnamebordercolor,axisNameAlpha:r.xaxisnamealpha,axisNameFontAlpha:r.xaxisnamefontalpha,axisNameBgAlpha:r.xaxisnamebgalpha,axisNameBorderAlpha:r.xaxisnameborderalpha,axisNameBorderPadding:r.xaxisnameborderpadding,axisNameBorderRadius:r.xaxisnameborderradius,axisNameBorderThickness:r.xaxisnameborderthickness,axisNameBorderDashed:r.xaxisnameborderdashed,axisNameBorderDashLen:r.xaxisnameborderdashlen,axisNameBorderDashGap:r.xaxisnameborderdashgap,useEllipsesWhenOverflow:r.useellipseswhenoverflow,divLineColor:f(r.vdivlinecolor,r.divlinecolor,o.getColor(s.divLineColor)),divLineAlpha:f(r.vdivlinealpha,r.divlinealpha,n?o.getColor("divLineAlpha3D"):o.getColor("divLineAlpha")),divLineThickness:x(r.vdivlinethickness,r.divlinethickness,1),divLineIsDashed:Boolean(x(r.vdivlinedashed,r.vdivlineisdashed,r.divlinedashed,r.divlineisdashed,0)),divLineDashLen:x(r.vdivlinedashlen,r.divlinedashlen,4),divLineDashGap:x(r.vdivlinedashgap,r.divlinedashgap,2),showAlternateGridColor:x(r.showalternatevgridcolor,0),alternateGridColor:f(r.alternatevgridcolor,o.getColor("altVGridColor")),alternateGridAlpha:f(r.alternatevgridalpha,o.getColor("altVGridAlpha")),numDivLines:r.numvdivlines,labelFont:r.labelfont,labelFontSize:r.labelfontsize,labelFontColor:r.labelfontcolor,labelFontAlpha:r.labelalpha,labelFontBold:r.labelfontbold,labelFontItalic:r.labelfontitalic,axisName:r.xaxisname,axisMinValue:r.xaxisminvalue,axisMaxValue:r.xaxismaxvalue,setAdaptiveMin:r.setadaptivexmin,adjustDiv:r.adjustvdiv,labelDisplay:r.labeldisplay,showLabels:r.showlabels,rotateLabels:r.rotatelabels,slantLabel:x(r.slantlabels,r.slantlabel),labelStep:x(r.labelstep,r.xaxisvaluesstep),showAxisValues:x(r.showxaxisvalues,r.showxaxisvalue),showLimits:r.showvlimits,showDivLineValues:x(r.showvdivlinevalues,r.showvdivlinevalues),showZeroPlane:r.showvzeroplane,zeroPlaneColor:r.vzeroplanecolor,zeroPlaneThickness:r.vzeroplanethickness,zeroPlaneAlpha:r.vzeroplanealpha,showZeroPlaneValue:r.showvzeroplanevalue,trendlineColor:r.trendlinecolor,trendlineToolText:r.trendlinetooltext,trendlineThickness:r.trendlinethickness,trendlineAlpha:r.trendlinealpha,showTrendlinesOnTop:r.showtrendlinesontop,showAxisLine:x(r.showxaxisline,r.showaxislines,r.drawAxisLines,0),axisLineThickness:x(r.xaxislinethickness,r.axislinethickness,1),axisLineAlpha:x(r.xaxislinealpha,r.axislinealpha,100),axisLineColor:f(r.xaxislinecolor,r.axislinecolor,"#000000")},n={outCanfontFamily:f(r.outcnvbasefont,r.basefont,"Verdana,sans"),outCanfontSize:he(r.outcnvbasefontsize,r.basefontsize,10),outCancolor:f(r.outcnvbasefontcolor,r.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:r.xaxisnamepadding,axisValuePadding:r.labelpadding,axisNameFont:r.xaxisnamefont,axisNameFontSize:r.xaxisnamefontsize,axisNameFontColor:r.xaxisnamefontcolor,axisNameFontBold:r.xaxisnamefontbold,axisNameFontItalic:r.xaxisnamefontitalic,axisNameBgColor:r.xaxisnamebgcolor,axisNameBorderColor:r.xaxisnamebordercolor,axisNameAlpha:r.xaxisnamealpha,axisNameFontAlpha:r.xaxisnamefontalpha,axisNameBgAlpha:r.xaxisnamebgalpha,axisNameBorderAlpha:r.xaxisnameborderalpha,axisNameBorderPadding:r.xaxisnameborderpadding,axisNameBorderRadius:r.xaxisnameborderradius,axisNameBorderThickness:r.xaxisnameborderthickness,axisNameBorderDashed:r.xaxisnameborderdashed,axisNameBorderDashLen:r.xaxisnameborderdashlen,axisNameBorderDashGap:r.xaxisnameborderdashgap,useEllipsesWhenOverflow:r.useellipseswhenoverflow,divLineColor:f(r.vdivlinecolor,o.getColor(s.divLineColor)),divLineAlpha:f(r.vdivlinealpha,o.getColor("divLineAlpha")),divLineThickness:x(r.vdivlinethickness,1),divLineIsDashed:Boolean(x(r.vdivlinedashed,r.vdivlineisdashed,0)),divLineDashLen:x(r.vdivlinedashlen,4),divLineDashGap:x(r.vdivlinedashgap,2),showAlternateGridColor:x(r.showalternatevgridcolor,0),alternateGridColor:f(r.alternatevgridcolor,o.getColor("altVGridColor")),alternateGridAlpha:f(r.alternatevgridalpha,o.getColor("altVGridAlpha")),numDivLines:r.numvdivlines,labelFont:r.labelfont,labelFontSize:r.labelfontsize,labelFontColor:r.labelfontcolor,labelFontAlpha:r.labelalpha,labelFontBold:r.labelfontbold,labelFontItalic:r.labelfontitalic,axisName:r.xaxisname,axisMinValue:r.xaxisminvalue,axisMaxValue:r.xaxismaxvalue,setAdaptiveMin:r.setadaptivexmin,adjustDiv:r.adjustvdiv,labelDisplay:r.labeldisplay,showLabels:1,rotateLabels:r.rotatelabels,slantLabel:x(r.slantlabels,r.slantlabel),labelStep:x(r.labelstep,r.xaxisvaluesstep),showAxisValues:x(r.showxaxisvalues,r.showxaxisvalue),showLimits:r.showvlimits,showDivLineValues:x(r.showvdivlinevalues,r.showvdivlinevalues),showZeroPlane:r.showvzeroplane,zeroPlaneColor:r.vzeroplanecolor,zeroPlaneThickness:r.vzeroplanethickness,zeroPlaneAlpha:r.vzeroplanealpha,showZeroPlaneValue:r.showvzeroplanevalue,trendlineColor:r.trendlinecolor,trendlineToolText:r.trendlinetooltext,trendlineThickness:r.trendinethickness,trendlineAlpha:r.trendlinealpha,showTrendlinesOnTop:r.showtrendlinesontop,showAxisLine:x(r.showxaxisline,r.showaxislines,r.drawAxisLines,0),axisLineThickness:x(r.xaxislinethickness,r.axislinethickness,1),axisLineAlpha:x(r.xaxislinealpha,r.axislinealpha,100),axisLineColor:f(r.xaxislinecolor,r.axislinecolor,"#000000")},t={outCanfontFamily:f(r.outcnvbasefont,r.basefont,"Verdana,sans"),outCanfontSize:he(r.outcnvbasefontsize,r.basefontsize,10),outCancolor:f(r.outcnvbasefontcolor,r.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:r.yaxisnamepadding,axisValuePadding:r.yaxisvaluespadding,axisNameFont:r.pyaxisnamefont,axisNameFontSize:r.pyaxisnamefontsize,axisNameFontColor:r.pyaxisnamefontcolor,axisNameFontBold:r.pyaxisnamefontbold,axisNameFontItalic:r.pyaxisnamefontitalic,axisNameBgColor:r.pyaxisnamebgcolor,axisNameBorderColor:r.pyaxisnamebordercolor,axisNameAlpha:r.pyaxisnamealpha,axisNameFontAlpha:r.pyaxisnamefontalpha,axisNameBgAlpha:r.pyaxisnamebgalpha,axisNameBorderAlpha:r.pyaxisnameborderalpha,axisNameBorderPadding:r.pyaxisnameborderpadding,axisNameBorderRadius:r.pyaxisnameborderradius,axisNameBorderThickness:r.pyaxisnameborderthickness,axisNameBorderDashed:r.pyaxisnameborderdashed,axisNameBorderDashLen:r.pyaxisnameborderdashlen,axisNameBorderDashGap:r.pyaxisnameborderdashgap,axisNameWidth:r.yaxisnamewidth,useEllipsesWhenOverflow:r.useellipseswhenoverflow,rotateAxisName:x(r.rotateyaxisname,1),axisName:r.pyaxisname,divLineColor:f(r.divlinecolor,o.getColor(s.divLineColor)),divLineAlpha:f(r.divlinealpha,o.getColor("divLineAlpha")),divLineThickness:x(r.divlinethickness,1),divLineIsDashed:Boolean(x(r.divlinedashed,r.divlineisdashed,1)),divLineDashLen:x(r.divlinedashlen,4),divLineDashGap:x(r.divlinedashgap,2),showAlternateGridColor:x(r.showalternatehgridcolor,1),alternateGridColor:f(r.alternatehgridcolor,o.getColor("altHGridColor")),alternateGridAlpha:f(r.alternatehgridalpha,o.getColor("altHGridAlpha")),numDivLines:x(r.numpdivlines,5),axisMinValue:r.pyaxisminvalue,axisMaxValue:r.pyaxismaxvalue,setAdaptiveMin:x(r.setadaptiveymin,1),adjustDiv:r.adjustdiv,labelStep:r.yaxisvaluesstep,showAxisValues:x(r.showyaxisvalues,r.showyaxisvalue),showLimits:x(r.showyaxislimits,r.showlimits,this.showLimits),showDivLineValues:x(r.showdivlinevalues,r.showdivlinevalue),showZeroPlane:r.showzeroplane,zeroPlaneColor:r.zeroplanecolor,zeroPlaneThickness:r.zeroplanethickness,zeroPlaneAlpha:r.zeroplanealpha,showZeroPlaneValue:r.showzeroplanevalue,trendlineColor:r.trendlinecolor,trendlineToolText:r.trendlinetooltext,trendlineThickness:r.trendlinethickness,trendlineAlpha:r.trendlinealpha,showTrendlinesOnTop:r.showtrendlinesontop,showAxisLine:x(r.showyaxisline,r.showaxislines,r.drawAxisLines,0),axisLineThickness:x(r.yaxislinethickness,r.axislinethickness,1),axisLineAlpha:x(r.yaxislinealpha,r.axislinealpha,100),axisLineColor:f(r.yaxislinecolor,r.axislinecolor,"#000000")},o={outCanfontFamily:f(r.outcnvbasefont,r.basefont,"Verdana,sans"),outCanfontSize:he(r.outcnvbasefontsize,r.basefontsize,10),outCancolor:f(r.outcnvbasefontcolor,r.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:r.yaxisnamepadding,axisValuePadding:r.yaxisvaluespadding,axisNameFont:r.vyaxisnamefont,axisNameFontSize:r.vyaxisnamefontsize,axisNameFontColor:r.vyaxisnamefontcolor,axisNameFontBold:r.vyaxisnamefontbold,axisNameFontItalic:r.vyaxisnamefontitalic,axisNameBgColor:r.vyaxisnamebgcolor,axisNameBorderColor:r.vyaxisnamebordercolor,axisNameAlpha:r.vyaxisnamealpha,axisNameFontAlpha:r.vyaxisnamefontalpha,axisNameBgAlpha:r.vyaxisnamebgalpha,axisNameBorderAlpha:r.vyaxisnameborderalpha,axisNameBorderPadding:r.vyaxisnameborderpadding,axisNameBorderRadius:r.vyaxisnameborderradius,axisNameBorderThickness:r.vyaxisnameborderthickness,axisNameBorderDashed:r.vyaxisnameborderdashed,axisNameBorderDashLen:r.vyaxisnameborderdashlen,axisNameBorderDashGap:r.vyaxisnameborderdashgap,axisNameWidth:r.yaxisnamewidth,useEllipsesWhenOverflow:r.useellipseswhenoverflow,rotateAxisName:x(r.rotateyaxisname,1),axisName:r.vyaxisname,divLineColor:f(r.divlinecolor,o.getColor(s.divLineColor)),divLineAlpha:f(r.divlinealpha,o.getColor("divLineAlpha")),divLineThickness:x(r.divlinethickness,1),divLineIsDashed:Boolean(x(r.divlinedashed,r.divlineisdashed,1)),divLineDashLen:x(r.divlinedashlen,4),divLineDashGap:x(r.divlinedashgap,2),showAlternateGridColor:x(r.showalternatehgridcolor,1),alternateGridColor:f(r.alternatehgridcolor,o.getColor("altHGridColor")),alternateGridAlpha:f(r.alternatehgridalpha,o.getColor("altHGridAlpha")),numDivLines:r.numdivlines,axisMinValue:r.vyaxisminvalue,axisMaxValue:r.vyaxismaxvalue,setAdaptiveMin:r.setadaptiveymin,adjustDiv:r.adjustdiv,labelStep:r.yaxisvaluesstep,showAxisValues:x(r.showyaxisvalues,r.showyaxisvalue),showLimits:x(r.showsecondarylimits,r.showlimits),showDivLineValues:x(r.showdivlinevalues,r.showdivlinevalue),showZeroPlane:r.showzeroplane,zeroPlaneColor:r.zeroplanecolor,zeroPlaneThickness:r.zeroplanethickness,zeroPlaneAlpha:r.zeroplanealpha,showZeroPlaneValue:r.showzeroplanevalue,trendlineColor:r.trendlinecolor,trendlineToolText:r.trendlinetooltext,trendlineThickness:r.trendlinethickness,trendlineAlpha:r.trendlinealpha,showTrendlinesOnTop:r.showtrendlinesontop,showAxisLine:x(r.showyaxisline,r.showaxislines,r.drawAxisLines,0),axisLineThickness:x(r.yaxislinethickness,r.axislinethickness,1),axisLineAlpha:x(r.yaxislinealpha,r.axislinealpha,100),axisLineColor:f(r.yaxislinecolor,r.axislinecolor,"#000000")},e.vtrendlines=i.vtrendlines,n.vtrendlines=i.vtrendlines,t.trendlines=i.trendlines,r=a.yAxis[0],i=a.yAxis[1],s=a.xAxis[0],r.setCommonConfigArr(t,!0,!1,!1),r.configure(),i.setCommonConfigArr(o,!0,!1,!1),i.configure(),r.setAxisConfig({drawLabelsOpposit:1,axisNameAlignCanvas:1,relativeAxis:i}),i.setAxisConfig({drawLabelsOpposit:1,axisNameAlignCanvas:1,uniqueClassName:1,relativeAxis:r}),s.setCommonConfigArr(e,!1,!1,!1),s.configure(),s.setAxisConfig({drawTrendLabels:!h}),h?(a.xAxis[1]?a.xAxis[1].show():(l=a.xAxis[1]=new l,l.chart=this,l.init()),l=a.xAxis[1],l.setCommonConfigArr(n,!1,!1,!1),l.configure(),l.setAxisConfig({drawLabels:!1,drawPlotlines:!0,drawPlotBands:!1,drawAxisName:!1,drawTrendLines:!0,drawOnlyCategoryLine:!0,uniqueClassName:1})):a.xAxis[1]&&a.xAxis[1].hide()},_setCategories:function(){var e,t,a=this.jsonData,o=this.components.xAxis,a=a.categories&&a.categories[0].category||[],i=[];for(t=0;t<a.length;t++)e=w({},a[t]),e.label=u,i.push(e);o[0].setAxisPadding(.5,.5),o[0].setCategory(a),o[1]&&o[1].setAxisPadding(.5,.5),o[1]&&o[1].setCategory(i)},_setAxisLimits:function(){var e,t,a,o=this.components,i=o.dataset,r=o.yAxis,o=o.xAxis,n=i.length,s=-(1/0),l=1/0,h=-(1/0),d=1/0,c=1/0,p=-(1/0),g=0,u={};for(t=0;n>t;t++)e=i[t],a=e.groupManager,g=e.config.parentYAxis,a?(u[e.type]=a,u[e.type].yAxisIndex=g):(e=e.getDataLimits(),1===g?(h=Q(h,e.max),d=X(d,e.min)):(s=Q(s,e.max),l=X(l,e.min)),p=Q(p,e.xMax||-(1/0)),c=X(c,e.xMin||1/0));for(a in u)e=u[a].getDataLimits(),s=Q(s,e.max),l=X(l,e.min);r[0].setDataLimit(s,l),r[1].setDataLimit(h,d),-(1/0)===p&&1/0===c||(o[0].setAxisRange({min:c-.5,max:p+.5,tickInterval:1}),o[1]&&o[1].setAxisRange({min:c-.5,max:p+.5,tickInterval:1}))},isDual:!0},be.mscartesian),FusionCharts.register("component",["dataset","Candlestick",{type:"Candlestick",configure:function(){if(this.plotType===p)this._configureVolume();else{var e,a,o,i,r,n,s,g,m,b,w,k,A,L,S,D,T,P=this.config,B=this.chart,V=B.components,I=this.JSONData,_=I.data||[],E=B.jsonData.chart,O=_.length,N=P.plotPriceAs=v(E.plotpriceas,u).toLowerCase(),F=V.numberFormatter,R=V.colorManager,V=P.bearBorderColor=se(f(E.bearbordercolor,l)),M=P.bearFillColor=se(f(E.bearfillcolor,l)),W=P.bullBorderColor=se(f(E.bullbordercolor,R.getColor("canvasBorderColor"))),G=P.bullFillColor=se(f(E.bullfillcolor,"FFFFFF")),j=P.lineThickness=P.plotBorderThickness=x(E.plotlinethickness,N==h||N==c?2:1),H=P.plotLineDashLen=x(E.plotlinedashlen,5),z=P.plotLineDashGap=x(E.plotlinedashgap,4),Y=!!x(E.drawanchors,1),U=x(E.anchorstartangle,90),J=x(E.anchorradius,this.anchorRadius,3),q=se(f(E.anchorbordercolor,W)),K=x(E.anchorborderthickness,this.anchorBorderThickness,1),R=se(f(E.anchorbgcolor,R.getColor("anchorBgColor"))),$=f(E.anchoralpha,"0"),ee=f(E.anchorbgalpha,$),te=!1,ae=-(1/0),oe=1/0,ie=-(1/0),re=1/0,ne=t.graphics.mapSymbolName;switch(P.parentYAxis=0,P.toolText=v(y(f(I.tooltext,E.plottooltext))),P.name=v(I.seriesname),P.showTooltip=f(E.showtooltip,1),N){case h:P.plotType=h;break;case c:P.plotType=c;break;default:P.plotType=d,P.showErrorValue=!0,P.errorBarWidthPercent=0,te=!0}for(P.animation={duration:200},r=f(E.maxcolwidth),P.maxColWidth=Z(x(r,50))||1,P.enableAnimation=r=x(E.animation,E.defaultanimation,1),P.animation=r?{duration:1e3*x(E.animationduration,1)}:!1,P.lineAlpha=f(E.plotlinealpha,"100"),r=Q(x(E.plotspacepercent,20)%100,0),P.plotSpacePercent=P.groupPadding=r/200,S=this.components.data=this.components.data||(this.components.data=[]),P.valuePadding=x(I.valuepadding,E.valuepadding,2),P.plotBorderThickness=j,r=0;O>r;r+=1)if(D=_[r],(n=S[r])||(n=S[r]={}),!n.config&&(n.config={}),!n.graphics&&(n.graphics={}),T=n.config,D&&!D.vline){switch(T.setLink=f(D.link),n=T.open=F.getCleanValue(D.open),g=T.close=F.getCleanValue(D.close),m=T.high=F.getCleanValue(D.high),b=T.low=F.getCleanValue(D.low),w=T.volume=F.getCleanValue(D.volume,!0),null!==w&&(B.config.drawVolume=!0),w=T.x=F.getCleanValue(D.x),T.openVal=te?Z(g-n):n,A=T.closeVal=X(n,g),L=T.yVal=Q(n,g),i=N===h?1:0,s=X(n,g,m,b),k=Q(n,g,m,b),y(v(D.valuetext,u)),a=se(f(D.bordercolor,n>g?V:W)),o=f(D.alpha,i?P.lineAlpha:"100"),e=se(f(D.color,n>g?M:G)),i=Boolean(x(D.dashed))?C(H,z):"none",T.dashStyle=i,i={opacity:o/100},T.color=te?e:a,T.alpha=o,T.setColor=T.color,T.setAlpha=T.alpha,T.anchorImageUrl=f(D.anchorimageurl,I.anchorimageurl,E.anchorimageurl),a=T.borderColor=a,T.borderAlpha=T.plotLineAlpha,T.colorArr=[{color:T.color,alpha:T.alpha},{color:T.borderColor,alpha:T.borderAlpha}],T.anchorSides=x(D.anchorsides,I.anchorsides,E.anchorsides),T.symbol=ne(T.anchorSides).split("_"),T.anchorProps={enabled:Y,bgColor:R,symbol:T.symbol,bgAlpha:ee*$/100+u,borderColor:q,borderAlpha:$,borderThickness:K,imageUrl:T.anchorImageUrl,radius:J,imageScale:x(D.imagescale,I.imagescale,E.imagescale,100),imagePadding:x(D.anchorimagepadding,I.anchorimagepadding,E.anchorimagepadding,1),imageAlpha:x(I.anchorimagealpha,E.anchorimagealpha,100),startAngle:U},T.showValue=1,T.hoverEffects={},P.plotType){case h:T.y=g,T.link=f(D.link);break;case d:T.y=Z(g-n),T.previousY=A,T.link=f(D.link),T.errorValue=[],m-L>0&&T.errorValue.push({errorValue:m-L,errorStartValue:L,errorBarColor:a,errorBarThickness:j,opacity:1}),0>b-A&&T.errorValue.push({errorValue:b-A,errorStartValue:A,errorBarColor:a,errorBarThickness:j,opacity:1});break;default:T.y=n,T.previousY=g,T.link=f(D.link)}T.setValue=T.y,null!==s&&(!ae&&0!==ae&&(ae=s),!oe&&0!==oe&&(oe=s),ae=Q(ae,s),oe=X(oe,s)),null!==k&&(!ae&&(ae=k),!oe&&(oe=k),ae=Q(ae,k),oe=X(oe,k)),null!==w&&(ie=Q(ie,w),re=X(re,w)),s=this._parseToolText(r),T.toolText=s,T.toolTipValue=u,w=w?w:r+1,T.x=w,T.displayValue=y(f(D.displayvalue,D.valuetext,u)),T.high=Q(n,g,m,b),T.low=X(n,g,m,b),T.shadow=i}P.yMax=ae,P.yMin=oe,P.xMax=ie,P.xMin=re}},_parseToolText:function(e){var t=this.config,a=this.chart,o=a.jsonData.chart,i=t.plotType===h?1:0,r=this.JSONData.data[e],n=this.components.data[e].config,a=a.components.xAxis[0].getLabel(n.x).label;e=n.open;var s=n.close,l=this.yAxis,d=n.high,c=n.low,n=n.volume,p=void 0!==n?r.volumetooltext:void 0;return t.showTooltip?(t=v(y(f(p,r.tooltext,t.volumeToolText,t.toolText))),void 0!==t?t=m(t,[3,5,6,10,54,55,56,57,58,59,60,61,81,82],{label:a,yaxisName:y(o.yaxisname),xaxisName:y(o.xaxisname),openValue:r.open,openDataValue:l.dataLabels(e),closeValue:r.close,closeDataValue:l.dataLabels(s),highValue:r.high,highDataValue:l.dataLabels(d),lowValue:r.low,lowDataValue:l.dataLabels(c),volumeValue:r.volume,volumeDataValue:l.dataLabels(n)},r,o):(t=null===e||i?u:"<b>Open:</b> "+l.dataLabels(e)+"<br />",t+=null!==s?"<b>Close:</b> "+l.dataLabels(s)+"<br />":u,t+=null===d||i?u:"<b>High:</b> "+l.dataLabels(d)+"<br />",t+=null===c||i?u:"<b>Low:</b> "+l.dataLabels(c)+"<br />",t+=null!==n?"<b>Volume:</b> "+l.dataLabels(n):u)):t=u,t},init:function(e,t){var a=this.chart;this.yAxis=t===p?a.components.yAxis[1]:a.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.visible=1,this.plotType=t,this.configure()},_configureVolume:function(){var e,a,o,i,r,n,s,h=this.config,c=this.chart,p=this.JSONData,g=p.data||[],m=c.jsonData.chart,k=g.length,A=c.components.colorManager,L=h.bearBorderColor=se(f(m.bearbordercolor,l)),S=h.bearFillColor=se(f(m.bearfillcolor,l)),A=h.bullBorderColor=se(f(m.bullbordercolor,A.getColor("canvasBorderColor"))),D=h.bullFillColor=se(f(m.bullfillcolor,"FFFFFF")),T=x(m.showvplotborder,1)?x(m.vplotborderthickness,1):0,P=h.plotLineDashLen=x(m.plotlinedashlen,5),B=h.plotLineDashGap=x(m.plotlinedashgap,4),V=this.yAxis,I=-(1/0),_=1/0,E=-(1/0),O=1/0;for(r=c.components.vNumberFormatter,h.plotType=d,h.parentYAxis=1,h.volumeToolText=v(y(f(p.volumetooltext,m.volumetooltext,m.plottooltext))),h.name=v(p.seriesname),h.showTooltip=f(m.showtooltip,1),h.enableAnimation=p=x(m.animation,m.defaultanimation,1),h.animation=p?{duration:1e3*x(m.animationduration,1)}:!1,p=f(m.maxcolwidth),h.maxColWidth=Z(x(p,50))||1,p=Q(x(m.plotspacepercent,20)%100,0),h.plotSpacePercent=h.groupPadding=p/200,h.plotBorderThickness=T,p=this.components.data=this.components.data||(this.components.data=[]),m=w(w({},m),{forcedecimals:b(m.forcevdecimals,m.forcedecimals),forceyaxisvaluedecimals:b(m.forcevyaxisvaluedecimals,m.forceyaxisvaluedecimals),yaxisvaluedecimals:b(m.vyaxisvaluedecimals,m.yaxisvaluedecimals),formatnumber:b(m.vformatnumber,m.formatnumber),formatnumberscale:b(m.vformatnumberscale,m.formatnumberscale),defaultnumberscale:b(m.vdefaultnumberscale,m.defaultnumberscale),numberscaleunit:b(m.vnumberscaleunit,m.numberscaleunit),vnumberscalevalue:b(m.vnumberscalevalue,m.numberscalevalue),scalerecursively:b(m.vscalerecursively,m.scalerecursively),maxscalerecursion:b(m.vmaxscalerecursion,m.maxscalerecursion),scaleseparator:b(m.vscaleseparator,m.scaleseparator),numberprefix:b(m.vnumberprefix,m.numberprefix),numbersuffix:b(m.vnumbersuffix,m.numbersuffix),decimals:b(m.vdecimals,m.decimals)}),r?r.configure(m):r=c.components.vNumberFormatter=new t.NumberFormatter(c,m),V.setNumberFormatter(r),c=0;k>c;c+=1)r=g[c],(m=p[c])||(m=p[c]={}),!m.config&&(m.config={}),!m.graphics&&(m.graphics={}),s=m.config,r&&!r.vline&&(i=s.open=V.getCleanValue(r.open),e=s.close=V.getCleanValue(r.close),s.high=V.getCleanValue(r.high),s.low=V.getCleanValue(r.low),n=s.volume=V.getCleanValue(r.volume,!0),m=s.x=V.getCleanValue(r.x),s.openVal=Z(e-i),s.closeVal=X(i,e),I=Q(I,n),_=X(_,n),E=Q(E,m),O=X(O,m),y(v(r.valuetext,u)),a=se(f(r.bordercolor,i>e?L:A)),o=f(r.alpha,"100"),e=se(f(r.color,i>e?S:D)),s.dashStyle=Boolean(x(r.dashed))?C(P,B):"none",i={opacity:o/100},s.color=e,s.alpha=o,s.setLink=r.link,s.borderWidth=T,s.borderColor=a,s.borderAlpha=f(s.plotLineAlpha,o),s.y=n,s.colorArr=[{color:s.color,alpha:s.alpha},{color:s.borderColor,alpha:s.borderAlpha}],s.setValue=s.y,r=this._parseToolText(c),s.toolText=r,s.toolTipValue=u,m=m?m:c+1,s.x=m,s.shadow=i);h.yMax=I,h.yMin=_,h.xMax=E,h.xMin=O},draw:function(){var e=this.config,t=e.plotType;t===h?this.__base__.draw.call(this):t===d?(this._drawColumn(),e.showErrorValue&&this._drawErrorValue()):this._drawCandlestickBar(),this.drawn=!0},_drawColumn:function(){var e,a,o,i,r,n,s,l,h,c,p,g,m,v,b=this,y=b.JSONData,w=b.chart,C=b.chart.jsonData.chart,A=b.config,L=b.index,S=y.data,D=S&&S.length,T=b.visible,P=w.components.paper,B=w.components.xAxis[0],V=b.yAxis,I=w.graphics,_=t.parseUnsafeString,E=t.getValidValue,O=t.Raphael,N=A.showTooltip,F=w.get("config","animationObj"),R=F.duration,M=F.dummyObj,W=F.animObj,j=B.getPVR(),H=A.plotSpacePercent,z=A.maxColWidth,j=(1-.01*A.definedGroupPadding)*j||X(j*(1-2*H),1*z),H=j/2,j=j/1,z=X(j-1,0),H=0*j-H+z/2,z=b.components.data,Y=V.getAxisBase(),U=V.yBasePos=V.getAxisPosition(Y),J=A.plotBorderThickness,q=A.plotRadius||0,K=b.graphics.container,Q=b.graphics.trackerContainer,$=b.graphics.shadowContainer,ee=I.trackerGroup,te=!w.config.plotAnimDone,ae=b.components.removeDataArr||[],oe=ae.length,ie=FusionCharts.get("component",["dataset",d]).prototype.drawLabel,re=function(){var e=b.graphics.errorGroupContainer;e&&e.show(),w._animCallBack()};n=I.datasetGroup;var I=function(e){Ae.call(this,w,e)},se=b.components.pool||[];for(K||(K=b.graphics.container=P.group("columns",n),T||K.hide()),Q||(Q=b.graphics.trackerContainer=P.group("col-hot",ee),T||Q.hide()),$||($=b.graphics.shadowContainer=P.group("shadow",n).toBack(),T||$.hide()),ee=j,A.columnWidth=j,A=0;D>A;A++)e=S[A],g=(n=z[A])&&n.config,h=g.setLink,a=g.y,o=x(g.x,A),l=g.colorArr,null!==a&&(h=g.setLink,n.graphics||(z[A].graphics={}),p=b.index+"_"+A,s=g.displayValue,E(_(f(e.tooltext,y.plottooltext,C.plottooltext))),e=g.previousY,i=V.getAxisPosition(e||Y),e=V.getAxisPosition(a+(e||0)),o=B.getAxisPosition(o)+H,i=Z(e-i),i=O.crispBound(o,e,ee,i,J),o=i.x,e=i.y,ee=i.width,i=i.height||1,r=g.toolText,m=g.dashStyle,c=g.eventArgs,c||(c=g.eventArgs={}),c.index=A,c.link=h,c.value=a,c.displayValue=s,c.categoryLabel=B.getLabel(A).label,c.toolText=r,c.id=u,c.datasetIndex=L,c.datasetName=y.seriesname,c.visible=T,n._xPos=o,n._yPos=e,n._height=i,n._width=j,s=n.graphics.element,v=!1,s||(se.element&&se.element.length?s=n.graphics.element=se.element.shift():(s=n.graphics.element=P.rect(K),v=!0,R&&s.attr({x:o,y:U,width:ee,height:0}))),a=g._elemPositions,a||(a=g._elemPositions={}),a.x=o,a.y=e,a.width=ee,a.height=i,s.show().animateWith(M,W,a,R,F.animType,te&&re),a=g._elemCosmetics,a||(a=g._elemCosmetics={}),a.r=q,a.ishot=!N,a.fill=k(l[0]),a.stroke=k(l[1]),a["stroke-width"]=J,a["stroke-dasharray"]=m,a["stroke-linejoin"]="miter",a.visibility=T,s.attr(a).shadow(g.shadow,$),w.config.plotAnimDone=!0,l=n.graphics.hotElement,(h||N)&&(ne>i&&(e-=(ne-i)/2,i=ne),a=g._hotElemAttrs,a||(a=g._hotElemAttrs={}),a.x=o,a.y=e,a.width=ee,a.height=i,a.r=q,a.cursor=h?"pointer":u,a.stroke=G,a["stroke-width"]=J,a.fill=G,a.ishot=!0,a.visibility=T,l=n.graphics.hotElement,l||(se.hotElement&&se.hotElement.length?l=n.graphics.hotElement=se.hotElement.shift():(l=n.graphics.hotElement=P.rect(Q),v=!0)),l.data("x",o+ee/2),l.attr(a)),(l||s).data("eventArgs",c).data("groupId",p).tooltip(r),v&&(l||s).click(I).mouseover(b.rolloverResponseSetter(n,w)).mouseout(b.rolloutResponseSetter(n,w)));for(b._drawTracker(),ie.call(b,0,z.length),A=0;oe>A;A++)(n=ae[0])&&(b._removeDataVisuals(n.graphics),ae.shift())},rolloverResponseSetter:function(e,t){return function(a){t.graphics.rollOverBand.transform("t"+(e._xPos+(e._width||0)/2)+",0").show(),Ae.call(this,t,a,"DataPlotRollOver")}},rolloutResponseSetter:function(e,t){return function(e){t.graphics.rollOverBand.hide(),Ae.call(this,t,e,"DataPlotRollOut")}},_drawTracker:function(){var e=this.chart,t=e.components,a=t.paper,o=e.graphics.datasetGroup,i=e.graphics.rollOverBand,r=t.canvas.config,n=t.canvasVolume.config,t=this.config.columnWidth,s=e.config.rollOverBandColor,r=["M",0,r.canvasTop,"L",0,r.canvasBottom,"M",0,n.canvasTop-n.canvasBorderWidth,"L",0,n.canvasTop+n.canvasHeight+n.canvasBorderWidth/2];
i||(i=e.graphics.rollOverBand=a.path(o)),i.transform(u),i.attr({path:r,"stroke-width":t,ishot:!0,stroke:s,"stroke-linecap":"butt"}),i.data("width",t),i.toBack(),i.hide()},_removeDataVisuals:function(e){var t,a,o,i,r,n=this.components.pool||(this.components.pool={});e.graphics&&(e=e.graphics);for(a in e){if(t=n[a]||(n[a]=[]),o=e[a],o instanceof Array)for(i=0,r=o.length;r>i;i++)this._removeDataVisuals(o[i]);else o.hide&&"function"==typeof o.hide&&o.hide();t.push(e[a])}},_drawCandlestickBar:function(){var e,t,a,o,i,r,n=this.chart,s=n.components,l=this.config,h=this.components.data,d=h.length,c=s.xAxis[0],p=this.yAxis,g=n.graphics,s=s.paper,m=l.numColumns||1,f=l.columnPosition||0,v=c.getPVR(),b=l.groupPadding,y=l.maxColWidth,v=(1-.01*l.plotspacepercent)*v||X(v*(1-2*b),y*m),m=v/m*f-v/2,g=g.datasetGroup,f=n.get("config","animationObj")||{},v=f.duration,b=f.dummyObj,y=f.animObj,w=this.graphics.container,C=this.components.pool||{},A=function(){n._animCallBack()},L=!n.config.plotAnimDone;e=this.visible;var S,D,T,P,B=this.components.removeDataArr||[],V=B.lengt;for(w||(w=this.graphics.container=s.group("columns",g),e||w.hide()),t=0;d>t;t+=1)a=h[t],e=a.config,P=a.graphics,i=e.y,o=null,null===i?o=P.element:(o=x(e.x,t),a=e.link,o=c.getAxisPosition(o),r=e.previousY,r=p.getAxisPosition(r),i=p.getAxisPosition(i),S=p.getAxisPosition(e.high),D=p.getAxisPosition(e.low),Z(i-r),T=m,r=["M",o,D,"L",o,S,"M",o,i,"L",o+T,i,"M",o,r,"L",o-T,r],o=P.element,o||(C.element&&C.element.length?P.element=s.path(g):o=P.element=s.path(r,w)),o.show().animateWith(b,y,{path:r},v,f.animType,L&&A),n.config.plotAnimDone=!0,o.attr({fill:k(e.color),stroke:k(e.borderColor),"stroke-width":l.lineThickness,"stroke-dasharray":e.dashStyle,"stroke-linecap":"round","stroke-linejoin":"round","shape-rendering":"crisp",cursor:a?"pointer":u,visibility:"visible"}).shadow(e.shadow));for(t=0;V>t;t++)this._removeDataVisuals(B.shift())},_drawErrorValue:function(){var e,t,a,o=this.config,i=this.JSONData.data,i=i&&i.length,r=this.visible,n=this.chart,s=n.linkedItems,l=n.components.paper,h=n.components.yAxis[0],d=this.components.data,c=o.errorBarWidthPercent,p=n.graphics;e=p.datasetGroup;var g,m,f,v,x,b,y,w,C,k,A,L,S,D,o=o.showTooltip,T=this.graphics.errorGroupContainer,P=this.graphics.errorTrackerContainer,B=p.trackerGroup,p=n.get("config","animationObj"),V=p.duration,I=p.dummyObj,_=p.animObj;f=this.drawn;var E,O,N,F,R=function(e){Ae.call(this,n,e)},M=function(e){Ae.call(this,n,e,"DataPlotRollOver")},j=function(e){Ae.call(this,n,e,"DataPlotRollOut")},H=function(e){return function(){void 0!==e&&s.linkClickFN.call({link:e},n)}},z=this.components.pool||[];for(T||(T=this.graphics.errorGroupContainer=l.group("errorBar",e),r||T.hide()),P||(P=this.graphics.errorTrackerContainer=l.group("error-hot",B).toBack(),r||P.hide()),r&&(T.show(),P.show()),V&&!f&&T.hide(),e=0;i>e;e++)if(x=(f=d[e])&&f.config,v=x.y,B=x.setLink,k=x.errorValue,A=k.length,E=x.toolText,!f.graphics.error&&(f.graphics.error=[]),null!==v){if(B=x.setLink,v=0>v,g=f._xPos,m=f._yPos,x=f._width,F=f._height,m+=F,g+=x/2,a=f.graphics.error,S=a.length,N=!1,S>A)for(O=A;S>O;O++)D=a.pop(),this._removeDataVisuals(D);for(;A--;)(O=f.graphics.error[A])||(O=f.graphics.error[A]={}),D=O.errorTrackerElem,S=O.errorLineElem,t=k[A],b=t.errorValue,y=t.errorStartValue,a=t.errorBarColor,t=t.errorBarThickness,w=isNaN(y)?m:h.getAxisPosition(y),L=c/100*x,L/=2,C=h.getAxisPosition((W(y)?y:void 0)+b),v&&(C+=F),b=C,y=g,b=K(C)+t%2/2,y=K(g)+t%2/2,w=["M",y,w,"V",b,"M",y-L,b,"H",y+L],b=f.graphics.hotElement||f.graphics.element,L=b.data("groupId"),S||(z.errorLineElem&&z.errorLineElem.length?S=O.errorLineElem=z.errorLineElem.shift():(S=O.errorLineElem=l.path(T),N=!0)),S.show().animateWith(I,_,{path:w},V,p.animType),S.attr({stroke:a,ishot:!o,"stroke-width":t,cursor:B?"pointer":u,"stroke-linecap":"round"}),(B||o)&&ne>t&&(D=O.errorTrackerElem,D||(z.errorTrackerElem&&z.errorTrackerElem.length?D=O.errorTrackerElem=z.errorTrackerElem.shift():(D=O.errorTrackerElem=l.path(P),N=!0)),D.attr({path:w,stroke:G,"stroke-width":ne,cursor:B?"pointer":u,ishot:!!B,visibility:r}).data("groupId",L).tooltip(E),D.data("eventArgs",b&&b.data("eventArgs")||{})),N&&((D||S).click(R).hover(M,j),(B||o)&&D.click(H(B)))}},getDataLimits:function(){var e=this.config;return{max:e.yMax,min:e.yMin,xMax:e.xMax,xMin:e.xMin}},removeData:function(e,t){var a=this.components,o=a.data,i=a.removeDataArr||(a.removeDataArr=[]);a.removeDataArr=i.concat(o.splice(e||0,t||1))}},h]),FusionCharts.register("component",["dataset","Trendset",{configure:function(){var e,t,a,o=this.chart,i=o.jsonData.chart,r=this.JSONData,n=this.index,s=r.data||r.set||[],l=this.config,h=this.components.data,d=-(1/0),c=1/0,p=-(1/0),g=1/0,o=o.components.numberFormatter,n=se(f(r.color,i.trendsetcolor,"666666"));t=f(r.alpha,i.trendsetalpha,"100"),a=x(r.thickness,i.trendsetthickness,2),e=Boolean(x(r.dashed,i.trendsetdashed,0));var u=x(r.dashlen,i.trendsetdashlen,4),m=x(r.dashgap,i.trendsetdashgap,4);for(l.includeInLegend=x(r.includeinlegend,1),l.lineColor=n,l.lineAlpha=t,l.connectNullData=x(i.connectnulldata,0),l.lineThickness=a,l.lineDashStyle=e?C(u,m):"none",l.name=v(r.name),l.includeInLegend=x(r.includeinlegend,1),h||(h=this.components.data=[]),n=0,a=s.length;a>n;n+=1)(e=s[n])&&!e.vline&&(r=h[n]=h[n]||(h[n]={}),t=r.config=r.config||(r.config={}),i=t.setValue=o.getCleanValue(e.value),e=o.getCleanValue(e.x),e=t.x=null!==e?e:n+1,d=Q(d,i),c=X(c,i),g=X(g,e),p=Q(p,e),r.graphics||(r.graphics={}));l.max=d,l.min=c,l.xMax=p,l.xMin=g,this._addLegend()},_addLegend:function(){var e=this.JSONData,t=this.config,a=this.chart.components.legend,e={enabled:t.includeInLegend,interactiveLegend:!1,type:this.type,drawLine:!0,strokeColor:k({color:t.lineColor,alpha:"100"}),label:b(e.name)};this.legendItemId=a.addItems(this,this.legendInteractivity,e)},legendInteractivity:function(){},draw:function(){var e,t,a,o=this.chart,i=o.components,r=this.config,n=o.config,s=i.canvas.config.clip,l=this.components.data.length,d=i.paper,c=i.xAxis[0],p=this.yAxis,g=o.graphics,u=o.get("config","animationObj"),i=u.duration,m=u.dummyObj,f=u.animObj,u=u.animType,v=this.components.data,n=n.style;a={fontFamily:n.fontFamily,fontSize:n.fontSize,lineHeight:n.lineHeight,fontWeight:n.fontWeight,fontStyle:n.fontStyle,color:n.color};var n=r.lineThickness,x=this.graphics.container,b=g.datasetGroup,g=r.shadow,y=function(){b.line.attr({"clip-rect":null}),x.lineShadowGroup.show()},w=s["clip-canvas"].slice(0),s=s["clip-canvas-init"].slice(0),C=r.lineDashStyle,r={color:r.lineColor,alpha:r.lineAlpha},A=!1,L=this.graphics.lineElement,S=this.visible;for(b.line=b.line||d.group(h,b),b.lineConnector=b.lineConnector||d.group("line-connector",b),x||(x=this.graphics.container={lineShadowGroup:d.group("connector-shadow",b.line),lineGroup:d.group(h,b.line)},S||(x.lineShadowGroup.hide(),x.lineGroup.hide())),o._addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",a),o=0;l>o;o++)a=v[o],e=a.config,t=e.setValue,e=e.x,e=c.getAxisPosition(e),t=p.getAxisPosition(t),a._xPos=e,a._yPos=t;l=this.getLinePath(v,{}).getPathArr(),L||(L=this.graphics.lineElement=d.path(x.lineGroup),A=!0),L.show().animateWith(m,f,{path:l},i,u),L.attr({"stroke-dasharray":C,"stroke-width":n,stroke:k(r),"stroke-linecap":"round","stroke-linejoin":n>=2?"round":"miter"}).shadow(g,x.lineShadowGroup),i&&S&&A&&(x.lineShadowGroup.hide(),b.line.attr({"clip-rect":s}).animateWith(m,f,{"clip-rect":w},i,u,y))},getDataLimits:function(){var e=this.config;return{max:e.max,min:e.min,xMax:e.xMax,xMin:e.xMin}}},h]),be("kagi",{standaloneInit:!0,friendlyName:"Kagi Chart",creditLabel:j,defaultDatasetType:"kagi",applicableDSList:{kagi:!0},singleseries:!0,hasLegend:!1,_postSpaceManagement:function(){var e=this.config,t=this.components,a=t.xAxis&&t.xAxis[0],o=t.yAxis&&t.yAxis[0],i=t.canvas.config,r=i.canvasBorderWidth,n=i.canvasPadding||15,s=i.canvasPaddingTop,i=i.canvasPaddingBottom,l=this.jsonData.chart,h=(t=t.dataset[0].config)&&t.shiftCount,d=x(a.getAxisData("axisMinValue"),0),c=x(a.getAxisData("axisMaxValue"),h-1),p=this.config.canvasWidth;X(x(l.canvaspadding,0),p/2-10);var g,l=x(l.maxhshiftpercent,10),p=p-2*n;o&&o.setAxisDimention({x:e.canvasLeft-r,y:e.canvasTop+s,opposite:e.canvasRight+r,axisLength:e.canvasHeight-s-i}),this._setPosition(),t&&(g=t.xShiftLength=X(p/h,(0>=l?10:l)*p/100),Q(h-1,1),c=Q(c,1)),this._adjustCanvasPadding(),a&&a.setAxisDimention({x:this.config.canvasLeft+n+g/2,axisLength:g*(c-d),y:e.canvasBottom+(e.shift||0)+r,opposite:e.canvasTop-r})},_setPosition:function(){var e,t,a,o,i,r,n;e=this.components,o=this.jsonData;var s=e.dataset[0],l=o.data||s&&s[0]&&s[0].data,h=(s=s.components.data)&&s.length,d=e.yAxis[0],c=0,p=c,g=[];for(e=0;h>e;e++)t=s[e].config,a=t.setValue,(o=s[e])||(s[e]={graphics:{}}),t.isDefined||(a=t.plotValue),a=f(t.plotValue,a),t.plotY=A(d.getAxisPosition(t.setValue),2),t.graphY=A(d.getAxisPosition(a),2),t.plotX=p,t.isShift?(p=c+=1,l&&g.push(l[e])):e===h-1&&l&&g.push(l[e]),e&&(n=s[e-1].config,o=t&&t.objParams&&t.objParams.isRally,a=t&&t.objParams&&t.objParams.lastHigh,i=t&&t.objParams&&t.objParams.lastLow,r=t&&t.objParams&&t.objParams.isRallyInitialised,n&&r&&n.isRally!==t.isRally?(t.isChanged=!0,t.ty=A(d.getAxisPosition(o?a:i),2)):t.isChanged=!1)},_setAxisLimits:function(){var e,t,a,o=this.components,i=o.dataset,r=o.yAxis,o=o.xAxis,n=i.length,s=-(1/0),l=1/0,h=1/0,d=-(1/0),c={},p=[],g=function(e){s=Q(s,e.max),l=X(l,e.min),d=Q(d,e.xMax||-(1/0)),h=X(h,e.xMin||1/0)};for(t=0;n>t;t++)e=i[t],(a=e.groupManager)?c[e.type]=a:p.push(e);for(a in c)i=c[a].getDataLimits(),g(i);for(n=p.length,t=0;n>t;t++)i=p[t].getDataLimits(),g(i);-(1/0)===s&&(s=0),1/0===l&&(l=0),this.config.yMax=s,this.config.yMin=l,r[0].setAxisData({setAdaptiveMin:!0}),r[0].setDataLimit(s,l),-(1/0)===d&&1/0===h||(o[0].config.xaxisrange={max:d,min:h},o[0].setDataLimit(d,h))}},be.waterfall2d),t.BoxAndWhiskerStatisticalCalc=H=function(e,t,a){this.nf=t,this.dataSeparator=a,this.method=(e||g).toLowerCase().replace(/\s/g,u)},H.prototype={setArray:function(e){var t=this.nf,a=this.dataSeparator,o=0;for(!e&&(e=g),e=this.dataLength=(a=e.replace(/\s/g,g).split(a))&&a.length;e--;)o+=a[e]=t.getCleanValue(a[e]);a&&a.sort(function(e,t){return e-t}),this.values=a,this.mean=o/this.dataLength,this.getFrequencies()},getQuartiles:function(){var e,t,a=this.values,o=this.dataLength,i=o%2;switch(this.method){case"tukey":i?(i=(o+3)/4,o=(3*o+1)/4):(i=(o+2)/4,o=(3*o+2)/4);break;case"mooremccabe":i?(i=(o+1)/4,o=3*i):(i=(o+2)/4,o=(3*o+2)/4);break;case"freundperles":i=(o+3)/4,o=(3*o+1)/4;break;case"mendenhallsincich":i=K((o+1)/4),o=K(3*i);break;default:i=(o+1)/4,o=3*i}return--i,--o,e=te(i),t=te(o),i=i-e?a[e]+(a[ee(i)]-a[e])*(i-e):a[i],a=o-t?a[t]+(a[ee(o)]-a[t])*(o-t):a[o],this.quartiles={q1:i,q3:a}},getMinMax:function(){var e=this.values;return{min:e[0],max:e[this.dataLength-1]}},getMean:function(){return this.mean},getMD:function(){for(var e,t=this.mean,a=this.frequencies,o=a.length,i=0;o--;)e=a[o],i+=e.frequency*Z(e.value-t);return i/this.dataLength},getSD:function(){for(var e=this.mean,t=this.values,a=this.dataLength,o=a,i=0;a--;)i+=oe(t[a]-e,2);return ae(i)/o},getQD:function(){return.5*(this.quartiles.q3-this.quartiles.q1)},getFrequencies:function(){var e,t,a,o=[],i=this.dataLength,r=this.values,n=0;for(a=0;i>a;a+=1)n+=e=r[a],W(o[a])?o[a].frequency+=1:(t={},t.value=e,t.frequency=1,o[a]=t);this.sum=n,this.frequencies=o},getMedian:function(){var e=this.dataLength,t=.5*e,a=this.values;return 0===e%2?(a[t]+a[t-1])/2:a[te(t)]}},H.prototype.constructor=H,s&&s({plotborderdashlen:{type:V,pAttr:"plotborderdashlen"},plotborderdashgap:{type:V,pAttr:"plotborderdashgap"},plotfillalpha:{pAttr:"plotfillalpha"},useroundedges:{type:V,pAttr:"useroundedges"},ratio:{pAttr:"plotfillratio"},plotfillratio:{pAttr:"plotfillratio"},showvalues:{type:V,pAttr:"showvalues"},valuepadding:{type:V,pAttr:"valuepadding"},maxcolwidth:{type:V,pAttr:"maxcolwidth"},rotatevalues:{type:V,pAttr:"rotatevalues"},use3dlighting:{type:V,pAttr:"use3dlighting"},whiskerslimitswidthratio:{type:V,pAttr:"whiskerslimitswidthratio"},outliersupperrangeratio:{type:V,pAttr:"outliersupperrangeratio"},outlierslowerrangeratio:{type:V,pAttr:"outlierslowerrangeratio"},showalloutliers:{type:V,pAttr:"showalloutliers"},showmean:{type:V,pAttr:"showmean"},showsd:{type:V,pAttr:"showsd"},showmd:{type:V,pAttr:"showmd"},showqd:{type:V,pAttr:"showqd"},showminvalues:{type:V,pAttr:"showminvalues"},showmaxvalues:{type:V,pAttr:"showmaxvalues"},showq1values:{type:V,pAttr:"showq1values"},showq3values:{type:V,pAttr:"showq3values"},showmedianvalues:{type:V,pAttr:"showmedianvalues"}}),be("boxandwhisker2d",{friendlyName:"Box and Whisker Chart",standaloneInit:!0,creditLabel:j,chart:be.errorbar2d.chart,drawErrorValue:be.errorbar2d.drawErrorValue,decimals:2,maxColWidth:1/0,useErrorAnimation:1,avoidCrispError:0,tooltipsepchar:": ",defaultDatasetType:"boxandwhisker2d",applicableDSList:{boxandwhisker2d:!0},fireGroupEvent:!0,fireInitialAnimation:!0,_drawDataset:function(){var e,t,a,o=this.components.dataset,i=o.length,r={};for(t=0;i>t;t++)e=o[t],a=e.groupManager,r[e.type]=a;for(a in r)r[a].draw();for(o.flag=!0,t=0;i>t;t++)for(o[t].components.mean&&o[t].components.mean.draw(),o[t].components.sd&&o[t].components.sd.draw(),o[t].components.md&&o[t].components.md.draw(),o[t].components.qd&&o[t].components.qd.draw(),a=o[t].config.maxNumberOfOutliers||o[t].components.outliers.length,e=0;a>e;e++)o[t].config.showOutliersLegend||(o[t].components.outliers[e].visible=!1),o[t].components.outliers&&o[t].components.outliers[e].draw()},_createDatasets:function(){var e,t,a,o=this.components,i=o.xAxis[0],r=this.jsonData,n=r.dataset,s=n&&n.length,l=this.defaultDatasetType,h=this.applicableDSList,d=this.components.legend;e=d.components.items||[];var c,p,g,m,v,x,b=this.isStacked,w=[],C=this.isRealTime,k=this.config.catLen,A={};for(n||this.setChartMessage(),this.config.categories=r.categories&&r.categories[0].category,r=o.dataset||(o.dataset=[]),t=r.length,d.emptyItems(0,e.length),e=0;s>e;e++)m=n[e],m.seriesname&&(m.seriesname=y(m.seriesname)),a=m.parentyaxis||u,p=(p=this.isDual&&"s"===a.toLowerCase()?f(m.renderas,this.sDefaultDatasetType):f(m.renderas,l))&&p.toLowerCase(),h[p]||(p=l),(g=FusionCharts.get("component",["dataset",p]))&&(void 0===A[p]?A[p]=0:A[p]++,v="datasetGroup_"+p,a=FusionCharts.register("component",["datasetGroup",p]),(c=o[v])&&w.push(c),a&&!c&&(c=o[v]=new a,c.chart=this,c.init()),(a=r[e])?(p=i.getCategoryLen(),v=k-p,g=C?a.components:a.JSONData,x=g.data&&g.data.length||0,g=m.data&&m.data.length||0,x-=g,v>x||(v=x,p=g),v>0&&a.removeData(p,v,!1),r[e].JSONData=m,r[e].configure(),r[e]._deleteGridImages&&r[e]._deleteGridImages()):(a=new g,r.push(a),a.chart=this,a.index=e,c&&(b?c.addDataSet(a,0,A[p]):c.addDataSet(a,A[p],0)),a.init(m)));if(t>s){for(v=t-s,c&&b&&c.removeDataSet(0,e,v),o=e,s=v+e;s>o;o++)c&&!b&&c.removeDataSet(e,0,1),d.removeItem(r[o].legendItemId),M.call(r[o]);r.splice(e,v)}this.config.catLen=i.getCategoryLen()}},be.mscartesian,{showplotborder:1,plotborderdashlen:5,plotborderdashgap:4,plotfillalpha:Ce,useroundedges:0,plotborderthickness:1,showvalues:1,valuepadding:2,showtooltip:1,maxcolwidth:50,rotatevalues:0,use3dlighting:1,whiskerslimitswidthratio:40,outliersupperrangeratio:0,outlierslowerrangeratio:0,showalloutliers:0,showmean:0,showsd:0,showmd:0,showqd:0,showminvalues:1,showmaxvalues:1,showq1values:0,showq3values:0,showmedianvalues:1}),FusionCharts.register("component",["dataset","boxandwhisker2d",{type:"boxandwhisker2d",configure:function(){var e,a,o,i,r,n,s,l,h,d,c,p,g,m,b,y,w,C,A,L,S,D,T,P,V,I,_,E,O,N,F,R,M,W,G,j,H,z,Y,U,J,q,K,Z,$,ee,te,ae,oe,ie,re,ne,le,he,ce,ue,me,fe,ve,xe,be,ye,ke,Ae,Le,Se,De,Te,Pe,Be,Ve,Ie,_e,Ee,Oe,Ne,Fe,Re,Me,We=this.chart,Ge=this.config,je=this.JSONData,He=je.data,ze=We.config.categories,Ye=We.singleseries,Ue=We.config,Je=X(ze&&ze.length,He&&He.length),qe=We.jsonData.chart,Ke=We.components.colorManager,Xe=this.index||this.positionIndex,Qe=Ge.plotColor=Ke.getPlotColor(Xe),Ze=x(je.dashed,qe.plotborderdashed),$e=x(qe.useplotgradientcolor,1),et=t.parseUnsafeString,tt=et(qe.yaxisname),at=et(qe.xaxisname),ot=et(f(qe.tooltipsepchar,": ")),it=t.parseTooltext,rt=t.getDashStyle,nt=this.components.data,st=We.components.numberFormatter,lt=0,ht=0,dt=t.BoxAndWhiskerStatisticalCalc,ct=0;for(this.visible=1===x(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.__setDefaultConfig(),B(je,Ge,Ue,{data:!0}),Ge.includeInLegend=x(je.includeinlegend,1),Ge.legendSymbolColor=Ge.plotColor,e=Ge.showplotborder,h=Ge.plotborderdashlen,d=Ge.plotborderdashgap,b=Ge.plotfillalpha,p=Ge.useroundedges,y=Ge.ratio,c=Ge.plotborderthickness,Pe=Ge.showvalues,a=Ge.showtooltip,Ge.rotatevalues&&(Ge.rotatevalues=270),Be=Ge.showalloutliers,Ge.plotfillAngle=m=x(360-qe.plotfillangle,90),Ge.plotColor=Qe=f(je.color,Qe),Ge.plotRadius=x(qe.useroundedges,p?1:0),Ge.plotgradientcolor=w=t.getDefinedColor(qe.plotgradientcolor,Ke.getColor("plotGradientColor")),!$e&&(w=u),Ge.plotBorderAlpha=C=e?f(qe.plotborderalpha,b,Ce):0,Ge.plotBorderColor=A=f(qe.plotbordercolor,Ke.getColor("plotBorderColor")),Ge.plotBorderDashStyle=L=Ze?rt(h,d,c):"none",Ge.showShadow=p?x(qe.showshadow,1):x(qe.showshadow,Ke.getColor("showShadow")),Ge.showHoverEffect=g=x(qe.plothovereffect,qe.showhovereffect,void 0),Ge.definedGroupPadding=Q(x(qe.plotspacepercent),0),Ge.plotSpacePercent=Q(x(qe.plotspacepercent,20)%100,0),Ge.parentYAxis=te="s"===f(je.parentyaxis&&je.parentyaxis.toLowerCase(),"p")?1:0,Ge.dataSeparator=we,Ge.bwCalc=ne=new dt(void 0,st,Ge.dataSeparator),Ge.textDirection="1"===qe.hasrtltext?"rtl":u,Ge.showMeanLegend=Ge.showSDLegend=Ge.showMDLegend=Ge.showQDLegend=Ge.showOutliersLegend=0,!this.components.data&&(this.components.data=[]),nt=this.components.data,re=0;Je>re;re++)if(S=He&&He[re],P=(T=nt[re])&&T.config,T||(T=nt[re]={graphics:{}}),T.config||(P=nt[re].config={}),S.value){if(S.value&&(ne.setArray(S.value),le=ne.getQuartiles(),he=le.q1,ce=le.q3,ue=ne.getMinMax(),P.min=me=ue.min,P.max=fe=ue.max,ve=ne.getMedian(),P.mean=xe=ne.getMean(),P.md=be=ne.getMD(),P.sd=ye=ne.getSD(),P.qd=ke=ne.getQD()),S.outliers&&(P.outliers=S.outliers.split(","),ct=Q(ct,P.outliers.length)),P.showMean=_e=x(S.showmean,Ge.showmean),P.showSD=Ee=x(S.showsd,Ge.showsd),P.showMD=Oe=x(S.showmd,Ge.showmd),P.showQD=Ne=x(S.showqd,Ge.showqd),S.outliers&&(Ge.showOutliersLegend=1),_e&&(Ge.showMeanLegend=1),Ee&&(Ge.showSDLegend=1),Oe&&(Ge.showMDLegend=1),Ne&&(Ge.showQDLegend=1),P.upperQuartile={value:ce,color:ge(f(S.upperquartilecolor,je.upperquartilecolor,qe.upperquartilecolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),x(S.upperquartilealpha,je.upperquartilealpha,qe.upperquartilealpha,qe.plotborderalpha,100)),borderWidth:x(S.upperquartilethickness,je.upperquartilethickness,qe.upperquartilethickness,qe.plotborderthickness,p?0:1),displayValue:st.dataLabels(ce)},P.lowerQuartile={value:he,color:ge(f(S.lowerquartilecolor,je.lowerquartilecolor,qe.lowerquartilecolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),x(S.lowerquartilealpha,je.lowerquartilealpha,qe.lowerquartilealpha,qe.plotborderalpha,100)),borderWidth:x(S.lowerquartilethickness,je.lowerquartilethickness,qe.lowerquartilethickness,qe.plotborderthickness,p?0:1),displayValue:st.dataLabels(he)},P.upperBoxBorder={color:ge(f(S.upperboxbordercolor,je.upperboxbordercolor,qe.upperboxbordercolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),x(S.upperboxborderalpha,je.upperboxborderalpha,qe.upperboxborderalpha,qe.plotborderalpha,100)),borderWidth:x(S.upperboxborderthickness,je.upperboxborderthickness,qe.upperboxborderthickness,!p&&qe.plotborderthickness,p?0:1)},P.lowerBoxBorder={color:ge(f(S.lowerboxbordercolor,je.lowerboxbordercolor,qe.lowerboxbordercolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),x(S.lowerboxborderalpha,je.lowerboxborderalpha,qe.lowerboxborderalpha,qe.plotborderalpha,100)),borderWidth:x(S.lowerboxborderthickness,je.lowerboxborderthickness,qe.lowerboxborderthickness,!p&&qe.plotborderthickness,p?0:1)},P.median={value:ve,color:ge(f(S.mediancolor,je.mediancolor,qe.mediancolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),x(S.medianalpha,je.medianalpha,qe.medianalpha,qe.plotborderalpha,100)),borderWidth:x(S.medianthickness,je.medianthickness,qe.medianthickness,qe.plotborderthickness,1),displayValue:st.dataLabels(ve)},Ge.upperBoxColor=Ae=f(S.upperboxcolor,je.upperboxcolor,qe.upperboxcolor,Ke.getPlotColor(2*Xe)),Le=Ge.upperBoxAlpha=f(S.upperboxalpha,je.upperboxalpha,qe.upperboxalpha,b,Ce),Ge.lowerBoxColor=Se=f(S.lowerboxcolor,je.lowerboxcolor,qe.lowerboxcolor,Ke.getPlotColor(2*Xe+1)),De=Ge.lowerBoxAlpha=f(S.lowerboxalpha,je.lowerboxalpha,qe.lowerboxalpha,b,Ce),P.upperColorArr=t.graphics.getColumnColor(Ae,Le,void 0,void 0,p,A,C.toString(),0,!1),P.lowerColorArr=t.graphics.getColumnColor(Se,De,void 0,void 0,p,A,C.toString(),0,!1),P.showMinValues=Pe?x(S.showminvalues,Ge.showminvalues):0,P.showMaxValues=Pe?x(S.showmaxvalues,Ge.showmaxvalues):0,P.showQ1Values=Pe?x(S.showq1values,Ge.showq1values):0,P.showQ3Values=Pe?x(S.showq3values,Ge.showq3values):0,P.showMedianValues=Pe?x(S.showmedianvalues,Ge.showmedianvalues):0,P.upperWhiskerAlpha=Te=de(f(S.upperwhiskeralpha,je.upperwhiskeralpha,qe.upperwhiskeralpha,qe.plotborderalpha,100)),P.upperWhiskerColor=ge(se(f(S.upperwhiskercolor,je.upperwhiskercolor,qe.upperwhiskercolor,qe.plotbordercolor,Ke.getColor("plotBorderColor"))),Te),P.upperWhiskerThickness=x(S.upperwhiskerthickness,je.upperwhiskerthickness,qe.upperwhiskerthickness,qe.plotborderthickness,1),P.upperWhiskerShadowOpacity=Ge.showShadow?Te/250:0,P.lowerWhiskerAlpha=Ie=de(f(S.lowerwhiskeralpha,je.lowerwhiskeralpha,qe.lowerwhiskeralpha,qe.plotborderalpha,100)),P.lowerWhiskerColor=ge(se(f(S.lowerwhiskercolor,je.lowerwhiskercolor,qe.lowerwhiskercolor,qe.plotbordercolor,Ke.getColor("plotBorderColor"))),Ie),P.lowerWhiskerThickness=x(S.lowerwhiskerthickness,je.lowerwhiskerthickness,qe.lowerwhiskerthickness,qe.plotborderthickness,1),P.lowerWhiskerShadowOpacity=Ge.showShadow?Ie/250:0,P.showValue=x(S.showvalue,Ge.showvalues),P.setValue=D=st.getCleanValue(S.value),P.setLink=f(S.link),P.toolTipValue=$=st.dataLabels(D,te),P.setDisplayValue=ee=et(S.displayvalue),P.displayValue=f(ee,$),ae=x(S.dashed),oe=x(S.dashlen,h),ie=d=x(S.dashgap,d),lt=Q(lt,fe),ht=X(ht,me),Be&&S.outliers)for(Me=0;Me<P.outliers.length;Me++)lt=Q(lt,P.outliers[Me]),ht=X(ht,P.outliers[Me]);P.plotBorderDashStyle=1===ae?rt(oe,ie,c):0===ae?"none":L,Ye?(Qe=Ke.getPlotColor(re),Qe=f(S.color,Qe),y=f(S.ratio,Ge.ratio)):Qe=f(S.color,Ge.plotColor),b=f(S.alpha,Ge.plotfillalpha),0>D&&!p&&(s=m,m=360-m),P.colorArr=t.graphics.getColumnColor(Qe+","+w,b,y,m,p,A,C.toString(),0,!1),P.label=V=v(et(f(ze[re].tooltext,ze[re].label))),0!==g&&(I=f(S.upperboxhovercolor,je.upperboxhovercolor,qe.upperboxhovercolor,Ae),_=f(S.upperboxhoveralpha,je.upperboxhoveralpha,qe.upperboxhoveralpha,Le),E=f(S.upperboxborderhovercolor,je.upperboxborderhovercolor,qe.upperboxborderhovercolor,S.upperboxbordercolor,je.upperboxbordercolor,qe.upperboxbordercolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),O=f(S.upperboxborderhoveralpha,je.upperboxborderhoveralpha,qe.upperboxborderhoveralpha,S.upperboxborderalpha,je.upperboxborderalpha,qe.upperboxborderalpha,qe.plotborderalpha,100),N=p?0:f(S.upperboxborderhoverthickness,je.upperboxborderhoverthickness,qe.upperboxborderhoverthickness,P.upperBoxBorder.borderWidth),F=f(S.lowerboxhovercolor,je.lowerboxhovercolor,qe.lowerboxhovercolor,Se),R=f(S.lowerboxhoveralpha,je.lowerboxhoveralpha,qe.lowerboxhoveralpha,De),M=f(S.lowerboxborderhovercolor,je.lowerboxborderhovercolor,qe.lowerboxborderhovercolor,S.lowerboxbordercolor,je.lowerboxbordercolor,qe.lowerboxbordercolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),W=f(S.lowerboxborderhoveralpha,je.lowerboxborderhoveralpha,qe.lowerboxborderhoveralpha,S.lowerboxborderalpha,je.lowerboxborderalpha,qe.lowerboxborderalpha,qe.plotborderalpha,100),G=p?0:f(S.lowerboxborderhoverthickness,je.lowerboxborderhoverthickness,qe.lowerboxborderhoverthickness,P.lowerBoxBorder.borderWidth),j=f(S.upperquartilehovercolor,je.upperquartilehovercolor,qe.upperquartilehovercolor,S.upperquartilecolor,je.upperquartilecolor,qe.upperquartilecolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),H=f(S.upperquartilehoveralpha,je.upperquartilehoveralpha,qe.upperquartilehoveralpha,S.upperquartilealpha,je.upperquartilealpha,qe.upperquartilealpha,qe.plotborderalpha,100),z=f(S.upperquartilehoverthickness,je.upperquartilehoverthickness,qe.upperquartilehoverthickness,P.upperQuartile.borderWidth),Y=f(S.lowerquartilehovercolor,je.lowerquartilehovercolor,qe.lowerquartilehovercolor,S.lowerquartilecolor,je.lowerquartilecolor,qe.lowerquartilecolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),U=f(S.lowerquartilehoveralpha,je.lowerquartilehoveralpha,qe.lowerquartilehoveralpha,S.lowerquartilealpha,je.lowerquartilealpha,qe.lowerquartilealpha,qe.plotborderalpha,100),J=f(S.lowerquartilehoverthickness,je.lowerquartilehoverthickness,qe.lowerquartilehoverthickness,P.lowerQuartile.borderWidth),q=f(S.medianhovercolor,je.medianhovercolor,qe.medianhovercolor,S.mediancolor,je.mediancolor,qe.mediancolor,qe.plotbordercolor,Ke.getColor("plotBorderColor")),K=f(S.medianhoveralpha,je.medianhoveralpha,qe.medianhoveralpha,S.medianalpha,je.medianalpha,qe.medianalpha,qe.plotborderalpha,100),Z=f(S.medianhoverthickness,je.medianhoverthickness,qe.medianhoverthickness,P.median.borderWidth),1==g&&(Ae===I&&(I=pe(I,70)),Se===F&&(F=pe(F,70))),P.upperBoxHoverColorArr=t.graphics.getColumnColor(I,_,void 0,void 0,p,A,C.toString(),0,!1),P.lowerBoxHoverColorArr=t.graphics.getColumnColor(F,R,void 0,void 0,p,A,C.toString(),0,!1),P.setUpperBoxRolloutAttr={fill:k(P.upperColorArr[0])},P.setUpperBoxRolloverAttr={fill:k(P.upperBoxHoverColorArr[0])},P.setLowerBoxRolloutAttr={fill:k(P.lowerColorArr[0])},P.setLowerBoxRolloverAttr={fill:k(P.lowerBoxHoverColorArr[0])},P.setUpperBoxBorderRolloverAttr={stroke:ge(E,O),"stroke-width":N},P.setUpperBoxBorderRolloutAttr={stroke:P.upperBoxBorder.color,"stroke-width":P.upperBoxBorder.borderWidth},P.setLowerBoxBorderRolloverAttr={stroke:ge(M,W),"stroke-width":G},P.setLowerBoxBorderRolloutAttr={stroke:P.lowerBoxBorder.color,"stroke-width":P.lowerBoxBorder.borderWidth},P.setUpperQuartileRolloverAttr={stroke:ge(j,H),"stroke-width":z},P.setUpperQuartileRolloutAttr={stroke:P.upperQuartile.color,"stroke-width":P.upperQuartile.borderWidth},P.setLowerQuartileRolloverAttr={stroke:ge(Y,U),"stroke-width":J},P.setLowerQuartileRolloutAttr={stroke:P.lowerQuartile.color,"stroke-width":P.lowerQuartile.borderWidth},P.setMedianRolloverAttr={stroke:ge(q,K),"stroke-width":Z},P.setMedianRolloutAttr={stroke:P.median.color,"stroke-width":P.median.borderWidth}),o=P.toolTipValue,r=v(et(f(S.tooltext,je.plottooltext,qe.plottooltext))),a?null===o?l=!1:void 0!==r?(n=[1,2,3,4,5,6,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],i={maxValue:fe,maxDataValue:st.dataLabels(fe),minValue:me,minDataValue:st.dataLabels(me),Q1:st.dataLabels(he),unformattedQ1:he,Q3:st.dataLabels(ce),unformattedQ3:ce,median:st.dataLabels(ve),unformattedMedian:ve,SD:st.dataLabels(ye),unformattedsd:ye,QD:st.dataLabels(ke),unformattedQD:ke,MD:st.dataLabels(be),unformattedMD:be,mean:st.dataLabels(xe),unformattedMean:xe,label:V,yaxisName:tt,xaxisName:at,formattedValue:o,value:V},l=it(r,n,i,S,qe,je)):l="<b>Maximum"+ot+"</b>"+st.dataLabels(fe)+"<br /><b>Q3"+ot+"</b>"+st.dataLabels(ce)+"<br /><b>Median"+ot+"</b>"+st.dataLabels(ve)+"<br /><b>Q1"+ot+"</b>"+st.dataLabels(he)+"<br /><b>Minimum"+ot+"</b>"+st.dataLabels(me):l=!1,P.toolText=l,P.setTooltext=l,s&&(m=s)}for(Ge.maxNumberOfOutliers=ct,Ge.maxValue=lt,Ge.minValue=ht,Be||(Ve=lt-ht,Ge.maxValue+=Ge.outliersupperrangeratio*Ve,Ge.minValue-=Ge.outlierslowerrangeratio*Ve),!1!==We.hasLegend&&this._addLegend(),this.subDS=0,this.components.mean=this._createSubDS(0,"Mean"),Ge.showMeanLegend&&this._addLegendSubDS(this.components.mean),Ge.showMeanLegend&&(this.subDS+=1),this.components.sd=this._createSubDS(1,"SD"),Ge.showSDLegend&&this._addLegendSubDS(this.components.sd),Ge.showSDLegend&&(this.subDS+=1),this.components.md=this._createSubDS(2,"MD"),Ge.showMDLegend&&this._addLegendSubDS(this.components.md),Ge.showMDLegend&&(this.subDS+=1),this.components.qd=this._createSubDS(3,"QD"),Ge.showQDLegend&&this._addLegendSubDS(this.components.qd),Ge.showQDLegend&&(this.subDS+=1),!this.components.outliers&&(this.components.outliers=[]),Re=this.config.maxNumberOfOutliers||this.components.outliers.length,re=0;Re>re;re++)Fe=this._createSubDS(4+re,"Outliers",re),this.components.outliers[re]=Fe;Ge.showOutliersLegend&&this._addLegendOutliers(this.components.outliers),Ge.showOutliersLegend&&(this.subDS+=1)},_createSubDS:function(e,t,a){var o,i,r=this.chart,n=r.jsonData.dataset,s=n&&n.length,l=this.components,n=r.components.legend,h={},l=l.dataset||(l.dataset=[]),s=s*(e+1)+this.index;switch(l[e]?(i=l[e],i.index=s,r=w({},this.JSONData),i.JSONData=r):(o=FusionCharts.get("component",["dataset","subDS"]))&&(void 0===h.subDS?h.subDS=0:h.subDS++,i=new o,i.chart=r,i.index=s,l.push(i),r=w({},this.JSONData),this.initSubDataset(r,i),i.name=t),e){case 0:this.configureMean(i),!this.config.showMeanLegend&&n.removeItem(i.legendItemId);break;case 1:this.configureSD(i),!this.config.showQDLegend&&n.removeItem(i.legendItemId);break;case 2:this.configureMD(i),!this.config.showMDLegend&&n.removeItem(i.legendItemId);break;case 3:this.configureQD(i),!this.config.showQDLegend&&n.removeItem(i.legendItemId);break;default:this.configureOutliers(i,a),!this.config.showOutliersLegend&&n.removeItem(this.components.outliers.legendItemId)}return i},configureMean:function(e){var a,o,i,r,n=e.chart,s=n.components,l=t.parseUnsafeString,d=e.config,c=e.JSONData,p=n.jsonData.chart,g=s.colorManager,u=e.index||e.stackIndex,m=e.type,b=!n.singleseries||v(p.palettecolors)?g.getPlotColor(u):g.getColor("plotFillColor").split(/\s*\,\s*/)[0],u=c.data,y=n.config.categories,y=X(y&&y.length,u&&u.length),w=s.numberFormatter,C=n.use3dlineshift,k=-(1/0),A=1/0,L=f(p.tooltipsepchar,": "),S=x(c.dashed,p.linedashed);for(r=n.isStacked,a=n.hasLineSet,s=s.xAxis[0],e.visible=1===x(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),d.use3dlineshift=void 0!==C?x(p.use3dlineshift,C):1,d.plotColor=b,d.legendSymbolColor=d.plotColor,n=x(n.defaultPlotShadow,g.getColor("showShadow")),d.drawFullAreaBorder=x(p.drawfullareaborder,1),d.parentYAxis=i=a?1:"s"===f(c.parentyaxis&&c.parentyaxis.toLowerCase(),"p")?1:0,d.connectNullData=x(p.connectnulldata,0),d.enableAnimation=g=x(p.animation,p.defaultanimation,1),d.animation=g?{duration:1e3*x(p.animationduration,1)}:!1,d.transposeanimation=x(p.transposeanimation,g),d.transposeanimduration=1e3*x(p.transposeanimduration,.2),d.showValues=0,d.valuePadding=x(p.valuepadding,2),d.valuePosition=f(c.valueposition,p.valueposition,"auto"),d.stack100Percent=g=x(p.stack100percent,0),d.showPercentValues=x(p.showpercentvalues,r&&g?1:0),d.showPercentInToolTip=x(p.showpercentintooltip,r&&g?1:0),d.showTooltip=x(p.showtooltip,1),d.seriesNameInTooltip=x(p.seriesnameintooltip,1),d.showHoverEffect=x(p.plothovereffect,p.anchorhovereffect,p.showhovereffect,void 0),d.rotateValues=x(p.rotatevalues)?270:0,d.lineThickness=x(c.linethickness,p.linethickness,1),d.lineDashLen=x(c.linedashlen,p.linedashlen,5),d.lineDashGap=x(c.linedashgap,p.linedashgap,4),d.drawLine=d.lineAlpha=x(p.drawmeanconnector,c.drawmeanconnector,0)&&100,r=t.getDashStyle(d.lineDashLen,d.lineDashGap,d.lineThickness),d.lineDashStyle=S?r:"none",d.shadow={opacity:x(p.showshadow,n)?m===h?d.lineAlpha/100:d.plotBorderAlpha/100:0},d.drawAnchors=x(c.drawanchors,c.showanchors,p.drawanchors,p.showanchors),d.anchorBgColor=f(c.meaniconcolor,p.meaniconcolor,"000000"),d.anchorBorderColor="000000",d.anchorRadius=x(c.meaniconradius,p.meaniconradius,5),d.anchorAlpha=f(c.alpha,c.meaniconalpha,p.meaniconalpha),d.anchorBgAlpha=f(c.meaniconalpha,p.meaniconalpha,100),d.anchorBorderThickness=f(c.anchorborderthickness,p.anchorborderthickness,1),d.anchorSides=f(c.meaniconsides,p.meaniconsides,3),d.lineColor=d.anchorBgColor,d.minimizeTendency=x(p.minimizetendency,p.minimisetendency,0),d.anchorImageUrl=f(c.anchorimageurl,p.anchorimageurl),d.anchorImageAlpha=x(c.anchorimagealpha,p.anchorimagealpha,100),d.anchorImageScale=x(c.anchorimagescale,p.anchorimagescale,100),d.anchorImagePadding=x(c.anchorimagepadding,p.anchorimagepadding,1),d.anchorStartAngle=x(c.anchorstartangle,p.anchorstartangle,90),d.anchorShadow=x(c.anchorshadow,p.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,b=0;y>b;b++)a=u&&u[b],m=n[b]=n[b]||{},m.config=m.config||{},g=m.config,C=this.components.data[b].config,a.value=C.showMean?C.mean:null,g.x=this.components.data[b]._xPos,g.setValue=C=w.getCleanValue(a.value),g.setLink=f(a.link),g.anchorProps=this._parseAnchorProperties(b,e,"mean"),
o=s.getLabel(b),g.label=t.getValidValue(l(f(o.tooltext,o.label,o.name))),g.showValue=0,g.dashed=x(a.dashed,S),g.color=f(a.color,d.lineColor),g.alpha=f(a.alpha,a.linealpha,d.lineAlpha),k=Q(k,C),A=X(A,C),g.dashStyle=g.dashed?r:"none",g.toolTipValue=C=w.dataLabels(C,i),g.setDisplayValue=o=l(a.displayvalue),g.displayValue=f(o,C),g.formatedVal=g.toolTipValue,g.setTooltext=t.getValidValue(l(f(a.tooltext,c.plottooltext,p.plottooltext))),a=f(a.meaniconshape,c.meaniconshape,p.meaniconshape,"polygon"),d.dip=g.dip="polygon"===a?0:"spoke"===a?1:0,a=d.showTooltip?"<b>Mean"+L+"</b>":!1,g.toolText=a,g.setTooltext=a,m?m.graphics||(n[b].graphics={}):n[b]={graphics:{}},g.hoverEffects={enabled:!1};d.maxValue=k,d.minValue=A},configureSD:function(e){var a,o,i,r,n=e.chart,s=n.components,l=t.parseUnsafeString,d=e.config,c=e.JSONData,p=n.jsonData.chart,g=s.colorManager,u=e.index||e.stackIndex,m=e.type,b=!n.singleseries||v(p.palettecolors)?g.getPlotColor(u):g.getColor("plotFillColor").split(/\s*\,\s*/)[0],u=c.data,y=n.config.categories,y=X(y&&y.length,u&&u.length),w=s.numberFormatter,C=n.use3dlineshift,k=-(1/0),A=1/0,L=f(p.tooltipsepchar,": "),S=x(c.dashed,p.linedashed);for(r=n.isStacked,a=n.hasLineSet,s=s.xAxis[0],e.visible=1===x(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),d.use3dlineshift=void 0!==C?x(p.use3dlineshift,C):1,d.plotColor=b,d.legendSymbolColor=d.plotColor,n=x(n.defaultPlotShadow,g.getColor("showShadow")),d.drawFullAreaBorder=x(p.drawfullareaborder,1),d.parentYAxis=i=a?1:"s"===f(c.parentyaxis&&c.parentyaxis.toLowerCase(),"p")?1:0,d.connectNullData=x(p.connectnulldata,0),d.enableAnimation=g=x(p.animation,p.defaultanimation,1),d.animation=g?{duration:1e3*x(p.animationduration,1)}:!1,d.transposeanimation=x(p.transposeanimation,g),d.transposeanimduration=1e3*x(p.transposeanimduration,.2),d.showValues=0,d.valuePadding=x(p.valuepadding,2),d.valuePosition=f(c.valueposition,p.valueposition,"auto"),d.stack100Percent=g=x(p.stack100percent,0),d.showPercentValues=x(p.showpercentvalues,r&&g?1:0),d.showPercentInToolTip=x(p.showpercentintooltip,r&&g?1:0),d.showTooltip=x(p.showtooltip,1),d.seriesNameInTooltip=x(p.seriesnameintooltip,1),d.showHoverEffect=x(p.plothovereffect,p.anchorhovereffect,p.showhovereffect,void 0),d.rotateValues=x(p.rotatevalues)?270:0,d.lineThickness=x(c.linethickness,p.linethickness,1),d.lineDashLen=x(c.linedashlen,p.linedashlen,5),d.lineDashGap=x(c.linedashgap,p.linedashgap,4),d.drawLine=d.lineAlpha=x(p.drawsdconnector,c.drawsdconnector,0)&&100,r=t.getDashStyle(d.lineDashLen,d.lineDashGap,d.lineThickness),d.lineDashStyle=S?r:"none",d.shadow={opacity:x(p.showshadow,n)?m===h?d.lineAlpha/100:d.plotBorderAlpha/100:0},d.drawAnchors=x(c.drawanchors,c.showanchors,p.drawanchors,p.showanchors),d.anchorBgColor=f(c.sdiconcolor,p.sdiconcolor,"000000"),d.anchorBorderColor="000000",d.anchorRadius=x(c.sdiconradius,p.sdiconradius,5),d.anchorAlpha=f(c.alpha,c.sdiconalpha,p.sdiconalpha),d.anchorBgAlpha=f(c.sdiconalpha,p.sdiconalpha,100),d.anchorBorderThickness=f(c.anchorborderthickness,p.anchorborderthickness,1),d.anchorSides=f(c.sdiconsides,p.sdiconsides,3),d.lineColor=d.anchorBgColor,d.minimizeTendency=x(p.minimizetendency,p.minimisetendency,0),d.anchorImageUrl=f(c.anchorimageurl,p.anchorimageurl),d.anchorImageAlpha=x(c.anchorimagealpha,p.anchorimagealpha,100),d.anchorImageScale=x(c.anchorimagescale,p.anchorimagescale,100),d.anchorImagePadding=x(c.anchorimagepadding,p.anchorimagepadding,1),d.anchorStartAngle=x(c.anchorstartangle,p.anchorstartangle,90),d.anchorShadow=x(c.anchorshadow,p.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,b=0;y>b;b++)a=u&&u[b],m=n[b]=n[b]||{},m.config=m.config||{},g=m.config,C=this.components.data[b].config,a.value=C.showSD?C.sd:null,g.x=this.components.data[b]._xPos,g.setValue=C=w.getCleanValue(a.value),g.setLink=f(a.link),g.anchorProps=this._parseAnchorProperties(b,e,"sd"),o=s.getLabel(b),g.label=t.getValidValue(l(f(o.tooltext,o.label,o.name))),g.showValue=0,g.dashed=x(a.dashed,S),g.color=f(a.color,d.lineColor),g.alpha=f(a.alpha,a.linealpha,d.lineAlpha),k=Q(k,C),A=X(A,C),g.dashStyle=g.dashed?r:"none",g.toolTipValue=C=w.dataLabels(C,i),g.setDisplayValue=o=l(a.displayvalue),g.displayValue=f(o,C),g.formatedVal=C=g.toolTipValue,g.setTooltext=t.getValidValue(l(f(a.tooltext,c.plottooltext,p.plottooltext))),a=f(a.sdiconshape,c.sdiconshape,p.sdiconshape,"polygon"),d.dip=g.dip="polygon"===a?0:"spoke"===a?1:0,a=d.showTooltip?null===C?!1:"<b>SD"+L+"</b>":!1,g.toolText=a,g.setTooltext=a,m?m.graphics||(n[b].graphics={}):n[b]={graphics:{}},g.hoverEffects={enabled:!1};d.maxValue=k,d.minValue=A},configureMD:function(e){var a,o,i,r,n=e.chart,s=n.components,l=t.parseUnsafeString,d=e.config,c=e.JSONData,p=n.jsonData.chart,g=s.colorManager,u=e.index||e.stackIndex,m=e.type,b=!n.singleseries||v(p.palettecolors)?g.getPlotColor(u):g.getColor("plotFillColor").split(/\s*\,\s*/)[0],u=c.data,y=n.config.categories,y=X(y&&y.length,u&&u.length),w=s.numberFormatter,C=n.use3dlineshift,k=-(1/0),A=1/0,L=f(p.tooltipsepchar,": "),S=x(c.dashed,p.linedashed);for(r=n.isStacked,a=n.hasLineSet,s=s.xAxis[0],e.visible=1===x(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),d.use3dlineshift=void 0!==C?x(p.use3dlineshift,C):1,d.plotColor=b,d.legendSymbolColor=d.plotColor,n=x(n.defaultPlotShadow,g.getColor("showShadow")),d.drawFullAreaBorder=x(p.drawfullareaborder,1),d.parentYAxis=i=a?1:"s"===f(c.parentyaxis&&c.parentyaxis.toLowerCase(),"p")?1:0,d.connectNullData=x(p.connectnulldata,0),d.enableAnimation=g=x(p.animation,p.defaultanimation,1),d.animation=g?{duration:1e3*x(p.animationduration,1)}:!1,d.transposeanimation=x(p.transposeanimation,g),d.transposeanimduration=1e3*x(p.transposeanimduration,.2),d.showValues=0,d.valuePadding=x(p.valuepadding,2),d.valuePosition=f(c.valueposition,p.valueposition,"auto"),d.stack100Percent=g=x(p.stack100percent,0),d.showPercentValues=x(p.showpercentvalues,r&&g?1:0),d.showPercentInToolTip=x(p.showpercentintooltip,r&&g?1:0),d.showTooltip=x(p.showtooltip,1),d.seriesNameInTooltip=x(p.seriesnameintooltip,1),d.showHoverEffect=x(p.plothovereffect,p.anchorhovereffect,p.showhovereffect,void 0),d.rotateValues=x(p.rotatevalues)?270:0,d.lineThickness=x(c.linethickness,p.linethickness,1),d.lineDashLen=x(c.linedashlen,p.linedashlen,5),d.lineDashGap=x(c.linedashgap,p.linedashgap,4),d.drawLine=d.lineAlpha=x(p.drawmdconnector,c.drawmdconnector,0)&&100,r=t.getDashStyle(d.lineDashLen,d.lineDashGap,d.lineThickness),d.lineDashStyle=S?r:"none",d.shadow={opacity:x(p.showshadow,n)?m===h?d.lineAlpha/100:d.plotBorderAlpha/100:0},d.drawAnchors=x(c.drawanchors,c.showanchors,p.drawanchors,p.showanchors),d.anchorBgColor=f(c.mdiconcolor,p.mdiconcolor,"000000"),d.anchorBorderColor="000000",d.anchorRadius=x(c.mdiconradius,p.mdiconradius,5),d.anchorAlpha=f(c.alpha,c.mdiconalpha,p.mdiconalpha),d.anchorBgAlpha=f(c.mdiconalpha,p.mdiconalpha,100),d.anchorBorderThickness=f(c.anchorborderthickness,p.anchorborderthickness,1),d.anchorSides=f(c.mdiconsides,p.mdiconsides,3),d.lineColor=d.anchorBgColor,d.minimizeTendency=x(p.minimizetendency,p.minimisetendency,0),d.anchorImageUrl=f(c.anchorimageurl,p.anchorimageurl),d.anchorImageAlpha=x(c.anchorimagealpha,p.anchorimagealpha,100),d.anchorImageScale=x(c.anchorimagescale,p.anchorimagescale,100),d.anchorImagePadding=x(c.anchorimagepadding,p.anchorimagepadding,1),d.anchorStartAngle=x(c.anchorstartangle,p.anchorstartangle,90),d.anchorShadow=x(c.anchorshadow,p.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,b=0;y>b;b++)a=u&&u[b],m=n[b]=n[b]||{},m.config=m.config||{},g=m.config,C=this.components.data[b].config,a.value=C.showMD?C.md:null,g.x=this.components.data[b]._xPos,g.setValue=C=w.getCleanValue(a.value),g.setLink=f(a.link),g.anchorProps=this._parseAnchorProperties(b,e,"md"),o=s.getLabel(b),g.label=t.getValidValue(l(f(o.tooltext,o.label,o.name))),g.showValue=0,g.dashed=x(a.dashed,S),g.color=f(a.color,d.lineColor),g.alpha=f(a.alpha,a.linealpha,d.lineAlpha),k=Q(k,C),A=X(A,C),g.dashStyle=g.dashed?r:"none",g.toolTipValue=C=w.dataLabels(C,i),g.setDisplayValue=o=l(a.displayvalue),g.displayValue=f(o,C),g.formatedVal=g.toolTipValue,g.setTooltext=t.getValidValue(l(f(a.tooltext,c.plottooltext,p.plottooltext))),a=f(a.mdiconshape,c.mdiconshape,p.mdiconshape,"polygon"),d.dip=g.dip="polygon"===a?0:"spoke"===a?1:0,a=d.showTooltip?"<b>MD"+L+"</b>":!1,g.toolText=a,g.setTooltext=a,m?m.graphics||(n[b].graphics={}):n[b]={graphics:{}},g.hoverEffects={enabled:!1};d.maxValue=k,d.minValue=A},configureQD:function(e){var a,o,i,r,n=e.chart,s=n.components,l=t.parseUnsafeString,d=e.config,c=e.JSONData,p=n.jsonData.chart,g=s.colorManager,u=e.index||e.stackIndex,m=e.type,b=!n.singleseries||v(p.palettecolors)?g.getPlotColor(u):g.getColor("plotFillColor").split(/\s*\,\s*/)[0],u=c.data,y=n.config.categories,y=X(y&&y.length,u&&u.length),w=s.numberFormatter,C=n.use3dlineshift,k=-(1/0),A=1/0,L=f(p.tooltipsepchar,": "),S=x(c.dashed,p.linedashed);for(r=n.isStacked,a=n.hasLineSet,s=s.xAxis[0],e.visible=1===x(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),d.use3dlineshift=void 0!==C?x(p.use3dlineshift,C):1,d.plotColor=b,d.legendSymbolColor=d.plotColor,n=x(n.defaultPlotShadow,g.getColor("showShadow")),d.drawFullAreaBorder=x(p.drawfullareaborder,1),d.parentYAxis=i=a?1:"s"===f(c.parentyaxis&&c.parentyaxis.toLowerCase(),"p")?1:0,d.connectNullData=x(p.connectnulldata,0),d.enableAnimation=g=x(p.animation,p.defaultanimation,1),d.animation=g?{duration:1e3*x(p.animationduration,1)}:!1,d.transposeanimation=x(p.transposeanimation,g),d.transposeanimduration=1e3*x(p.transposeanimduration,.2),d.showValues=0,d.valuePadding=x(p.valuepadding,2),d.valuePosition=f(c.valueposition,p.valueposition,"auto"),d.stack100Percent=g=x(p.stack100percent,0),d.showPercentValues=x(p.showpercentvalues,r&&g?1:0),d.showPercentInToolTip=x(p.showpercentintooltip,r&&g?1:0),d.showTooltip=x(p.showtooltip,1),d.seriesNameInTooltip=x(p.seriesnameintooltip,1),d.showHoverEffect=x(p.plothovereffect,p.anchorhovereffect,p.showhovereffect,void 0),d.rotateValues=x(p.rotatevalues)?270:0,d.lineThickness=x(c.linethickness,p.linethickness,1),d.lineDashLen=x(c.linedashlen,p.linedashlen,5),d.lineDashGap=x(c.linedashgap,p.linedashgap,4),d.drawLine=d.lineAlpha=x(p.drawqdconnector,c.drawqdconnector,0)&&100,r=t.getDashStyle(d.lineDashLen,d.lineDashGap,d.lineThickness),d.lineDashStyle=S?r:"none",d.shadow={opacity:x(p.showshadow,n)?m===h?d.lineAlpha/100:d.plotBorderAlpha/100:0},d.drawAnchors=x(c.drawanchors,c.showanchors,p.drawanchors,p.showanchors),d.anchorBgColor=f(c.qdiconcolor,p.qdiconcolor,"000000"),d.anchorBorderColor="000000",d.anchorRadius=x(c.qdiconradius,p.qdiconradius,5),d.anchorAlpha=f(c.alpha,c.qdiconalpha,p.qdiconalpha),d.anchorBgAlpha=f(c.qdiconalpha,p.qdiconalpha,100),d.anchorBorderThickness=f(c.anchorborderthickness,p.anchorborderthickness,1),d.anchorSides=f(c.qdiconsides,p.qdiconsides,3),d.lineColor=d.anchorBgColor,d.minimizeTendency=x(p.minimizetendency,p.minimisetendency,0),d.anchorImageUrl=f(c.anchorimageurl,p.anchorimageurl),d.anchorImageAlpha=x(c.anchorimagealpha,p.anchorimagealpha,100),d.anchorImageScale=x(c.anchorimagescale,p.anchorimagescale,100),d.anchorImagePadding=x(c.anchorimagepadding,p.anchorimagepadding,1),d.anchorStartAngle=x(c.anchorstartangle,p.anchorstartangle,90),d.anchorShadow=x(c.anchorshadow,p.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,b=0;y>b;b++)a=u&&u[b],m=n[b]=n[b]||{},m.config=m.config||{},g=m.config,C=this.components.data[b].config,a.value=C.showQD?C.qd:null,g.x=this.components.data[b]._xPos,g.setValue=C=w.getCleanValue(a.value),g.setLink=f(a.link),g.anchorProps=this._parseAnchorProperties(b,e,"qd"),o=s.getLabel(b),g.label=t.getValidValue(l(f(o.tooltext,o.label,o.name))),g.showValue=0,g.dashed=x(a.dashed,S),g.color=f(a.color,d.lineColor),g.alpha=f(a.alpha,a.linealpha,d.lineAlpha),k=Q(k,C),A=X(A,C),g.dashStyle=g.dashed?r:"none",g.toolTipValue=C=w.dataLabels(C,i),g.setDisplayValue=o=l(a.displayvalue),g.displayValue=f(o,C),g.formatedVal=C=g.toolTipValue,g.setTooltext=t.getValidValue(l(f(a.tooltext,c.plottooltext,p.plottooltext))),a=f(a.qdiconshape,c.qdiconshape,p.qdiconshape,"polygon"),d.dip=g.dip="polygon"===a?0:"spoke"===a?1:0,a=d.showTooltip?null===C?!1:"<b>QD"+L+"</b>":!1,g.toolText=a,g.setTooltext=a,m?m.graphics||(n[b].graphics={}):n[b]={graphics:{}},g.hoverEffects={enabled:!1};d.maxValue=k,d.minValue=A},configureOutliers:function(e,a){var o,i,r,n,s=e.chart,l=s.components,d=t.parseUnsafeString,c=e.config,p=e.JSONData,g=s.jsonData.chart,u=l.colorManager,m=e.index||e.stackIndex,b=e.type,y=!s.singleseries||v(g.palettecolors)?u.getPlotColor(m):u.getColor("plotFillColor").split(/\s*\,\s*/)[0],m=p.data,w=s.config.categories,w=X(w&&w.length,m&&m.length),C=l.numberFormatter,k=s.use3dlineshift,A=-(1/0),L=1/0,S=f(g.tooltipsepchar,": "),D=x(p.dashed,g.linedashed);for(n=s.isStacked,o=s.hasLineSet,l=l.xAxis[0],e.visible=1===x(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),c.use3dlineshift=void 0!==k?x(g.use3dlineshift,k):1,c.plotColor=y,c.legendSymbolColor=c.plotColor,s=x(s.defaultPlotShadow,u.getColor("showShadow")),c.drawFullAreaBorder=x(g.drawfullareaborder,1),c.parentYAxis=r=o?1:"s"===f(p.parentyaxis&&p.parentyaxis.toLowerCase(),"p")?1:0,c.connectNullData=x(g.connectnulldata,0),c.enableAnimation=u=x(g.animation,g.defaultanimation,1),c.animation=u?{duration:1e3*x(g.animationduration,1)}:!1,c.transposeanimation=x(g.transposeanimation,u),c.transposeanimduration=1e3*x(g.transposeanimduration,.2),c.showValues=0,c.valuePadding=x(g.valuepadding,2),c.valuePosition=f(p.valueposition,g.valueposition,"auto"),c.stack100Percent=u=x(g.stack100percent,0),c.showPercentValues=x(g.showpercentvalues,n&&u?1:0),c.showPercentInToolTip=x(g.showpercentintooltip,n&&u?1:0),c.showTooltip=x(g.showtooltip,1),c.seriesNameInTooltip=x(g.seriesnameintooltip,1),c.showHoverEffect=x(g.plothovereffect,g.anchorhovereffect,g.showhovereffect,void 0),c.rotateValues=x(g.rotatevalues)?270:0,c.lineThickness=x(p.linethickness,g.linethickness,1),c.lineDashLen=x(p.linedashlen,g.linedashlen,5),c.lineDashGap=x(p.linedashgap,g.linedashgap,4),c.lineAlpha=0,n=t.getDashStyle(c.lineDashLen,c.lineDashGap,c.lineThickness),c.lineDashStyle=D?n:"none",c.shadow={opacity:x(g.showshadow,s)?b===h?c.lineAlpha/100:c.plotBorderAlpha/100:0},c.drawAnchors=x(p.drawanchors,p.showanchors,g.drawanchors,g.showanchors),c.anchorBgColor=f(p.outliericoncolor,g.outliericoncolor,"000000"),c.anchorBorderColor="000000",c.anchorRadius=x(p.outliericonradius,g.outliericonradius,5),c.anchorAlpha=f(p.alpha,p.outliericonalpha,g.outliericonalpha),c.anchorBgAlpha=f(p.outliericonalpha,g.outliericonalpha,100),c.anchorBorderThickness=f(p.anchorborderthickness,g.anchorborderthickness,1),c.anchorSides=f(p.outliericonsides,g.outliericonsides,3),c.lineColor=c.anchorBgColor,c.minimizeTendency=x(g.minimizetendency,g.minimisetendency,0),c.anchorImageUrl=f(p.anchorimageurl,g.anchorimageurl),c.anchorImageAlpha=x(p.anchorimagealpha,g.anchorimagealpha,100),c.anchorImageScale=x(p.anchorimagescale,g.anchorimagescale,100),c.anchorImagePadding=x(p.anchorimagepadding,g.anchorimagepadding,1),c.anchorStartAngle=x(p.anchorstartangle,g.anchorstartangle,90),c.anchorShadow=x(p.anchorshadow,g.anchorshadow,0),!e.components.data&&(e.components.data=[]),s=e.components.data,y=0;w>y;y++)o=m&&m[y],b=s[y]=s[y]||{},b.config=b.config||{},u=b.config,i=this.components.data[y].config,o.value=i.outliers?i.outliers[a]:null,u.x=this.components.data[y]._xPos,u.setValue=k=C.getCleanValue(o.value),k>=i.min&&k<=i.max&&(u.setValue=o.value=null),u.setLink=f(o.link),u.anchorProps=this._parseAnchorProperties(y,e,"outlier"),i=l.getLabel(y),u.label=t.getValidValue(d(f(i.tooltext,i.label,i.name))),u.showValue=0,u.dashed=x(o.dashed,D),u.color=f(o.color,c.lineColor),u.alpha=f(o.alpha,o.linealpha,c.lineAlpha),A=Q(A,k),L=X(L,k),u.dashStyle=u.dashed?n:"none",u.toolTipValue=k=C.dataLabels(k,r),u.setDisplayValue=i=d(o.displayvalue),u.displayValue=f(i,k),u.formatedVal=k=u.toolTipValue,u.setTooltext=t.getValidValue(d(f(o.tooltext,p.plottooltext,g.plottooltext))),o=f(o.outliericonshape,p.outliericonshape,g.outliericonshape,"polygon"),c.dip=u.dip="polygon"===o?0:"spoke"===o?1:0,o=c.showTooltip?null===k?!1:"<b>Outlier"+S+"</b>":!1,u.toolText=o,u.setTooltext=o,b?b.graphics||(s[y].graphics={}):s[y]={graphics:{}},u.hoverEffects={enabled:!1};c.maxValue=A,c.minValue=L},initSubDataset:function(e,t){var a=t.chart,o=a.components,i=a.hasLineSet,i=e.parentyaxis&&"s"===e.parentyaxis.toLowerCase()||i?1:0;t.chart=a,t.yAxis=o.yAxis[i],t.components={},t.graphics={},t.JSONData=e},_parseAnchorProperties:function(e,a,o){var i=a.config,r="area"===a.type?0:1,n=a.JSONData,s=a.chart.jsonData.chart;e=n.data[e],a={};var l=t.graphics.mapSymbolName,n=void 0!==f(e.anchorstartangle,n.anchorstartangle,s.anchorstartangle,e.anchorimagealpha,n.anchorimagealpha,s.anchorimagealpha,e.anchorimagescale,n.anchorimagescale,s.anchorimagescale,e.anchorimagepadding,n.anchorimagepadding,s.anchorimagepadding,e.anchorimageurl,n.anchorimageurl,s.anchorimageurl,e.meaniconradius,n.meaniconradius,s.meaniconradius,e.meaniconcolor,n.meaniconcolor,s.meaniconcolor,e.anchorbordercolor,n.anchorbordercolor,s.anchorbordercolor,e.anchoralpha,n.anchoralpha,s.anchoralpha,e.meaniconsides,n.meaniconsides,s.meaniconsides,e.anchorborderthickness,n.anchorborderthickness,s.anchorborderthickness,void 0),s=x(e.drawanchors,i.drawAnchors);return a.enabled=n?x(s,n):x(s,r),a.startAngle=x(e.anchorstartangle,i.anchorStartAngle),a.imageAlpha=x(e.anchorimagealpha,i.anchorImageAlpha),a.imageScale=x(e.anchorimagescale,i.anchorImageScale),a.imagePadding=x(e.anchorimagepadding,i.anchorImagePadding),0>a.imagePadding&&(a.imagePadding=0),a.imageUrl=f(e.anchorimageurl,i.anchorImageUrl),a.radius=x(e[o+"iconradius"],i.anchorRadius),a.isAnchorRadius=a.radius,a.bgColor=f(e[o+"iconcolor"],i.anchorBgColor),r=a.enabled?de(f(e.anchoralpha,i.anchorAlpha,a.enabled?Ce:"0")):0,a.bgAlpha=de(f(e[o+"iconalpha"],i.meaniconalpha,r)),a.borderColor=f(e.anchorbordercolor,i.anchorBorderColor),a.borderAlpha=r,a.sides=f(e[o+"iconsides"],i.anchorSides),a.borderThickness=f(e.anchorborderthickness,i.anchorBorderThickness),a.symbol=l(a.sides).split("_"),a.shadow=x(e.anchorshadow,i.anchorShadow)&&1<=a.radius?{opacity:r/100}:!1,a},init:function(e){var t=this.chart,a=t.components,o=e.parentyaxis&&"s"===e.parentyaxis.toLowerCase()?1:0,a=a.yAxis[o];return e?(this.JSONData=e,this.yAxis=a,this.chartGraphics=t.chartGraphics,this.components={},this.graphics={},void this.configure()):!1},draw:function(){var e,t,a,o,i,r,n,s,l,h,d,c,p,m,f,v,b,y,w,C,A,L,S,D,T,P,B,V,I,_,E,O,N,F,R,M,G,j,H,z,Y,U,J,q,Z,$,ee,te,ae,oe,ie,re,ne,se,le,he,de,ce,pe,ge,ue,me,fe,xe,be,ye,we,Ce,ke,Le,Se,De,Te,Pe,Be,Ve=this,Ie=Ve.JSONData,_e=Ve.config,Ee=Ve.groupManager,Oe=Ve.index,Ne=Ve.chart.config.categories,Fe=Ie.data,Re=Ne&&Ne.length,Me=Fe&&Fe.length,We=Ve.visible,Ge=Ve.chart,je=Ge.config,He=Ge.components.paper,ze=Ge.components.xAxis[0],Ye=Ve.yAxis,Ue=Ge.graphics.columnGroup,Je=Ge.graphics,qe=_e.showtooltip,Ke=Ge.get("config","animationObj"),Xe=Ke.animType,Qe=Ke.animObj,Ze=Ke.dummyObj,$e=Ke.duration,et=ze.getAxisPosition(0),tt=ze.getAxisPosition(1)-et,at=_e.definedGroupPadding,ot=_e.plotSpacePercent/200,it=Ee.getDataSetPosition(Ve),rt=_e.maxcolwidth,nt=(1-.01*at)*tt||X(tt*(1-2*ot),1*rt),st=x(it.columnWidth,nt/1),lt=it.xPosOffset||0,ht=it.height,dt=Ve.components.data,ct=Ye.getAxisBase(),pt=_e.showShadow,gt=Ve.graphics.upperBoxContainer,ut=Ve.graphics.lowerBoxContainer,mt=Ve.graphics.medianContainer,ft=Ve.graphics.upperWhiskerContainer,vt=Ve.graphics.lowerWhiskerContainer,xt=Ve.graphics.dataLabelContainer,bt=Ve.graphics.shadowContainer,yt=Ge.config.dataLabelStyle,wt=Je.datalabelsGroup,Ct=_e.rotatevalues,kt=_e.valuepadding,At={fontFamily:yt.fontFamily,fontSize:yt.fontSize,lineHeight:yt.lineHeight,fontWeight:yt.fontWeight,fontStyle:yt.fontStyle},Lt=Ge.components.numberFormatter,St=Ct?ve:"middle",Dt=Ge.linkedItems.smartLabel,Tt=1/0,Pt=!0,Bt=(Ve.components.removeDataArr||[]).length,Vt=_e.showHoverEffect,It=function(e){Ae.call(this,Ge,e)},_t=function(e){return function(t){var a;if(0!==this.data("showHoverEffect"))for(a in e)"label"!==a&&(e[a].attr(this.data("setRolloverAttr")[a]),Ae.call(this,Ge,t,"DataPlotRollOver"))}},Et=function(e){return function(t){var a;if(0!==this.data("showHoverEffect"))for(a in e)"label"!==a&&(e[a].attr(this.data("setRolloutAttr")[a]),Ae.call(this,Ge,t,"DataPlotRollOut"))}},Ot=function(){!1!==Ve.visible||!1!==Ve._conatinerHidden&&void 0!==Ve._conatinerHidden||(gt.hide(),ut.hide(),ft.hide(),vt.hide(),mt.hide(),bt.hide(),xt&&xt.hide(),Ve._conatinerHidden=!0)};for(xt||(xt=Ve.graphics.dataLabelContainer=He.group("datalabel",wt),We||xt.hide()),gt||(gt=Ve.graphics.upperBoxContainer=He.group("upperBox",Ue).trackTooltip(!0).toBack(),We||gt.hide()),ft||(ft=Ve.graphics.upperWhiskerContainer=He.group("upperWhisker",Ue).trackTooltip(!0).toBack(),We||ft.hide()),ut||(ut=Ve.graphics.lowerBoxContainer=He.group("lowerBox",Ue).trackTooltip(!0).toBack(),We||ut.hide()),vt||(vt=Ve.graphics.lowerWhiskerContainer=He.group("lowerWhisker",Ue).trackTooltip(!0).toBack(),We||vt.hide()),mt||(mt=Ve.graphics.medianContainer=He.group("median",Ue).trackTooltip(!0),We||mt.hide()),bt||(bt=Ve.graphics.shadowContainer=He.group("shadow",Ue).toBack(),We||bt.hide()),We&&(gt.show(),ut.show(),ft.show(),vt.show(),mt.show(),bt.show(),xt&&xt.show(),Ve._conatinerHidden=!1,Ve.components.mean.show(),Ve.components.sd.show(),Ve.components.qd.show(),Ve.components.md.show()),s=X(Re,Me),h=0;s>h;h++)if(b=(w=(f=dt[h])&&f.config)&&w.setValue,Se=Le=ke=Ce=we=ye=be=xe=fe=!1,void 0!==f&&void 0!==b&&null!==b)for($=f.graphics,C=b>=0,v=w.setLink,f.graphics||(dt[h].graphics={}),$.label||(dt[h].graphics.label=[]),A=C?w.previousPositiveY:w.previousNegativeY,L=Ye.getAxisPosition(A||ct),d=ze.getAxisPosition(h)+lt,0===ht&&(Tt=0,ue=L),c=X(c,L),p=st,S=w.upperQuartile||{},T=((D=S.value)||0===D)&&Ye.getAxisPosition(D),P=w.lowerQuartile||{},V=((B=P.value)||0===B)&&Ye.getAxisPosition(B),E=((_=(I=w.median)&&I.value)||0===_)&&Ye.getAxisPosition(_),O=E-T,N=V-E,F=w.upperBoxBorder||{},R=w.lowerBoxBorder||{},m=w.toolText,ee=Ve.index+"_"+h,y={index:h,link:v,maximum:w.max,minimum:w.min,median:_,q3:S.value,q1:P.value,maxDisplayValue:w.showMaxValues?Lt.dataLabels(w.max):u,minDisplayValue:w.showMinValues?Lt.dataLabels(w.min):u,medianDisplayValue:w.showMedianValues?Lt.dataLabels(_):u,q1DisplayValue:w.showQ1Values?Lt.dataLabels(P.value):u,q3DisplayValue:w.showQ3Values?Lt.dataLabels(S.value):u,categoryLabel:w.label,toolText:m,datasetIndex:Oe,datasetName:Ie.seriesname,visible:We},J=K(d)+F.borderWidth%2*.5,q=K(d+p)+F.borderWidth%2*.5,Z=K(T)+S.borderWidth%2*.5,p=q-J,e={fill:k(w.upperColorArr[0]),"stroke-width":0,"stroke-dasharray":"none",cursor:v?"pointer":u,ishot:!0,visibility:We},t={fill:k(w.lowerColorArr[0]),"stroke-width":0,"stroke-dasharray":"none",cursor:v?"pointer":g,ishot:!0,visibility:We},a={stroke:F.color,"stroke-width":F.borderWidth,"stroke-linecap":"round",dashstyle:F.dashStyle,ishot:!0,visibility:We},o={stroke:R.color,"stroke-width":R.borderWidth,dashstyle:R.dashStyle,"stroke-linecap":"round",ishot:!0,visibility:We},i={stroke:k(S.color),"stroke-width":S.borderWidth,"stroke-dasharray":S.dashSyle,"stroke-linecap":"round",cursor:v?"pointer":g,ishot:!0,visibility:We},r={stroke:k(P.color),"stroke-width":P.borderWidth,"stroke-dasharray":P.dashSyle,cursor:v?"pointer":u,"stroke-linecap":"round",ishot:!0,visibility:We},n={stroke:k(I.color),"stroke-width":I.borderWidth,"stroke-dasharray":I.dashSyle,cursor:v?"pointer":u,"stroke-linecap":"round",ishot:!0,visibility:We},l={x:J,y:ue||Z,width:Q(p,0),height:Q(X(Tt,O),0),r:0},(M=f.graphics.upperBoxElem)?(M.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot),Pt=!1):(M=f.graphics.upperBoxElem=He.rect(l,gt),fe=!0),M.attr(e).shadow({opacity:pt?_e.upperBoxAlpha/100:0},bt),l={path:["M",J,ue||Z,"V",ue||Z+O,"M",q,ue||Z,"V",ue||Z+O]},(G=f.graphics.upperBoxBorderEle)?G.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(G=f.graphics.upperBoxBorderEle=He.path(l,gt),be=!0),G.attr(a),l={path:["M",J,ue||Z,"H",J+p]},(j=f.graphics.upperQuartileEle)?j.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(j=f.graphics.upperQuartileEle=He.path(l,gt),we=!0),j.attr(i),te=Z,ae=_e.whiskerslimitswidthratio/100*p,oe=ae/2,ne=ie=Ye.getAxisPosition(w.max),re=J,ne=K(ie)+w.upperWhiskerThickness%2/2,J=K(J+p/2)+w.upperWhiskerThickness%2/2,le=["M",J,ue||te,"V",ue||ne,"M",J-oe,ue||ne,"H",J+oe],se=f.graphics.upperWhiskerEle,l={path:le,ishot:!qe,"stroke-width":w.upperWhiskerThickness,cursor:v?"pointer":u,"stroke-linecap":"round"},se?se.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(se=f.graphics.upperWhiskerEle=He.path(l,ft),Le=!0),se.attr({stroke:w.upperWhiskerColor}),se.shadow({opacity:w.upperWhiskerShadowOpacity},bt),Dt.useEllipsesOnOverflow(Ge.config.useEllipsesWhenOverflow),Dt.setStyle(yt),de=Dt.getOriSize(Lt.dataLabels(w.max)),ce=Ct?de.width:de.height,ge=ie-.5*w.upperWhiskerThickness-kt-ce*(Ct?.5:1),ge-(Ct?ce/2:0)<je.canvasTop&&(ge=je.canvasTop+(Ct?ce/2:0)),l={text:Lt.dataLabels(w.max),x:re+p/2,title:S.originalText||u,y:ge,"text-anchor":Ct?"middle":St,"vertical-align":Ct?"middle":"top",visibility:"visible",direction:_e.textDirection,fill:yt.color,transform:He.getSuggestiveRotation(Ct,re+p/2,ge),"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]},w.showMaxValues?($.label[3]?($.label[3].show(),Pe=re+p/2,Be=ue||ge,$.label[3].attr({text:Lt.dataLabels(w.max),title:S.originalText||u,"text-anchor":Ct?"middle":St,"vertical-align":Ct?"middle":"top",visibility:"visible",direction:_e.textDirection,fill:yt.color,"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]}),$.label[3].animateWith(Ze,Qe,{x:Pe,y:Be,transform:He.getSuggestiveRotation(Ct,Pe,Be)},$e,Xe,Pt&&Ot)):$.label[3]=He.text(l,xt),$.label[3].data("groupId",ee).css(At)):$.label[3]&&$.label[3].hide()&&$.label[3].attr({"text-bound":[]}),J=K(d)+R.borderWidth%2*.5,q=K(d+p)+R.borderWidth%2*.5,Z=K(E+N)+P.borderWidth%2*.5,l={x:J,y:ue||E,width:Q(p,0),height:Q(X(Tt,Z-E),0),r:0},(H=f.graphics.lowerBoxElem)?H.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(H=f.graphics.lowerBoxElem=He.rect(l,ut),xe=!0),H.attr(t).shadow({opacity:pt?_e.lowerBoxAlpha/100:0},bt),l={path:["M",J,ue||E,"V",ue||E+N,"M",q,ue||E,"V",ue||E+N]},(z=f.graphics.lowerBoxBorderEle)?z.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(z=f.graphics.lowerBoxBorderEle=He.path(l,ut),ye=!0),z.attr(o),Z=K(E+N)+P.borderWidth%2*.5,l={path:["M",J,ue||Z,"H",J+p]},(Y=f.graphics.lowerQuartileEle)?Y.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(Y=f.graphics.lowerQuartileEle=He.path(l,ut),Ce=!0),Y.attr(r),te=Z,ae=_e.whiskerslimitswidthratio/100*p,oe=ae/2,ne=ie=Ye.getAxisPosition(w.min),re=J,ne=K(ie)+w.lowerWhiskerThickness%2/2,re=K(re+p/2)+w.lowerWhiskerThickness%2/2,le=["M",re,ue||te,"V",ue||ne,"M",re-oe,ue||ne,"H",re+oe],he=f.graphics.lowerWhiskerEle,Dt.setStyle(yt),de=Dt.getOriSize(Lt.dataLabels(w.min)),ce=Ct?de.width:de.height,pe=ie+.5*w.lowerWhiskerThickness+kt,pe+ce>je.canvasBottom&&(pe=je.canvasBottom-ce),l={text:Lt.dataLabels(w.min),x:re,title:S.originalText||u,y:pe,"text-anchor":Ct?"end":St,"vertical-align":Ct?"middle":"top",visibility:"visible",direction:_e.textDirection,fill:yt.color,transform:He.getSuggestiveRotation(Ct,re,pe),"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]},w.showMinValues?($.label[4]?($.label[4].show(),Pe=re,Be=ue||pe,$.label[4].animateWith(Ze,Qe,{x:Pe,y:Be,transform:He.getSuggestiveRotation(Ct,Pe,Be)},$e,Xe,Pt&&Ot),$.label[4].attr({text:Lt.dataLabels(w.min),title:S.originalText||u,"text-anchor":Ct?"end":St,"vertical-align":Ct?"middle":"top",visibility:"visible",direction:_e.textDirection,fill:yt.color,"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]})):$.label[4]=He.text(l,xt),$.label[4].data("groupId",ee).css(At)):$.label[4]&&$.label[4].hide()&&$.label[4].attr({"text-bound":[]}),l={path:le,ishot:!qe,"stroke-width":w.lowerWhiskerThickness,cursor:v?"pointer":u,"stroke-linecap":"round"},he?he.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(he=f.graphics.lowerWhiskerEle=He.path(l,vt),Se=!0),he.attr({stroke:w.lowerWhiskerColor}),he.shadow({opacity:w.lowerWhiskerShadowOpacity},bt),Z=K(E)+I.borderWidth%2*.5,l={path:["M",J,ue||Z,"H",J+p]},(U=f.graphics.midLineElem)?U.animateWith(Ze,Qe,l,$e,Xe,Pt&&Ot):(U=f.graphics.midLineElem=He.path(l,mt),ke=!0),U.attr(n),De={upperBoxElem:w.setUpperBoxRolloverAttr,lowerBoxElem:w.setLowerBoxRolloverAttr,upperBoxBorderEle:w.setUpperBoxBorderRolloverAttr,lowerBoxBorderEle:w.setLowerBoxBorderRolloverAttr,upperQuartileEle:w.setUpperQuartileRolloverAttr,lowerQuartileEle:w.setLowerQuartileRolloverAttr,midLineElem:w.setMedianRolloverAttr},Te={upperBoxElem:w.setUpperBoxRolloutAttr,lowerBoxElem:w.setLowerBoxRolloutAttr,upperBoxBorderEle:w.setUpperBoxBorderRolloutAttr,lowerBoxBorderEle:w.setLowerBoxBorderRolloutAttr,upperQuartileEle:w.setUpperQuartileRolloutAttr,lowerQuartileEle:w.setLowerQuartileRolloutAttr,midLineElem:w.setMedianRolloutAttr},M.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),fe&&M.click(It).hover(_t(f.graphics),Et(f.graphics)),H.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),xe&&H.click(It).hover(_t(f.graphics),Et(f.graphics)),G.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),be&&G.click(It).hover(_t(f.graphics),Et(f.graphics)),z.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),ye&&z.click(It).hover(_t(f.graphics),Et(f.graphics)),j.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),we&&j.click(It).hover(_t(f.graphics),Et(f.graphics)),Y.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),Ce&&Y.click(It).hover(_t(f.graphics),Et(f.graphics)),U.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),ke&&U.click(It).hover(_t(f.graphics),Et(f.graphics)),se.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),Le&&se.click(It).hover(_t(f.graphics),Et(f.graphics)),he.data("groupId",ee).data("eventArgs",y).data("showHoverEffect",Vt).data("setRolloverAttr",De).data("setRolloutAttr",Te),Se&&he.click(It).hover(_t(f.graphics),Et(f.graphics)),St=Ct?ve:"middle",l={text:S.displayValue,x:d+p/2,title:S.originalText||u,y:T-kt,"text-anchor":Ct?"start":St,"vertical-align":Ct?"middle":"bottom",visibility:"visible",direction:_e.textDirection,fill:yt.color,transform:He.getSuggestiveRotation(Ct,d+p/2,T-kt),"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]},W(S.displayValue)&&S.displayValue!==g&&w.showQ3Values?($.label[0]?($.label[0].show(),Pe=d+p/2,Be=ue||T-kt,$.label[0].animateWith(Ze,Qe,{x:Pe,y:Be,transform:He.getSuggestiveRotation(Ct,Pe,Be)},$e,Xe,Pt&&Ot),$.label[0].attr({text:S.displayValue,title:S.originalText||u,"text-anchor":Ct?"start":St,"vertical-align":Ct?"middle":"bottom",visibility:"visible",direction:_e.textDirection,fill:yt.color,"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]})):$.label[0]=He.text(l,xt),$.label[0].data("groupId",ee).css(At)):$.label[0]&&$.label[0].hide()&&$.label[0].attr({"text-bound":[]}),l={text:I.displayValue,x:J+p/2,y:E-kt,title:I.originalText||u,"text-anchor":Ct?"start":St,"vertical-align":Ct?"middle":"bottom",visibility:"visible",direction:_e.textDirection,fill:yt.color,transform:He.getSuggestiveRotation(Ct,J+p/2,E-kt),"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]},W(I.displayValue)&&I.displayValue!==g&&w.showMedianValues?($.label[1]?($.label[1].show(),Pe=J+p/2,Be=ue||E-kt,$.label[1].animateWith(Ze,Qe,{x:Pe,y:Be,transform:He.getSuggestiveRotation(Ct,Pe,Be)},$e,Xe,Pt&&Ot),$.label[1].attr({text:I.displayValue,title:I.originalText||u,"text-anchor":Ct?"start":St,"vertical-align":Ct?"middle":"bottom",visibility:"visible",direction:_e.textDirection,fill:yt.color,"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]})):$.label[1]=He.text(l,xt),$.label[1].data("groupId",ee).css(At)):$.label[1]&&$.label[1].hide()&&$.label[1].attr({"text-bound":[]}),l={text:P.displayValue,x:d+p/2,y:V+kt,title:P.originalText||u,"text-anchor":Ct?"start":St,
"vertical-align":Ct?"middle":"top",visibility:"visible",direction:_e.textDirection,fill:yt.color,transform:He.getSuggestiveRotation(Ct,d+p/2,V+kt),"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]},W(P.displayValue)&&P.displayValue!==g&&w.showQ1Values?($.label[2]?($.label[2].show(),Pe=d+p/2,Be=ue||V+kt,$.label[2].animateWith(Ze,Qe,{x:Pe,y:Be,transform:He.getSuggestiveRotation(Ct,Pe,Be)},$e,Xe,Pt&&Ot),$.label[2].attr({text:P.displayValue,title:P.originalText||u,"text-anchor":Ct?"start":St,"vertical-align":Ct?"middle":"top",visibility:"visible",direction:_e.textDirection,fill:yt.color,"text-bound":[yt.backgroundColor,yt.borderColor,yt.borderThickness,yt.borderPadding,yt.borderRadius,yt.borderDash]})):$.label[2]=He.text(l,xt),$.label[2].data("groupId",ee).css(At)):$.label[2]&&$.label[2].hide()&&$.label[2].attr({"text-bound":[]}),Pt&&Ot(),qe?(M.tooltip(m),H.tooltip(m),G.tooltip(m),z.tooltip(m),j.tooltip(m),Y.tooltip(m),U.tooltip(m),se.tooltip(m),he.tooltip(m)):(M.tooltip(!1),H.tooltip(!1),G.tooltip(!1),z.tooltip(!1),j.tooltip(!1),Y.tooltip(!1),U.tooltip(!1),se.tooltip(!1),he.tooltip(!1)),d+=p/2,Ve.components.mean.components.data[h].config.xPos=d,Ve.components.sd.components.data[h].config.xPos=d,Ve.components.qd.components.data[h].config.xPos=d,Ve.components.md.components.data[h].config.xPos=d,me=0;me<_e.maxNumberOfOutliers;me++)Ve.components.outliers[me].components.data[h].config.xPos=d;Ve.flag=!0,Bt&&Ve.remove()},remove:function(){var e,t,a,o,i,r,n=this.components,s=n.removeDataArr,l=n.pool||(n.pool={element:[],hotElement:[],label:[]}),h=s.length,d=this.maxminFlag;for(o=0;h>o;o++)if(e=s[0],s.splice(0,1),e&&e.graphics){a=e.graphics;for(t in a)if("label"!==t)a[t].shadow({opacity:0}),a[t].hide();else for(i=a[t].length,r=0;i>r;r++)a[t][r]&&(a[t][r].shadow({opacity:0}),a[t][r].hide(),a[t][r].attr({"text-bound":[]}));e.graphics.element&&(l.element=l.element.concat(e.graphics.element)),e.graphics.hotElement&&(l.hotElement=l.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(l.label=l.label.concat(e.graphics.label))}n.pool=l,d&&this.setMaxMin()},removeData:function(e,t,a){var o=this.components,i=o.data,r=o.removeDataArr||(o.removeDataArr=[]),n=o.mean.components.removeDataArr||(o.mean.components.removeDataArr=[]),s=o.sd.components.removeDataArr||(o.sd.components.removeDataArr=[]),l=o.md.components.removeDataArr||(o.md.components.removeDataArr=[]),h=o.qd.components.removeDataArr||(o.qd.components.removeDataArr=[]),d=this.config,c=this.groupManager,p=this.maxminFlag;for(t=t||1,e=e||0,e+t===i.length?this.endPosition=!0:0!==e&&void 0!==e||(this.endPosition=!1),o.removeDataArr=r=r.concat(i.splice(e,t)),o.mean.components.removeDataArr=n.concat(o.mean.components.data.splice(e,t)),o.sd.components.removeDataArr=s.concat(o.sd.components.data.splice(e,t)),o.md.components.removeDataArr=l.concat(o.md.components.data.splice(e,t)),o.qd.components.removeDataArr=h.concat(o.qd.components.data.splice(e,t)),n=o.outliers.length,i=0;n>i;i++)s=o.outliers[i].components.removeDataArr||(o.outliers[i].components.removeDataArr=[]),o.outliers[i].components.removeDataArr=s.concat(o.outliers[i].components.data.splice(e,t));for(c&&c.removeSumLabels&&c.removeSumLabels(e,t,this.positionIndex),n=r.length,i=0;n>i&&(!r[i]||(e=r[i].config,e.setValue!==d.maxValue&&e.setValue!==d.minValue||(p=this.maxminFlag=!0),!p));i++);p&&this.setMaxMin(),a&&this.draw()},_addLegendSubDS:function(e){var t;t=e.config;var a=e.chart.components.legend,o=t.anchorBgColor;t={anchorSide:t.anchorSides,legendBackgroundColor:this.config.upperBoxColor,fillColor:ge(o),strokeColor:ge("#000000"),enabled:this.config.includeInLegend,label:this.JSONData.seriesname&&b(e.name),customLegendIcon:!1,spoke:t.dip?1:0,drawLine:!!t.drawLine,lineColor:k({color:o,alpha:"100"})},e.itemId=a.addItems(e,e.legendInteractivity,t)},_addLegendOutliers:function(e){var t=this.JSONData,a=this.chart.jsonData.chart,o=this.config,i=o.upperBoxColor,r=this.chart.components.legend,n=f(t.outliericoncolor,a.outliericoncolor,"#000000"),t={anchorSide:x(t.outliericonsides,a.outliericonsides,3),fillColor:ge(n),legendBackgroundColor:i,strokeColor:ge("#000000"),enabled:o.includeInLegend,label:this.JSONData.seriesname&&"Outliers",customLegendIcon:!1,spoke:e[0].config.dip?1:0,drawLine:!1,datasetObj:e[0]};e[0]&&(e[0].itemId=r.addItems(e,this.legendInteractivityOutliers,t))},legendInteractivityOutliers:function(e,t){var a,o,i=this.config,r=t.config,n=t.graphics,s=i.itemHiddenStyle.color,i=i.itemStyle.color,l=r.fillColor,r=r.strokeColor;for(e.visible=!e.visible,a=0;a<e.length;a++)o=e[a].visible,e[a].visible=!o,e[a].draw(),o?(n.legendItemSymbol&&n.legendItemSymbol.attr({fill:s,stroke:s}),n.legendItemText&&n.legendItemText.attr({fill:s}),n.legendIconLine&&n.legendIconLine.attr({stroke:s})):(n.legendItemSymbol&&n.legendItemSymbol.attr({fill:l,stroke:r}),n.legendItemText&&n.legendItemText.attr({fill:i}),n.legendIconLine&&n.legendIconLine.attr({stroke:l}))},_addLegend:function(){var e;e=this.config;var t=this.chart.components.legend,a=e.upperBoxColor;e={fillColor:k({FCcolor:{color:a+","+e.lowerBoxColor,angle:90,ratio:"50, 0",alpha:"100, 100"}}),legendBackgroundColor:a,strokeColor:k("#000000"),rawFillColor:a,rawStrokeColor:"#000000",enabled:e.includeInLegend,label:b(this.JSONData.seriesname),index:this.index},this.itemId=t.addItems(this,this.legendInteractivity,e)},legendInteractivity:function(e,t){var a=this.config,o=e.visible,i=t.config,r=t.graphics,n=a.itemHiddenStyle.color,a=a.itemStyle,s=a.color,l=i.fillColor,i=i.strokeColor,h=t.index,d=e.subDS;if(o?e.hide():e.show(),o)for(r.legendItemSymbol&&r.legendItemSymbol.attr({fill:n,stroke:n}),r.legendItemText&&r.legendItemText.attr({fill:n}),r.legendItemLine&&r.legendItemLine.attr({stroke:n}),o=h+1;h+d>=o;o++)r=this.components.items[o].graphics,r.legendItemSymbol&&r.legendItemSymbol.attr({fill:n,stroke:n}),r.legendItemText&&r.legendItemText.attr({fill:n}),r.legendItemLine&&r.legendItemLine.attr({stroke:n});else for(r.legendItemSymbol&&r.legendItemSymbol.attr({fill:l,stroke:i}),r.legendItemText&&r.legendItemText.attr({fill:s}),r.legendItemLine&&r.legendItemLine.attr({stroke:l}),o=h+1;h+d>=o;o++)r=this.components.items[o].graphics,i=this.components.items[o].config,s=a.color,l=i.fillColor,i=i.strokeColor,r.legendItemSymbol&&r.legendItemSymbol.attr({fill:l,stroke:i}),r.legendItemText&&r.legendItemText.attr({fill:s}),r.legendItemLine&&r.legendItemLine.attr({stroke:l})},show:function(){var e=this.graphics.upperBoxContainer,t=this.graphics.lowerBoxContainer,a=this.graphics.medianContainer,o=this.graphics.upperWhiskerContainer,i=this.graphics.lowerWhiskerContainer,r=this.graphics.dataLabelContainer,n=this.graphics.shadowContainer,s=this.chart,l=this.yAxis;for(s._chartAnimation(),this.visible=!0,this.components.outliers.visible=!0,this._conatinerHidden=!1,e.show(),t.show(),a.show(),o.show(),i.show(),r.show(),n.show(),e=0;e<this.config.maxNumberOfOutliers;e++)this.components.outliers[e].show();s._setAxisLimits(),l.draw(),s._drawDataset(),this.components.mean.show(),this.components.sd.show(),this.components.qd.show(),this.components.md.show()},hide:function(){var e,t,a=this.chart,o=this.yAxis;for(a._chartAnimation(),this.visible=!1,e=this.config.maxNumberOfOutliers,t=0;e>t;t++)this.components.outliers[t].hide();for(a._setAxisLimits(),o.draw(),a._drawDataset(),this.components.mean.hide(),this.components.sd.hide(),this.components.qd.hide(),this.components.md.hide(),e=this.config.maxNumberOfOutliers||this.components.outliers.length,this.components.outliers.visible=!1,t=0;e>t;t++)this.components.outliers[t].visible=!1,this.components.outliers[t].draw()}},"Column",{showplotborder:void 0,plotborderdashlen:void 0,plotborderdashgap:void 0,plotfillalpha:void 0,useroundedges:void 0,ratio:void 0,plotborderthickness:void 0,showvalues:void 0,valuepadding:void 0,showtooltip:void 0,maxcolwidth:void 0,rotatevalues:void 0,use3dlighting:void 0,whiskerslimitswidthratio:void 0,outliersupperrangeratio:void 0,outlierslowerrangeratio:void 0,showalloutliers:void 0,showmean:void 0,showsd:void 0,showmd:void 0,showqd:void 0,showminvalues:void 0,showmaxvalues:void 0,showq1values:void 0,showq3values:void 0,showmedianvalues:void 0}]),FusionCharts.register("component",["dataset","subDS",{show:function(){var e=this.chart,t=this.yAxis;e._chartAnimation(),this.visible=!0,this._conatinerHidden=!1,e._setAxisLimits(),t.draw(),this.draw()},hide:function(){var e=this.chart,t=this.yAxis;e._chartAnimation(),this.visible=!1,e._setAxisLimits(),t.draw(),this.draw()},getEventArgs:function(){return{datasetName:this.name,datasetIndex:this.index,id:(this.config||{}).userID,visible:this.visible}},legendInteractivity:function(e,t){var a,o=this.config,i=e.visible,r=t.config,n=t.graphics,s=o.itemHiddenStyle.color,o=o.itemStyle.color,l=r.fillColor,h=r.strokeColor;i?e.hide():e.show(),i={legendItemSymbol:{fill:i?s:l,stroke:i?s:h},legendItemText:{fill:i?s:o},legendItemLine:{stroke:i?s:r.lineAttr&&r.lineAttr.stroke}};for(a in n)(r=n[a])&&i[a]&&r.attr(i[a])}},"Line"]),FusionCharts.register("component",["datasetGroup","boxandwhisker2d",{draw:function(){var e,t,a,o,i=this.positionStackArr,r=i.length;e=this.chart,t=e.graphics.datasetGroup;var n=e.graphics;a=e.components.canvas.config.clip["clip-canvas"].slice(0),o=w([],e.components.canvas.config.clip["clip-canvas-init"]);var n=n.datalabelsGroup,s=e.get("config","animationObj"),l=s.animType,h=s.animObj,d=s.dummyObj,s=s.duration;for(e.fireInitialAnimation&&(t.attr({"clip-rect":o}),n.attr({"clip-rect":o})),e.fireInitialAnimation=!1,t.animateWith(d,h,{"clip-rect":a},s,l),n.animateWith(d,h,{"clip-rect":a},s,l),this.preDrawCalculate(),this.drawSumValueFlag=!0,e=0;r>e;e++)for(t=i[e],a=t.length,this.manageClip=!0,t=0;a>t;t++)o=i[e][t].dataSet,o.draw()}},d]),be("heatmap",{friendlyName:"Heatmap Chart",standaloneInit:!0,creditLabel:j,hasLegend:!0,tooltipsepchar:": ",tooltipConstraint:"chart",defaultDatasetType:"heatmap",applicableDSList:{heatmap:!0},isSingleSeries:!0,hasGradientLegend:!0,_createAxes:function(){var e,t=this.components,a=FusionCharts.register("component",["axis","cartesian"]);t.yAxis=[],t.xAxis=[],t.yAxis[0]=e=new a,t.xAxis[0]=t=new a,e.chart=this,t.chart=this,e.init(),t.init()},_postSpaceManagement:function(){var e=this.config,t=e.placeAxisLabelsOnTop,a=this.components,o=a.xAxis&&a.xAxis[0],i=a.yAxis&&a.yAxis[0],r=a.legend,n=e.xDepth,a=a.canvas.config.canvasBorderWidth;o&&o.setAxisDimention({x:e.canvasLeft,y:t?e.canvasTop+(e.shift||0)-a:e.canvasBottom+(e.shift||0)+a,opposite:e.canvasTop-a,axisLength:e.canvasWidth}),i&&i.setAxisDimention({x:e.canvasLeft-a,y:e.canvasTop,opposite:e.canvasRight+a,axisLength:e.canvasHeight}),o&&o.shiftLabels(-n,0),r.postSpaceManager(),this.config.realtimeEnabled&&this._setRealTimeCategories&&this._setRealTimeCategories(),this._adjustCanvasPadding()},_adjustCanvasPadding:function(){},_feedAxesRawData:function(){var e,a=this.components,o=a.colorManager,i=this.jsonData,r=i.chart;e=this.is3d;var n=t.chartPaletteStr,n=e?n.chart3D:n.chart2D;e={outCanfontFamily:f(r.outcnvbasefont,r.basefont,"Verdana,sans"),outCanfontSize:he(r.outcnvbasefontsize,r.basefontsize,10),outCancolor:f(r.outcnvbasefontcolor,r.basefontcolor,o.getColor(n.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:r.xaxisnamepadding,axisValuePadding:r.labelpadding,axisNameFont:r.xaxisnamefont,axisNameFontSize:r.xaxisnamefontsize,axisNameFontColor:r.xaxisnamefontcolor,axisNameFontBold:r.xaxisnamefontbold,axisNameFontItalic:r.xaxisnamefontitalic,axisNameBgColor:r.xaxisnamebgcolor,axisNameBorderColor:r.xaxisnamebordercolor,axisNameAlpha:r.xaxisnamealpha,axisNameFontAlpha:r.xaxisnamefontalpha,axisNameBgAlpha:r.xaxisnamebgalpha,axisNameBorderAlpha:r.xaxisnameborderalpha,axisNameBorderPadding:r.xaxisnameborderpadding,axisNameBorderRadius:r.xaxisnameborderradius,axisNameBorderThickness:r.xaxisnameborderthickness,axisNameBorderDashed:r.xaxisnameborderdashed,axisNameBorderDashLen:r.xaxisnameborderdashlen,axisNameBorderDashGap:r.xaxisnameborderdashgap,useEllipsesWhenOverflow:r.useellipseswhenoverflow,divLineColor:f(r.vdivlinecolor,r.divlinecolor,o.getColor(n.divLineColor)),divLineAlpha:f(r.vdivlinealpha,r.divlinealpha,e?o.getColor("divLineAlpha3D"):o.getColor("divLineAlpha")),divLineThickness:x(r.vdivlinethickness,r.divlinethickness,1),divLineIsDashed:Boolean(x(r.vdivlinedashed,r.vdivlineisdashed,r.divlinedashed,r.divlineisdashed,0)),divLineDashLen:x(r.vdivlinedashlen,r.divlinedashlen,4),divLineDashGap:x(r.vdivlinedashgap,r.divlinedashgap,2),showAlternateGridColor:x(r.showalternatevgridcolor,0),alternateGridColor:f(r.alternatevgridcolor,o.getColor("altVGridColor")),alternateGridAlpha:f(r.alternatevgridalpha,o.getColor("altVGridAlpha")),numDivLines:r.numvdivlines,labelFont:r.labelfont,labelFontSize:r.labelfontsize,labelFontColor:r.labelfontcolor,labelFontAlpha:r.labelalpha,labelFontBold:r.labelfontbold,labelFontItalic:r.labelfontitalic,axisName:r.xaxisname,axisMinValue:r.xaxisminvalue,axisMaxValue:r.xaxismaxvalue,setAdaptiveMin:r.setadaptivexmin,adjustDiv:r.adjustvdiv,labelDisplay:r.labeldisplay,showLabels:x(r.showxaxislabels,r.showlabels),rotateLabels:r.rotatexaxislabels,slantLabel:x(r.slantlabels,r.slantlabel),labelStep:x(r.labelstep,r.xaxisvaluesstep),showAxisValues:x(r.showxaxisvalues,r.showxaxisvalue),maxLabelHeight:r.maxlabelheight,showZeroPlane:r.showvzeroplane,zeroPlaneColor:r.vzeroplanecolor,zeroPlaneThickness:r.vzeroplanethickness,zeroPlaneAlpha:r.vzeroplanealpha,showZeroPlaneValue:r.showvzeroplanevalue,trendlineColor:r.trendlinecolor,trendlineToolText:r.trendlinetooltext,trendlineThickness:r.trendlinethickness,trendlineAlpha:r.trendlinealpha,showTrendlinesOnTop:r.showtrendlinesontop,showAxisLine:x(r.showxaxisline,r.showaxislines,r.drawAxisLines,0),axisLineThickness:x(r.xaxislinethickness,r.axislinethickness,1),axisLineAlpha:x(r.xaxislinealpha,r.axislinealpha,100),axisLineColor:f(r.xaxislinecolor,r.axislinecolor,"#000000")},o={outCanfontFamily:f(r.outcnvbasefont,r.basefont,"Verdana,sans"),outCanfontSize:he(r.outcnvbasefontsize,r.basefontsize,10),outCancolor:f(r.outcnvbasefontcolor,r.basefontcolor,o.getColor(n.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:r.yaxisnamepadding,axisValuePadding:r.yaxisvaluespadding,axisNameFont:r.yaxisnamefont,axisNameFontSize:r.yaxisnamefontsize,axisNameFontColor:r.yaxisnamefontcolor,axisNameFontBold:r.yaxisnamefontbold,axisNameFontItalic:r.yaxisnamefontitalic,axisNameBgColor:r.yaxisnamebgcolor,axisNameBorderColor:r.yaxisnamebordercolor,axisNameAlpha:r.yaxisnamealpha,axisNameFontAlpha:r.yaxisnamefontalpha,axisNameBgAlpha:r.yaxisnamebgalpha,axisNameBorderAlpha:r.yaxisnameborderalpha,axisNameBorderPadding:r.yaxisnameborderpadding,axisNameBorderRadius:r.yaxisnameborderradius,axisNameBorderThickness:r.yaxisnameborderthickness,axisNameBorderDashed:r.yaxisnameborderdashed,axisNameBorderDashLen:r.yaxisnameborderdashlen,axisNameBorderDashGap:r.yaxisnameborderdashgap,axisNameWidth:r.yaxisnamewidth,useEllipsesWhenOverflow:r.useellipseswhenoverflow,rotateAxisName:x(r.rotateyaxisname,1),axisName:r.yaxisname,showAlternateGridColor:x(r.showalternatehgridcolor,1),alternateGridColor:f(r.alternatehgridcolor,o.getColor("altHGridColor")),alternateGridAlpha:f(r.alternatehgridalpha,o.getColor("altHGridAlpha")),numDivLines:r.numdivlines,axisMinValue:r.yaxisminvalue,axisMaxValue:r.yaxismaxvalue,setAdaptiveMin:r.setadaptiveymin,adjustDiv:r.adjustdiv,labelStep:r.yaxisvaluesstep,showLabels:x(r.showyaxislabels,r.showlabels),maxLabelWidthPercent:r.maxlabelwidthpercent,showAxisValues:x(r.showyaxisvalues,r.showyaxisvalue),divLineColor:f(r.hdivlinecolor,o.getColor(n.divLineColor)),divLineAlpha:f(r.hdivlinealpha,o.getColor("divLineAlpha")),divLineThickness:x(r.hdivlinethickness,1),divLineIsDashed:Boolean(x(r.hdivlinedashed,r.hdivlineisdashed,0)),divLineDashLen:x(r.hdivlinedashlen,4),divLineDashGap:x(r.hdivlinedashgap,2),showZeroPlane:r.showzeroplane,zeroPlaneColor:r.zeroplanecolor,zeroPlaneThickness:r.zeroplanethickness,zeroPlaneAlpha:r.zeroplanealpha,showZeroPlaneValue:r.showzeroplanevalue,trendlineColor:r.trendlinecolor,trendlineToolText:r.trendlinetooltext,trendlineThickness:r.trendlinethickness,trendlineAlpha:r.trendlinealpha,showTrendlinesOnTop:r.showtrendlinesontop,showAxisLine:x(r.showyaxisline,r.showaxislines,r.drawAxisLines,0),axisLineThickness:x(r.yaxislinethickness,r.axislinethickness,1),axisLineAlpha:x(r.yaxislinealpha,r.axislinealpha,100),axisLineColor:f(r.yaxislinecolor,r.axislinecolor,"#000000")},e.vtrendlines=i.vtrendlines,o.trendlines=i.trendlines,i=a.yAxis[0],a=a.xAxis[0],i.setCommonConfigArr(o,!0,!0,!1),a.setCommonConfigArr(e,!1,!1,!!this.config.placeAxisLabelsOnTop),i.configure(),a.configure(),this._setCategories()},_setAxisLimits:function(){},_setCategories:function(){var e,t,a,o,i,r,n=this.components,s=this.jsonData,l=n.xAxis,n=n.yAxis,h=s.dataset&&s.dataset[0].data&&s.dataset[0].data.length,d=[],c=[];if(!s.columns||!s.rows)for(s.columns={},s.columns.column=o=[],s.rows={},s.rows.row=i=[],e=0;h>e;e++){for(a=t=!0,r=0;r<o.length;r++)s.dataset[0].data[e].columnid==o[r].id&&(t=!1);for(t&&(t={id:s.dataset[0].data[e].columnid,label:s.dataset[0].data[e].columnid},s.columns.column.push(t)),r=0;r<i.length;r++)s.dataset[0].data[e].rowid==i[r].id&&(a=!1);a&&(a={id:s.dataset[0].data[e].rowid,label:s.dataset[0].data[e].rowid},s.rows.row.push(a))}for(o=s.columns.column,i=s.rows.row,e=0;e<(o&&o.length);e++)o[e].label=f(o[e].label,o[e].name,o[e].id),void 0!==o[e].label&&d.push(o[e]);for(s.columns.column=d,e=0;e<(i&&i.length);e++)i[e].label=f(i[e].label,i[e].name,i[e].id),void 0!==i[e].label&&c.push(i[e]);s.rows.row=c,s.columns&&l[0].setAxisPadding(.5,.5),s.columns&&l[0].setCategory(s.columns.column),s.columns&&n[0].setAxisPadding(.5,.5),s.rows&&n[0].setCategory(s.rows.row),l[0].setAxisData({categoryNumDivLines:s.columns.column.length-1,categoryDivLinesFromZero:0,showAlternateGridColor:0}),n[0].setAxisData({categoryNumDivLines:s.rows.row.length-1,categoryDivLinesFromZero:0,showAlternateGridColor:0})}},be.mscartesian),FusionCharts.register("component",["dataset","HeatMap",{type:"heatmap",configure:function(){var e,a,o,i,r,n,s,l,h,d,c,p,m,b,y,w,C,A,L,S,D,T,P,B,V,I,_,E,O,N,F,R,M,W,G,j,H,z,Y,U,J,q,Z,$,ee,te,ae,oe,ie,re,ne,se,he,de,ce,ue,me,fe,ve,xe,be,ye,we,ke,Ae,Le,Se=this.chart,De=Se.components,Te=De.postLegendInitFn,Pe=De.gradientLegend,Be=Se.config.dataLabelStyle,Ve=this.config,Ie=Se.jsonData,_e=this.JSONData,Ee=_e.data,Oe=Se.singleseries,Ne=Ee&&Ee.length,Fe=Se.jsonData.chart,Re=Se.components.colorManager,Me=Ve.plotColor=Re.getPlotColor(this.index||this.positionIndex),We=x(_e.dashed,Fe.plotborderdashed),Ge=x(Fe.useplotgradientcolor,1),je=x(Fe.showtooltip,1),He=t.parseUnsafeString,ze=He(Fe.yaxisname),Ye=He(Fe.xaxisname),Ue=He(f(Fe.tooltipsepchar,": ")),Je=t.parseTooltext,qe=Ie.colorrange||{},Ke=Se.components.xAxis[0],Xe=Se.components.yAxis[0],Qe=Ve.mapByPercent=x(qe.mapbypercent,0),Ze=Ve.mapByCategory=x(Fe.mapbycategory,0),$e=Se.jsonData,et=$e.colorrange&&x($e.colorrange.gradient),tt=t.nonGradientColorRange,at=t.getDashStyle,ot=this.components.data,it=Se.components.numberFormatter,rt=Se.isBar,nt=Se.is3D,st=-(1/0),lt=1/0,ht=v(Fe.tltype,g),dt=v(Fe.trtype,g),ct=v(Fe.bltype,g),pt=v(Fe.brtype,g);for(e=Ve.showplotborder=x(Fe.showplotborder,nt?0:1),Ve.plotDashLen=l=x(Fe.plotborderdashlen,5),Ve.plotDashGap=h=x(Fe.plotborderdashgap,4),Ve.plotfillAngle=m=x(360-Fe.plotfillangle,rt?180:90),Ve.plotFillAlpha=b=f(_e.alpha,Fe.plotfillalpha,Ce),Ve.plotColor=Me=f(_e.color,Me),Ve.isRoundEdges=c=x(Fe.useroundedges,0),Ve.plotRadius=x(Fe.useRoundEdges,Ve.isRoundEdges?1:0),Ve.plotFillRatio=y=f(_e.ratio,Fe.plotfillratio),Ve.plotgradientcolor=w=t.getDefinedColor(Fe.plotgradientcolor,Re.getColor("plotGradientColor")),!Ge&&(w=u),Ve.plotBorderAlpha=C=e?f(Fe.plotborderalpha,b,Ce):0,Ve.plotBorderColor=A=f(Fe.plotbordercolor,nt?"#ffffff":Re.getColor("plotBorderColor")),Ve.plotBorderThickness=d=x(Fe.plotborderthickness,1),Ve.plotBorderDashStyle=S=We?at(l,h,d):"none",Ve.showValues=x(_e.showvalues,Fe.showvalues,1),Ve.valuePadding=x(Fe.valuepadding,2),Ve.enableAnimation=q=x(Fe.animation,Fe.defaultanimation,1),Ve.animation=q?{duration:1e3*x(Fe.animationduration,1)}:!1,Ve.transposeAnimation=x(Fe.transposeanimation,q),Ve.transposeAnimDuration=1e3*x(Fe.transposeanimduration,.2),Ve.showShadow=c||nt?x(Fe.showshadow,1):x(Fe.showshadow,Re.getColor("showShadow")),Ve.showHoverEffect=p=x(Fe.plothovereffect,Fe.showhovereffect,void 0),Ve.showTooltip=x(Fe.showtooltip,1),Ve.definedGroupPadding=Q(x(Fe.plotspacepercent),0),Ve.plotSpacePercent=Q(x(Fe.plotspacepercent,20)%100,0),Ve.maxColWidth=x(rt?Fe.maxbarheight:Fe.maxcolwidth,50),Ve.plotPaddingPercent=x(Fe.plotpaddingpercent),Ve.rotateValues=x(Fe.rotatevalues)?270:0,Ve.placeValuesInside=x(Fe.placevaluesinside,0),xe=Be.fontFamily,be=Be.fontSize,ye=Be.color,we=Be.fontWeight,ke=Be.fontStyle,Ve.tlLabelStyle={fontFamily:f(Fe.tlfont,xe),fontSize:x(Fe.tlfontsize,be.replace(/px/i,u))+"px",color:ge(f(Fe.tlfontcolor,ye),100),fontWeight:we,fontStyle:ke},le(Ve.tlLabelStyle),Ve.trLabelStyle={fontFamily:f(Fe.trfont,xe),fontSize:x(Fe.trfontsize,be.replace(/px/i,u))+"px",color:ge(f(Fe.trfontcolor,ye),100),fontWeight:we,fontStyle:ke},Ve.brLabelStyle={fontFamily:f(Fe.brfont,xe),fontSize:x(Fe.brfontsize,be.replace(/px/i,u))+"px",color:ge(f(Fe.brfontcolor,ye),100),fontWeight:we,fontStyle:ke},Ve.blLabelStyle={fontFamily:f(Fe.blfont,xe),fontSize:x(Fe.blfontsize,be.replace(/px/i,u))+"px",color:ge(f(Fe.blfontcolor,ye),100),fontWeight:we,fontStyle:ke},Ve.use3DLighting=x(Fe.use3dlighting,1),Ve.parentYAxis=Z="s"===f(_e.parentyaxis&&_e.parentyaxis.toLowerCase(),"p")?1:0,ot||(ot=this.components.data=[]),ae=0;Ne>ae;ae++)D=Ee&&Ee[ae],B=(P=ot[ae])&&P.config,P||(P=ot[ae]={graphics:{}}),P.config||(B=ot[ae].config={}),B.showValue=x(D.showvalue,Ve.showValues),B.setValue=T=it.getCleanValue(D.value),B.setLink=f(D.link),B.toolTipValue=U=it.dataLabels(T,Z),B.setDisplayValue=J=He(D.displayvalue),B.displayValue=f(J,U),$=x(D.dashed),ee=x(D.dashlen,l),te=h=x(D.dashgap,h),st=Q(st,T),lt=X(lt,T),B.plotBorderDashStyle=L=1===$?at(ee,te,d):0===$?"none":S,Oe?(Me=Re.getPlotColor(ae),Me=f(D.color,Me),y=f(D.ratio,Ve.plotFillRatio)):Me=f(D.color,Ve.plotColor),B.plotFillAlpha=b=f(D.alpha,Ve.plotFillAlpha),0>T&&!c&&(n=m,m=rt?180-m:360-m),B.colorArr=t.graphics.getColumnColor(Me+","+Ve.plotgradientcolor,b,y=Ve.plotFillRatio,m,c,Ve.plotBorderColor,C.toString(),rt?1:0,!!nt),a=B.toolTipValue,n&&(m=n);if(Ve.maxValue=st,Ve.minValue=lt,oe=st-lt,et&&!Ze)Te({min:lt,max:st}),this.components.colorRange=qe=Pe.colorRange;else{for(this.components.colorRange=qe=new tt({colorRange:Ie.colorrange,dataMin:lt,dataMax:st,sortLegend:0,mapByCategory:Ze,defaultColor:"cccccc",numberFormatter:it}),Ve.colorMap=[],ae=0;ae<qe.colorArr.length;ae++)Ve.colorMap[ae]={config:qe.colorArr[ae],dataSet:this},Ve.colorMap[ae].config.visible=!0;0===Ve.colorMap.length&&(Se.setChartMessage(),Pe&&Pe.elem&&Pe.elem.gl.carpet.group.hide())}for(ae=0;Ne>ae;ae++)D=Ee&&Ee[ae],B=(P=ot[ae])&&P.config,B.percentValue=Qe?fe=D.value&&K((D.value-lt)/oe*1e4)/100:void 0,B.value=Ae=Ze?D.colorrangelabel||D.categoryid:Qe?fe:B.setValue,et&&!Ze?Le=qe.getColorByValue(Ae):(ie=qe.getColorObj(Ae),P.legendItemIndex=ie.seriesIndex),void 0===ie&&void 0===Le?B.visible=!1:ie&&ie.outOfRange?(B.visible=!1,B.displayValue=u):(B.visible=!0,Me=f(D.color,ie&&ie.code||Le),B.color=ge(Me,f(D.alpha,Ve.plotFillAlpha)),0!==p&&(_=f(D.hovercolor,_e.hovercolor,Fe.plotfillhovercolor,Fe.columnhovercolor,Me),E=f(D.hoveralpha,_e.hoveralpha,Fe.plotfillhoveralpha,Fe.columnhoveralpha,"25"),O=f(D.hovergradientcolor,_e.hovergradientcolor,Fe.plothovergradientcolor,w),!O&&(O=u),N=f(D.hoverratio,_e.hoverratio,Fe.plothoverratio,y),F=x(360-D.hoverangle,360-_e.hoverangle,360-Fe.plothoverangle,m),R=f(D.borderhovercolor,_e.borderhovercolor,Fe.plotborderhovercolor,A),M=f(D.borderhoveralpha,_e.borderhoveralpha,Fe.plotborderhoveralpha,C,b),W=x(D.borderhoverthickness,_e.borderhoverthickness,Fe.plotborderhoverthickness,d),G=x(D.borderhoverdashed,_e.borderhoverdashed,Fe.plotborderhoverdashed),j=x(D.borderhoverdashgap,_e.borderhoverdashgap,Fe.plotborderhoverdashgap,l),H=x(D.borderhoverdashlen,_e.borderhoverdashlen,Fe.plotborderhoverdashlen,h),z=G?at(H,j,W):L,1==p&&_===Me&&(_=pe(_,70)),Y=t.graphics.getColumnColor(_,E,N,F,c,R,M.toString(),rt?1:0,!!nt),B.setRolloutAttr={fill:k(B.color),stroke:e&&k(Y[1]),"stroke-width":d,"stroke-dasharray":L},B.setRolloverAttr={fill:k(Y[0]),stroke:e&&k(Y[1]),"stroke-width":W,"stroke-dasharray":z}),Qe&&(fe=it.percentValue(fe)),B.setValue=T=it.getCleanValue(D.value),B.toolTipValue=U=it.dataLabels(T,Z),a=B.toolTipValue,i=v(He(f(D.tooltext,_e.plottooltext,Fe.plottooltext))),B.tlLabel=re=He(f(D.tllabel,D.ltlabel)),B.trLabel=ne=He(f(D.trlabel,D.rtlabel)),B.blLabel=se=He(f(D.bllabel,D.lblabel)),B.brLabel=he=He(f(D.brlabel,D.rblabel)),J=v(He(D.displayvalue)),ve=Ze?J:f(D.displayvalue,a),B.displayValue=f(J,fe,B.toolTipValue),ht!==g&&(de="<b>"+ht+Ue+"</b>"),dt!==g&&(ce="<b>"+dt+Ue+"</b>"),ct!==g&&(ue="<b>"+ct+Ue+"</b>"),pt!==g&&(me="<b>"+pt+Ue+"</b>"),V=Ke.getCategoryFromId(Ee[ae].columnid.toLowerCase()),I=Xe.getCategoryFromId(Ee[ae].rowid.toLowerCase()),je?(null===a?s=!1:void 0!==i?(r=[1,2,5,6,7,14,93,94,95,96,97,98,112,113,114,115,116,117],o={formattedValue:a,value:D.value,yaxisName:ze,xaxisName:Ye,displayValue:J,percentValue:Qe?fe:g,tlLabel:re,trLabel:ne,blLabel:se,brLabel:he,rowLabel:I.catObj&&I.catObj.label,columnLabel:V.catObj&&V.catObj.label,percentDataValue:Qe?fe:g,trtype:dt,tltype:ht,brType:pt,blType:ct,colorRangeLabel:B.colorRangeLabel},s=Je(i,r,o,D,Fe,o)):s=(Qe?"<b>Value"+Ue+"</b>"+a+"<br /><b>Percentage"+Ue+"</b>"+fe:ve)+(re!==g?"<br />"+(de+re):g)+(ne!==g?"<br />"+ce+ne:g)+(se!==g?"<br />"+ue+se:g)+(he!==g?"<br />"+me+he:g),B.toolText=s,B.setTooltext=s):s=!1);!1===Se.hasLegend||et&&!Ze||this._addLegend()},init:function(e){var t=this.chart,a=t.components,o=e.parentyaxis&&"s"===e.parentyaxis.toLowerCase()?1:0,a=a.yAxis[o];return e?(this.JSONData=e,this.yAxis=a,this.chartGraphics=t.chartGraphics,this.components={},this.graphics={},this.visible=1===x(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),void this.configure()):!1},_addLegend:function(){var e,t,a,o,i,r,n=this.components.data,s=this.chart,l=s.jsonData.chart,h=this.config.colorMap,d=this.components.colorRange;for(o=s.components.legend,l=x(l.us3dlighting,l.useplotgradientcolor,1),o.emptyItems(),o=0,i=h.length;i>o;o++)r=h[o],a=d.colorArr[o].code,e=pe(a,60).replace(D,T),pe(a,40),l?(t=pe(a,40),t={FCcolor:{color:a+","+a+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}}):t={FCcolor:{color:a,angle:0,ratio:"0",alpha:"100"}},e={fillColor:k(t),label:r.config.label,rawFillColor:a,strokeColor:k(e),datasetObj:this},h[o].legendItemId=s.components.legend.addItems(r,this.legendInteractivity,e);for(o=0;o<n.length;o++)for(l=d.getColorObj(n[o].config.value).code,s=0;s<h.length;s++)if(h[s].config.code==l){n[o].legendItemId=h[s].legendItemId,n[o].datasetIndex=s,n[o].datasetName=h[s].config.label;break}},legendInteractivity:function(e,t){var a=this.config,o=e.config.visible,i=e.dataSet,r=t.config,n=t.graphics,s=a.itemHiddenStyle.color,a=a.itemStyle.color,l=r.fillColor,r=r.strokeColor;o?i.hide(e):i.show(e),o?(n.legendItemSymbol&&n.legendItemSymbol.attr({fill:s,stroke:s}),n.legendItemText&&n.legendItemText.attr({fill:s}),n.legendIconLine&&n.legendIconLine.attr({stroke:s})):(n.legendItemSymbol&&n.legendItemSymbol.attr({fill:l,stroke:r}),n.legendItemText&&n.legendItemText.attr({fill:a}),n.legendIconLine&&n.legendIconLine.attr({stroke:l}))},hide:function(e){var t,a,o,i,r,n=this.components.data,s=this.chart.get("config","animationObj"),l=s.animType,h=s.animObj,d=s.dummyObj,s=s.duration,c=this.components.colorRange;for(i=e.config.code,t=0,a=n.length;a>t;t++)r=c.getColorObj(n[t].config.value).code,o=n[t].config,i===r&&(n[t].graphics.element&&n[t].graphics.element.animateWith(d,h,{"fill-opacity":0,"stroke-width":0},s,l),n[t].graphics.hotElement&&n[t].graphics.hotElement.hide(),n[t].graphics.valEle&&n[t].graphics.valEle.hide(),n[t].graphics.tlLabel&&n[t].graphics.tlLabel.hide(),n[t].graphics.trLabel&&n[t].graphics.trLabel.hide(),n[t].graphics.blLabel&&n[t].graphics.blLabel.hide(),n[t].graphics.brLabel&&n[t].graphics.brLabel.hide(),o.visible=!1,n[t].visible=!1);e.visible=!1,e.config.visible=!1},show:function(e){var t,a,o,i,r,n,s=this.components.data,l=this.config,h=this.chart.get("config","animationObj"),d=h.animType,c=h.animObj,p=h.dummyObj,h=h.duration,g=this.components.colorRange;for(r=e.config.code,o=0,i=s.length;i>o;o++)t=s[o].config,a=t.plotFillAlpha/100,n=g.getColorObj(s[o].config.value).code,r===n&&(s[o].graphics.element&&s[o].graphics.element.attr({visibility:"visible"}).animateWith(p,c,{"fill-opacity":a,"stroke-width":l.plotBorderThickness},h,d),s[o].graphics.hotElement&&s[o].graphics.hotElement.show(),s[o].graphics.valEle&&s[o].graphics.valEle.show(),s[o].graphics.tlLabel&&s[o].graphics.tlLabel.show(),s[o].graphics.trLabel&&s[o].graphics.trLabel.show(),s[o].graphics.blLabel&&s[o].graphics.blLabel.show(),s[o].graphics.brLabel&&s[o].graphics.brLabel.show(),t.visible=!0,s[o].visible=!0);e.visible=!0,e.config.visible=!0},updatePlot:function(e,t){var a,o,i,r,n,s=this.config,l=this.chart.get("config","animationObj"),h=l.animType,d=l.animObj,c=l.dummyObj,l=l.duration,p=this.components.data;for(i=0,r=p.length;r>i;i++)a=p[i].config,o=a.plotFillAlpha/100,n=p[i].config.value,e>n||n>t?a.visible&&(p[i].graphics.element&&p[i].graphics.element.animateWith(c,d,{"fill-opacity":0,"stroke-width":0},l,h),p[i].graphics.hotElement&&p[i].graphics.hotElement.hide(),p[i].graphics.valEle&&p[i].graphics.valEle.hide(),p[i].graphics.tlLabel&&p[i].graphics.tlLabel.hide(),p[i].graphics.trLabel&&p[i].graphics.trLabel.hide(),p[i].graphics.blLabel&&p[i].graphics.blLabel.hide(),p[i].graphics.brLabel&&p[i].graphics.brLabel.hide(),a.visible=!1,p[i].visible=!1):a.visible||(p[i].graphics.element&&p[i].graphics.element.animateWith(c,d,{"fill-opacity":o,"stroke-width":s.plotBorderThickness},l,h),p[i].graphics.hotElement&&p[i].graphics.hotElement.show(),p[i].graphics.valEle&&p[i].graphics.valEle.show(),p[i].graphics.tlLabel&&p[i].graphics.tlLabel.show(),p[i].graphics.trLabel&&p[i].graphics.trLabel.show(),p[i].graphics.blLabel&&p[i].graphics.blLabel.show(),p[i].graphics.brLabel&&p[i].graphics.brLabel.show(),a.visible=!0,p[i].visible=!0)},draw:function(){var e,t,a,o=this,i=o.config,r=o.JSONData.data,n=o.visible,s=o.chart,l=s.components.paper,h=s.components.xAxis[0],d=s.components.yAxis[0],c=s.components.gradientLegend;e=s.graphics.datasetGroup;var p,g,m,f,v,x,b,y,w,C,A,L=s.graphics,S=i.showTooltip,D=s.get("config","animationObj"),T=D.animType,P=D.animObj,B=D.dummyObj,V=D.duration,I=o.components.data;C={};var _={},E=d.getAxisBase();b=d.yBasePos=d.getAxisPosition(E),t=0;var E=i.showShadow,O=i.plotBorderThickness,N=i.plotRadius,F=o.graphics.container,R=o.graphics.trackerContainer;a=o.graphics.dataLabelContainer;var M=o.graphics.shadowContainer;f=L.datalabelsGroup,x=L.trackerGroup;var W,j,H,z,L=!0,Y=!1,U=!1,J=s.components.legend.config.isActive,q=[],K=(o.components.removeDataArr||[]).length,X=i.showHoverEffect,Q=function(e){Ae.call(this,s,e)},Z=function(e){return function(t){0!==this.data("showHoverEffect")&&e.attr(this.data("setRolloverAttr")),Ae.call(this,s,t,"DataPlotRollOver")}},$=function(e){return function(t){0!==this.data("showHoverEffect")&&e.attr(this.data("setRolloutAttr")),Ae.call(this,s,t,"DataPlotRollOut")}},ee=function(){o.drawLabel()};for(c&&c.enabled&&(c.resetLegend(),c.clearListeners()),c.notifyWhenUpdate(o.updatePlot,o),F||(F=o.graphics.container=l.group("columns",e),n||F.hide()),R||(R=o.graphics.trackerContainer=l.group("col-hot",x),n||R.hide()),M||(M=o.graphics.shadowContainer=l.group("shadow",e).toBack(),n||M.hide()),a||(a=o.graphics.dataLabelContainer=l.group("datalabel",f),n||a.hide()),e=r&&r.length,H=s.config.canvasWidth/s.jsonData.columns.column.length,f=s.config.canvasHeight/s.jsonData.rows.row.length,a=0;e>a;a++)y=(x=I[a])&&x.config,C=y.setValue,z=!1,c&&c.enabled&&!J&&(y.visible=!0),_=h.getCategoryFromId(r[a].columnid.toLowerCase()),A=d.getCategoryFromId(r[a].rowid.toLowerCase()),_.catObj&&A.catObj&&y.value!==u&&(i.mapByCategory||null!==C?(U=!1,v=_.index.toString()+A.index.toString(),q.push(v),w=y.setLink,W=y.colorArr,x.graphics||(I[a].graphics={}),b=y.displayValue,p=h.getAxisPosition(_.index)-H/2,g=d.getAxisPosition(A.index)-f/2,m=H,v=y.toolText,j=y.plotBorderDashStyle,x.graphics.valEle&&x.graphics.valEle.hide(),x.graphics.tlLabel&&x.graphics.tlLabel.hide(),x.graphics.trLabel&&x.graphics.trLabel.hide(),x.graphics.blLabel&&x.graphics.blLabel.hide(),x.graphics.brLabel&&x.graphics.brLabel.hide(),A={index:a,link:w,value:y.percentValue||C,displayValue:b,
columnId:_.catObj.id,rowId:A.catObj.id,tlLabel:y.tlLabel,trLabel:y.trLabel,blLabel:y.blLabel,brLabel:y.brLabel,toolText:v,id:u,datasetIndex:J?x.datasetIndex:void 0,datasetName:J?x.datasetName:void 0,visible:n},C=y.setRolloutAttr,_=y.setRolloverAttr,b=g,t=f,t={x:p,y:b,width:m,height:t||1,r:N,ishot:!S,fill:y.color,stroke:k(W[1]),"stroke-width":V?0:O,"stroke-dasharray":j,"fill-opacity":V?0:y.plotFillAlpha/100,"stroke-linejoin":"miter",visibility:y.visible?"visible":"hidden"},x._xPos=p,x._yPos=g,x._height=f,x._width=m,x.graphics.element?(Y=!0,t={x:p,y:g,width:m,height:f||1},b=x.graphics.element,b.animateWith(B,P,t,V,D.animType),b.attr({ishot:!S,fill:y.color,stroke:k(W[1]),"fill-opacity":y.visible?y.plotFillAlpha/100:0,"stroke-width":y.visible?O:0,"stroke-dasharray":j,"stroke-linejoin":"miter",visibility:y.visible?"visible":"hidden"})):(b=x.graphics.element=l.rect(t,F),z=!0,b.animateWith(B,P,{"fill-opacity":y.plotFillAlpha/100,"stroke-width":O},V,T,L&&ee),L=!1,V||(Y=!0)),b.shadow({opacity:E},M).data("BBox",void 0),(w||S)&&(ne>f&&(g-=(ne-f)/2,f=ne),t={x:p,y:g,width:m,height:f,r:N,cursor:w?"pointer":u,stroke:G,"stroke-width":O,fill:G,ishot:!0,visibility:y.visible?"visible":"hidden"},x.graphics.hotElement?x.graphics.hotElement.attr(t):(y=x.graphics.hotElement=l.rect(t,R),z=!0)),y=x.graphics.hotElement,z&&(y||b).click(Q).hover(Z(b),$(b)),(y||b).data("eventArgs",A).data("groupId",void 0).data("showHoverEffect",X).data("setRolloverAttr",_).data("setRolloutAttr",C).tooltip(v)):(x.graphics.element&&x.graphics.element.hide(),x.graphics.hotElement&&x.graphics.hotElement.hide(),U=!0));(Y||U)&&o.drawLabel(),K&&o.remove()},drawLabel:function(){var e,t,a,o,i,r,n,s,l,h,d,c,p,m,f,v,x,b,y,w,C,k,A,L,S=this.chart,D=S.config,T=S.graphics,P=S.components.paper,B=S.linkedItems.smartLabel,V=S.config.dataLabelStyle,I=this.config,_=this.JSONData.data.length,E=this.components.data,O=this.visible,N=this.graphics.dataLabelContainer,F={fontFamily:V.fontFamily,fontSize:V.fontSize,lineHeight:V.lineHeight,fontWeight:V.fontWeight,fontStyle:V.fontStyle},S=S.get("config","animationObj"),R=S.animObj,M=S.dummyObj,G=S.duration,T=T.datalabelsGroup;for(N||(N=this.graphics.dataLabelContainer=P.group("datalabel",T),O||N.hide()),O=I.tlLabelStyle,T=I.trLabelStyle,n=I.blLabelStyle,s=I.brLabelStyle,l={fontFamily:O.fontFamily,fontSize:O.fontSize,lineHeight:O.lineHeight,fontWeight:O.fontWeight,fontStyle:O.fontStyle},h={fontFamily:T.fontFamily,fontSize:T.fontSize,lineHeight:T.lineHeight,fontWeight:T.fontWeight,fontStyle:T.fontStyle},d={fontFamily:n.fontFamily,fontSize:n.fontSize,lineHeight:n.lineHeight,fontWeight:n.fontWeight,fontStyle:n.fontStyle},c={fontFamily:s.fontFamily,fontSize:s.fontSize,lineHeight:s.lineHeight,fontWeight:s.fontWeight,fontStyle:s.fontStyle},B.useEllipsesOnOverflow(D.useEllipsesWhenOverflow),B.setStyle(V),e=0;_>e;e++)D=E[e],void 0!==D&&(a=D.graphics)&&(a=D&&D.config,p=a.setValue,I.mapByCategory||null!==p?(t=a.displayValue,(p=D.graphics.element)&&(p=D._width,m=D._height,f=D._xPos,v=D._yPos,B.setStyle(V),W(t)&&t!==g&&a.showValue?(x=B.getSmartText(t,p,m,!1),t=x.text,o=v+.5*m,i=f+.5*p,D.graphics.valEle?(D.graphics.valEle.animateWith(M,R,{x:i,y:o},G,S.animType),D.graphics.valEle.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:V.color,direction:a.textDirection,"text-bound":[V.backgroundColor,V.borderColor,V.borderThickness,V.borderPadding,V.borderRadius,V.borderDash]})):(D.graphics.valEle=P.text(N),D.graphics.valEle.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:V.color,direction:a.textDirection,x:i,y:o,"text-bound":[V.backgroundColor,V.borderColor,V.borderThickness,V.borderPadding,V.borderRadius,V.borderDash]})),a.visible&&D.graphics.valEle.show(),D.graphics.valEle.css(F),t=a.tlLabel,i=a.trLabel,b=a.blLabel,y=a.brLabel,r=W(t)&&t!==g,w=W(i)&&i!==g,C=W(b)&&b!==g,k=W(y)&&y!==g,A=p*(r&&w?.5:.9),L=.5*(m-(x&&x.height||0)),o=v+4,r?(B.setStyle(O),x=B.getSmartText(t,A,L,!1),t=x.text,r=f,D.graphics.tlLabel?(D.graphics.tlLabel.animateWith(M,R,{x:r+4,y:o},G,S.animType),D.graphics.tlLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:O.color,"text-anchor":"start","vertical-align":"top",direction:a.textDirection,"text-bound":[O.backgroundColor,O.borderColor,O.borderThickness,O.borderPadding,O.borderRadius,O.borderDash]})):(D.graphics.tlLabel=P.text(N),D.graphics.tlLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:O.color,"text-anchor":"start","vertical-align":"top",direction:a.textDirection,x:r+4,y:o,"text-bound":[O.backgroundColor,O.borderColor,O.borderThickness,O.borderPadding,O.borderRadius,O.borderDash]})),a.visible&&D.graphics.tlLabel.show(),D.graphics.tlLabel.css(l)):D.graphics.tlLabel&&(D.graphics.tlLabel.remove(),delete D.graphics.tlLabel),w?(B.setStyle(T),x=B.getSmartText(i,A,L,!1),t=x.text,r=f+p,D.graphics.trLabel?(D.graphics.trLabel.animateWith(M,R,{x:r-4,y:o},G,S.animType),D.graphics.trLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:T.color,"text-anchor":"end","vertical-align":"top",direction:a.textDirection,"text-bound":[T.backgroundColor,T.borderColor,T.borderThickness,T.borderPadding,T.borderRadius,T.borderDash]})):(D.graphics.trLabel=P.text(N),D.graphics.trLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:T.color,"text-anchor":"end","vertical-align":"top",direction:a.textDirection,x:r-4,y:o,"text-bound":[T.backgroundColor,T.borderColor,T.borderThickness,T.borderPadding,T.borderRadius,T.borderDash]})),a.visible&&D.graphics.trLabel.show(),D.graphics.trLabel.css(h)):D.graphics.trLabel&&(D.graphics.trLabel.remove(),delete D.graphics.trLabel),o=v+m-4,C?(B.setStyle(n),x=B.getSmartText(b,A,L,!1),t=x.text,r=f,D.graphics.blLabel?(D.graphics.blLabel.animateWith(M,R,{x:r+4,y:o},G,S.animType),D.graphics.blLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:n.color,"text-anchor":"start","vertical-align":"bottom",direction:a.textDirection,"text-bound":[n.backgroundColor,n.borderColor,n.borderThickness,n.borderPadding,n.borderRadius,n.borderDash]})):(D.graphics.blLabel=P.text(N),D.graphics.blLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:n.color,"text-anchor":"start","vertical-align":"bottom",direction:a.textDirection,x:r+4,y:o,"text-bound":[n.backgroundColor,n.borderColor,n.borderThickness,n.borderPadding,n.borderRadius,n.borderDash]})),a.visible&&D.graphics.blLabel.show(),D.graphics.blLabel.css(d)):D.graphics.blLabel&&(D.graphics.blLabel.remove(),delete D.graphics.blLabel),k?(B.setStyle(n),x=B.getSmartText(y,A,L,!1),t=x.text,r=f+p-4,D.graphics.brLabel?(D.graphics.brLabel.animateWith(M,R,{x:r,y:o},G,S.animType),D.graphics.brLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:s.color,"text-anchor":"end","vertical-align":"bottom",direction:a.textDirection,"text-bound":[s.backgroundColor,s.borderColor,s.borderThickness,s.borderPadding,s.borderRadius,s.borderDash]})):(D.graphics.brLabel=P.text(N),D.graphics.brLabel.attr({text:t,title:x.tooltext||u,visibility:a.visible?"visible":"hidden",fill:s.color,"text-anchor":"end","vertical-align":"bottom",direction:a.textDirection,x:r,y:o,"text-bound":[s.backgroundColor,s.borderColor,s.borderThickness,s.borderPadding,s.borderRadius,s.borderDash]})),a.visible&&D.graphics.brLabel.show(),D.graphics.brLabel.css(c)):D.graphics.brLabel&&(D.graphics.brLabel.remove(),delete D.graphics.brLabel)):(D.graphics.valEle&&(D.graphics.valEle.remove(),delete D.graphics.valEle),D.graphics.tlLabel&&(D.graphics.tlLabel.remove(),delete D.graphics.tlLabel),D.graphics.trLabel&&(D.graphics.trLabel.remove(),delete D.graphics.trLabel),D.graphics.blLabel&&(D.graphics.blLabel.remove(),delete D.graphics.blLabel),D.graphics.brLabel&&(D.graphics.brLabel.remove(),delete D.graphics.brLabel)))):(D.graphics.valEle&&D.graphics.valEle.hide(),D.graphics.tlLabel&&D.graphics.tlLabel.hide(),D.graphics.trLabel&&D.graphics.trLabel.hide(),D.graphics.blLabel&&D.graphics.blLabel.hide(),D.graphics.brLabel&&D.graphics.brLabel.hide()));this.labelDrawn=!0},remove:function(){var e,t,a,o,i=this.components,r=i.removeDataArr,n=i.pool||(i.pool={element:[],hotElement:[],label:[]}),s=r.length,l=this.maxminFlag;for(o=0;s>o;o++)if(e=r[0],r.splice(0,1),e&&e.graphics){a=e.graphics;for(t in a)a[t].stop(),a[t].hide();e.graphics.element&&(n.element=n.element.concat(e.graphics.element)),e.graphics.hotElement&&(n.hotElement=n.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(n.label=n.label.concat(e.graphics.label))}i.pool=n,l&&this.setMaxMin()},getEventArgs:function(e){var t=e.dataset.config||{};return{datasetName:t.label,datasetIndex:e.index,visible:t.visible}}},"Column"]),FusionCharts.register("component",["datasetGroup","heatmap",{},d]),FusionCharts.register("component",["dataset","Kagi",{type:"kagi",_parseShadowOptions:function(){var e=this.config;return{opacity:x(this.chart.jsonData.chart.showshadow,1)?e.lineAlpha/100:0}},configure:function(){var e,a,o,i,r,n,s,l,h,d,c,p,g,u,m,v,b,y,w,C,k,A,L,S=this.chart,D=S.components.xAxis[0],T=0,P=[],B=t.getDashStyle;p=0;var V;for(this.__base__.configure.call(this),e=this.components,o=e.data,i=this.config,r=this.JSONData.data,S=S.jsonData.chart,n=i.maxValue,s=i.minValue,a=e.removeDataArr||(e.removeDataArr=[]),e=!1,l=0,h=x(S.reversalvalue,-1),d=x(S.reversalpercentage,5),c=0;c<o.length;c+=1)o[c].config.__nullCount=p,null===o[c].config.setValue&&(a.push(o.splice(c,1)[0]),p++,--c);if(o.length){for(i.rallyColor=f(S.rallycolor,"FF0000"),i.rallyAlpha=x(S.rallyalpha,S.linealpha,100),i.declineColor=f(S.declinecolor,"0000FF"),i.declineAlpha=x(S.declinealpha,S.linealpha,100),i.canvasPadding=x(S.canvaspadding,15),i.maxHShiftPercent=x(S.maxhshiftpercent,10),i.rallyThickness=x(S.rallythickness,S.linethickness,2),c=x(S.rallydashlen,S.linedashlen,5),p=x(S.rallydashgap,S.linedashgap,4),i.declineThickness=x(S.declinethickness,S.linethickness,2),a=x(S.declinedashlen,S.linedashlen,5),g=x(S.declinedashgap,S.linedashgap,4),i.lineDashed={"true":x(S.rallydashed,S.linedashed,0),"false":x(S.declinedashed,S.linedashed,0)},i.rallyDashed=x(S.rallydashed,S.linedashed,0)?B(c,p,i.rallyThickness):"none",i.declineDashed=x(S.declinedashed,S.linedashed,0)?B(a,g,i.declineThickness):"none",i.canvasPadding=x(S.canvaspadding,this.canvasPadding,15),h=h>0?h:d*(n-s)/100,B=o[0].config.setValue,n=function(e,t){for(var a,i=1,r=o[0].config.setValue;e>i;)a=o[i].config.setValue,t?r>=a&&(o[i].config.isDefined=!1):a>=r&&(o[i].config.isDefined=!1),i+=1;o[0].config.vAlign=t?me:ue,o[0].config.align="center"},s=r.length,d=c=0;s>d;d+=1,c+=1)if(u=r[d],(!u||!u.vline)&&(a=o[c]&&o[c].config,m&&(m=!1),a&&(a.isDefined=!0),u.tooltext||this.JSONData.plottooltext||S.plottooltext||a&&(a.toolText+=a.displayValue),c&&a)){if(a.isShift=void 0,v=o[c-1].config,a.vAlign="middle",a.align=fe,a.showLabel=!1,p=null,g=a.setValue,b=o[c+1]&&o[c+1].config.setValue,y=Z(B-g),e?C>g&&w?w=!1:g>k&&!w&&(w=!0):(g>B&&y>h?(w=!0,C=B,k=null,e=A=!0,n(c,w)):B>g&&y>h?(w=!1,C=null,k=B,A=!1,e=!0,n(c,w)):(A=w=null,e=!1),W(v)&&(v.isRally=w),null!=w&&(o[0].config.isRally=w)),a.isRally=w,(A&&B>g||!A&&g>B)&&(p=B),L=p?p:g,y=Z(L-b),b=null==A?null:A?L>b&&y>=h:b>L&&y>=h,v&&v.isShift)for(A?(C=B,V=me):A||(k=B,V=ue),v=c;v>1;--v)if(o[v].y==B){o[v].vAlign=V,o[v].align="center",o[v].showLabel=!0;break}b?(l+=1,m=!0,A=!A,a.isShift=!0,B=L,P.push(r[c+a.__nullCount]),T=this._appendCategory(T,c,P,0)):A&&g>B||!A&&B>g?B=g:p=B,a.plotValue=p,a.objParams={isRally:w,lastHigh:k,lastLow:C,isRallyInitialised:e}}this._appendCategory(T,c,P,1),P.push(u),D.setCategory(P),i.shiftCount=l+1}},_appendCategory:function(e,t,a,o){var i,r,n,s=this.JSONData.catData;if(e<s.length)for(i=e;i<s.length;i+=1,e=i){if(r=s[i],n=r.data,r=r.index-(i+1),t>r)n.lineposition=x(n.lineposition,o);else if(r>t)break;a.push(n)}return e},draw:function(){var e,t,a=this,o=a.graphics,i=a.JSONData,n=a.chart,s=n.components,l=n.config,d=a.config,c=a.components,p=c.data;e=(c=c.removeDataArr)&&c.length;var m,f,v,x,b,y,w,C,A,L,S,D,T,P,B,V,I,_,E,N,F,R,M,W=p&&p.length,c=p&&p.length,j=l.style,H=s.paper,z=s.xAxis[0],Y=n.graphics,s=Y.datalabelsGroup,U=a.components.data,J={fontFamily:j.fontFamily,fontSize:j.fontSize,lineHeight:j.lineHeight,fontWeight:j.fontWeight,fontStyle:j.fontStyle,color:j.color},q=o.container,Z=o.trackerContainer,$=Y.tracker,ee=Y.datasetGroup,Y=d.shadow,te=o.dataLabelContainer,ae={},oe=!1,ie=function(){q.lineGroup.attr({"clip-rect":null}),q.lineShadowGroup.show(),q.anchorShadowGroup.show(),q.anchorGroup.show(),Z.show(),te&&te.show()},re=!0,ne=z.getAxisPosition(0),se=z.getAxisPosition(1)-ne,j={"clip-rect":[Q(0,l.canvasLeft),Q(0,l.canvasTop),Q(1,l.canvasWidth),Q(1,l.canvasHeight)]},le={"clip-rect":[Q(0,l.canvasLeft),Q(0,l.canvasTop),1,Q(1,l.canvasHeight)]},l={stroke:k({color:d.rallyColor,alpha:d.rallyAlpha}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":d.rallyThickness,"stroke-dasharray":d.rallyDashed},he={stroke:k({color:d.declineColor,alpha:d.declineAlpha}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":d.declineThickness,"stroke-dasharray":d.declineDashed},de={"true":l["stroke-width"],"false":he["stroke-width"]},ce=[],pe=[],ge=o.rallyElem,ue=o.declineElem,me=a.visible,fe=z.getAxisPosition(0),ve=p[0]&&!!p[0].isRally,ne=ne-se/2,xe=o.lineElement,be=a.pool||(a.pool={}),ye=n.get("config","animationObj"),we=ye.duration||0,Ce=ye.dummyObj,ke=ye.animObj,Ae=ye.animType;if(e&&a.remove(),p.length){if(ge&&ge.show(),ue&&ue.show(),q||(q=a.graphics.container={lineShadowGroup:H.group("connector-shadow",ee).attr(le),anchorShadowGroup:H.group("anchor-shadow",ee).attr(le),lineGroup:H.group(h,ee).attr(le),anchorGroup:H.group("anchors",ee).attr(le)},me||(q.lineShadowGroup.hide(),q.anchorShadowGroup.hide(),q.lineGroup.hide(),q.anchorGroup.hide())),Z||(Z=a.graphics.trackerContainer=H.group("line-hot").trackTooltip(!0),me||Z.hide()),U||(U=a.components.data=[]),$&&$.appendChild(Z),n._addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",J),te||(te=a.graphics.dataLabelContainer=a.graphics.dataLabelContainer||H.group("datalabel",s),me||te.hide()),X(W,c),p[0].config.setValue)F=p[0].config.plotY;else for(e=1;c>e;e+=1)if(w=p[e].config.setValue){F=p[e].config.plotY;break}ve=!!p[0].config.isRally,c=K(F)+de[ve]%2/2,ve?ce.push("M",ne,c,"H",fe):pe.push("M",ne,c,"H",fe),O(p,function(e,o){e=e.config,L=U[o],E=L.config,t=L.graphics,B=E.hoverEffects,w=E.setValue,A=E.displayValue,oe=!1,R=p[o+1]&&p[o+1].config||{},M=["M",fe,F],ve=e.isRally,e.isShift&&(fe+=se,F=e.graphY,M.push("H",fe),M[2]=K(M[2])+de[ve]%2/2,M=M.toString(),ve?ce.push(M):pe.push(M),M=["M",fe,F]),R.isChanged&&(F=R.ty,M.push("V",F),M[1]=K(M[1])+de[ve]%2/2,M=M.toString(),ve?ce.push(M):pe.push(M),M=["M",fe,F]),N=R.isRally,R.graphY!==M[2]&&(M.push("V",R.graphY),M[1]=K(M[1])+de[N]%2/2,M=M.toString(),N?ce.push(M):pe.push(M)),F=R.graphY,m=L._xPos=z.getAxisPosition(e.plotX),f=L._yPos=e.plotY,ae=E.anchorProps,_=ae.symbol,V=ae.shadow,v=e.toolText,y=E.setLink,void 0!==f&&!isNaN(f)&&e.isDefined&&(C={index:o,link:y,value:w,displayValue:A,categoryLabel:E.label,toolText:v,id:d.userID,datasetIndex:0,datasetName:i.seriesname,visible:me},S=D={},ae.imageUrl?(I=new r,I.onload=a._onAnchorImageLoad(a,o,C,m,f,L),I.onerror=a._onErrorSetter(m,f,o,a),I.src=ae.imageUrl):((x=t.element)?(x.animateWith(Ce,ke,{polypath:[_[1]||2,m,f,ae.radius,ae.startAngle,0]},we,Ae),re&&ie(),re=!1):(be.element&&be.element.length?x=t.element=be.element.shift():(x=t.element=H.polypath(q.anchorGroup),oe=!0),x.attr({polypath:[_[1]||2,m,f,ae.radius,ae.startAngle,0]})),x.attr({fill:k({color:ae.bgColor,alpha:ae.bgAlpha}),stroke:k({color:ae.borderColor,alpha:ae.borderAlpha}),"stroke-width":ae.borderThickness,visibility:ae.radius?me:"hidden"}).shadow(V,q.anchorShadowGroup)),B.enabled&&(D={polypath:[B.anchorSides||2,m,f,B.anchorRadius,B.startAngle,B.dip],fill:k({color:B.anchorColor,alpha:B.anchorBgAlpha}),stroke:k({color:B.anchorBorderColor,alpha:B.anchorBorderAlpha}),"stroke-width":B.anchorBorderThickness},S={polypath:[ae.sides,m,f,ae.radius,ae.startAngle,0],fill:k({color:ae.bgColor,alpha:ae.bgAlpha}),stroke:k({color:ae.borderColor,alpha:ae.borderAlpha}),"stroke-width":ae.borderThickness},x&&x.data("anchorRadius",ae.radius).data("anchorHoverRadius",B.anchorRadius).data("setRolloverAttr",D).data("setRolloutAttr",S)),T=Q(ae.radius,B&&B.anchorRadius||0),P={cx:m,cy:f,r:T,cursor:y?"pointer":u,stroke:G,"stroke-width":ae.borderThickness,fill:G,ishot:!0,visibility:me},b=L.graphics.hotElement,b||(be.element&&be.element.length?b=t.hotElement=be.hotElement.shift():(b=t.hotElement=H.circle(Z),oe=!0)),b.attr(P).show(),(b||x).data("eventArgs",C).data("groupId",void 0).data("hoverEnabled",B.enabled).data("dataset",a).tooltip(d.showTooltip?v:g),oe&&(b||x).click(a.getPlotClickFn(n)).hover(a.rolloverResponseSetter(L,n),a.rolloutResponseSetter(L,n)),a.drawLabel(o))}),xe||(ge||(xe=ge=o.rallyElem=H.path(q.lineGroup)),ge.animateWith(Ce,ke,{path:ce},re?0:we,Ae).attr(l).shadow(Y,q.lineShadowGroup),ue||(xe=ue=o.declineElem=H.path(q.lineGroup)),ue.animateWith(Ce,ke,{path:pe},re?0:we,Ae).attr(he).shadow(Y,q.lineShadowGroup)),we&&re||(re=!1),q.anchorGroup.animateWith(Ce,ke,j,we,Ae),te.hide(),q.lineShadowGroup.animateWith(Ce,ke,j,we,Ae),q.anchorShadowGroup.animateWith(Ce,ke,j,we,Ae),q.lineShadowGroup.animateWith(Ce,ke,j,we,Ae),q.lineGroup.animateWith(Ce,ke,j,we,Ae,ie)}else ge&&ge.hide(),ue&&ue.hide()},hidingPosition:function(){return function(e){return e=e.graphics.element,{polypath:(e&&e.attr("polypath"))[3]=0,r:0,text:u}}}},"Line"]),a.addSymbol({resizeIcon:function(e,t,a){var o=x(a,15)/3,i=[];for(0>o&&(o=-o,a=-a,e+=a-o/2,t+=a-o/2),a=3;a>0;--a)i.push("M",e-o*a,t-3,"L",e-3,t-o*a);return i},closeIcon:function(e,t,a){var o=1.3*a,i=43*ie,r=48*ie,n=e+o*q(i),i=t+o*J(i),s=e+o*q(r),l=t+o*J(r),r=.71*(a-2);return a=.71*(a-2),o=["A",o,o,0,1,0,s,l],n=["M",n,i],n=n.concat(o),n=n.concat(["M",e+r,t-a,"L",e-r,t+a,"M",e-r,t-a,"L",e+r,t+a])},configureIcon:function(e,t,a){--a;var o=.71*a,i=.71*(a+2),r=e-a,n=t-a,s=e+a;a=t+a;var l=e+.5,h=t+.5,d=e-.5,c=t-.5,p=r-2,g=n-2,u=s+2,m=a+2,f=e+o,v=t+o,x=e-o,o=t-o,b=e+i,y=t+i;return e-=i,t-=i,["M",r,h,"L",p,h,p,c,r,c,x-.25,o+.25,e-.25,t+.25,e+.25,t-.25,x+.25,o-.25,d,n,d,g,l,g,l,n,f-.25,o-.25,b-.25,t-.25,b+.25,t+.25,f+.25,o+.25,s,c,u,c,u,h,s,h,f+.25,v-.25,b+.25,y-.25,b-.25,y+.25,f-.25,v+.25,l,a,l,m,d,m,d,a,x+.25,v+.25,e+.25,y+.25,e-.25,y-.25,x-.25,v-.25,"Z"]},axisIcon:function(e,t,a){--a;var o=.33*a,i=a/2,r=e-a,n=t-a,s=e+i;return a=t+a,e-=i,i=t+o,t-=o,["M",r,n,"L",s,n,s,a,r,a,"M",e,i,"L",s,i,"M",e,t,"L",s,t]},loggerIcon:function(e,t,a){--a,e-=a,t-=a;var o=e+2*a,i=e+2,r=o-2,n=t+2;a=n+a;var s=a+2;return["M",e,t,"L",o,t,o,n,r,n,r,a,o,a,o,s,e,s,e,a,i,a,i,n,e,n,e,t]}})},[3,2,1,"release"]]);