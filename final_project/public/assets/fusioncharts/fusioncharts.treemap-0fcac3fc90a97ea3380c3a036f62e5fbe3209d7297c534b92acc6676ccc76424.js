FusionCharts.register("module",["private","modules.renderer.js-treemap",function(){function t(t){return t?t.replace(/^#*/,"#"):"#E5E5E5"}function e(t,e,i){this.label=t,this.value=parseFloat(e,10),this.colorValue=parseFloat(i,10),this.prev=this.next=void 0,this.meta={}}function i(){this._b=[],this._css=void 0,this.rangeOurEffectApplyFn=function(){},this.statePointerLow={value:void 0,index:void 0},this.statePointerHigh={value:void 0,index:void 0}}var o,a,n,r,l=this.hcLib,h=l.chartAPI,s=Math,c=s.max,g=s.round,d=s.tan,u=s.min,f=s.PI,p=l.extend2,v=this.window,s=l.Raphael,b=l.graphics,y=b.convertColor,m=b.getLightColor,w=this.raiseEvent,x=l.pluckNumber,C=l.pluck,P=l.each,I=l.BLANKSTRING,k="rgba(192,192,192,"+(/msie/i.test(v.navigator.userAgent)&&!v.opera?.002:1e-6)+")",v=!/fusioncharts\.com$/i.test(v.location.hostname);s.addSymbol({backIcon:function(t,e,i){--i;var o=e+i,a=o-i/2,n=t+i,r=a-i;return["M",t,e-i,"L",t-i,e,t,o,t,a,n,a,n,r,n-i,r,"Z"]},homeIcon:function(t,e,i){--i;var o=2*i,a=t-i,n=a+o/6,r=e+i,l=n+o/4,h=r-i/2,s=l+o/6,c=h+i/2,g=s+o/4,d=c-i;return["M",t,e-i,"L",a,e,n,e,n,r,l,r,l,h,s,h,s,c,g,c,g,d,g+o/6,d,"Z"]}}),e.prototype.constructor=e,e.prototype.getCSSconf=function(){return this.cssConf},e.prototype.getPath=function(){return this.path},e.prototype.setPath=function(){var t=this.getParent();this.path=(t?t.getPath():[]).concat(this)},e.prototype.addChild=function(t){return t instanceof e&&(this.next=this.next||[],[].push.call(this.next,t),t.setParent(this)),this.next},e.prototype.getChildren=function(){return this.next},e.prototype.addChildren=function(t,e){var i=this.getChildren()||(this.next=[]),o=i.length;e||(e=o-1),i.splice(e>o-1?o-1:0>e?0:e,0,t),t.setParent(this)},e.prototype.getDepth=function(){return this.meta.depth},e.prototype.isLeaf=function(t){return(t?this.getDepth()<t:!0)&&this.next},e.prototype.setParent=function(t){return t instanceof e&&(this.prev=t),this},e.prototype.getSiblingCount=function(t){var i,o=0,a=this;if(this instanceof e){if(i=this.getParent(),t){for(;a;)(a=a.getSibling(t))&&(o+=1);return o}if(i)return i.getChildren().length}},e.prototype.getParent=function(){return this.prev},e.prototype.getLabel=function(){return this.label},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,e){this.value=e?this.value+t:t},e.prototype.getColorValue=function(){return this.colorValue},e.prototype.getSibling=function(t){t=t.toLowerCase();var e,i,o=this.getParent(),a=this.getLabel();if(o)for(o=o.getChildren(),e=0;e<o.length;e++)if(i=o[e],i=i.getLabel(),i===a)switch(t){case"left":return o[e-1];case"right":return o[e+1]}},e.prototype.setMeta=function(t,e){this.meta[t]=e},e.prototype.setDepth=function(t){this.meta.depth=t},e.prototype.getMeta=function(t){return t?this.meta[t]:this.meta},i.prototype.constructor=i,i.prototype.resetPointers=function(){this.statePointerLow={value:void 0,index:void 0},this.statePointerHigh={value:void 0,index:void 0}},i.prototype.setRangeOutEffect=function(t,e){this._css=t,this.rangeOurEffectApplyFn=e},i.prototype.addInBucket=function(t){var e=this._b,i=t.getColorValue(),o=0,a=e.length-1;if(i){t:{for(var n,r;a>=o;)if(n=(o+a)/2|0,r=e[n],r=r.getColorValue(),i>r)o=n+1;else{if(!(r>i)){i=n;break t}a=n-1}i=~a}e.splice(Math.abs(i),0,t)}},i.prototype.moveLowerShadePointer=function(t){var e,i,o,a=this._b,n=this.statePointerLow;e=n.index,i=n.value;var r=!1;if(e=void 0!==e?e:0,i=void 0!==i?i:Number.NEGATIVE_INFINITY,t!==i){if(t>=i){for(;o=(i=a[e++])?i.getColorValue():0,!(o>t)&&i;)r=!0,i.rangeOutEffect=this._css,this.rangeOurEffectApplyFn.call(i,this._css);e=r?e-2:e-1}else{for(;o=(i=a[e--])?i.getColorValue():0,!(t>=o)&&i;)i.cssConf=i.cssConf||{},r=!0,delete i.rangeOutEffect,i.cssConf.opacity=1,this.rangeOurEffectApplyFn.call(i,i.cssConf);e=r?e+2:e+1}n.index=e,n.value=t}},i.prototype.moveHigherShadePointer=function(t){var e,i,o=this._b,a=o.length,n=this.statePointerHigh;i=n.index,e=n.value;var r=!1,a=void 0!==i?i:a-1;if(e=void 0!==e?e:Number.POSITIVE_INFINITY,t!==e){if(e>t){for(;i=(e=o[a--])?e.getColorValue():0,!(t>=i)&&e;)r=!0,e.rangeOutEffect=this._css,this.rangeOurEffectApplyFn.call(e,this._css);a=r?a+2:a+1}else{for(;i=(e=o[a++])?e.getColorValue():0,!(i>t)&&e;)e.cssConf=e.cssConf||{},r=!0,delete e.rangeOutEffect,e.cssConf.opacity=1,this.rangeOurEffectApplyFn.call(e,e.cssConf);a=r?a-2:a-1}n.index=a,n.value=t}},h("treemap",{friendlyName:"TreeMap",standaloneInit:!0,hasGradientLegend:!0,creditLabel:v,defaultDatasetType:"treemap",applicableDSList:{treemap:!0},addData:function(){var t=this._ref.algorithmFactory,e=Array.prototype.slice.call(arguments,0);e.unshift("addData"),e.unshift(this._getCleanValue()),t.realTimeUpdate.apply(this,e)},removeData:function(){var t=this._ref.algorithmFactory,e=Array.prototype.slice.call(arguments,0);e.unshift("deleteData"),e.unshift(this._getCleanValue()),t.realTimeUpdate.apply(this,e)},_createToolBox:function(){var t,e,i,o,a=this.components;t=a.chartMenuBar,t&&t.drawn||(h.mscartesian._createToolBox.call(this),t=a.tb,e=t.getAPIInstances(t.ALIGNMENT_HORIZONTAL),i=e.Symbol,e=a.chartMenuBar.componentGroups[0],o=new i("backIcon",!1,(t.idCount=t.idCount||0,t.idCount++),t.pId),t=new i("homeIcon",!1,t.idCount++,t.pId),e.addSymbol(t,!0),e.addSymbol(o,!0),a.toolbarBtns={back:o,home:t})},_getCleanValue:function(){var t=this.components.numberFormatter;return function(e){return t.getCleanValue(e)}},_createDatasets:function(){var t=this.components,e=this.jsonData,i=e.dataset,i=e.data||i&&i[0].data,o=this.defaultDatasetType,a=[];i&&i.length||this.setChartMessage(),P(i,function(t){t.vline||a.push(t)}),e={data:a},this.config.categories=a,t=t.dataset||(t.dataset=[]),i?o&&(i=FusionCharts.get("component",["dataset",o]))&&(t[0]?(t[0].JSONData=a[0],t[0].configure()):(this._dsInstance=i=new i,t.push(i),i.chart=this,i.init(e))):this.setChartMessage()},init:function(){var t={},e={},i={};this._ref={afAPI:o(t,e,i),algorithmFactory:a(t,e,i),containerManager:r(t,e,i),treeOpt:n},h.guageBase.init.apply(this,arguments)}},h.guageBase),FusionCharts.register("component",["dataset","TreeMap",{type:"treemap",pIndex:2,customConfigFn:"_createDatasets",init:function(t){this.JSONData=t.data[0],this.components={},this.conf={},this.graphics={elemStore:{rect:[],label:[],highlight:[],hot:[],polypath:[]}},this.configure()},configure:function(){var t,e=this.chart,i=e.components,o=this.conf,e=e.jsonData.chart;o.metaTreeInf={},o.algorithm=(e.algorithm||"squarified").toLowerCase(),o.horizontalPadding=x(e.horizontalpadding,5),o.horizontalPadding=0>o.horizontalPadding?0:o.horizontalPadding,o.verticalPadding=x(e.verticalpadding,5),o.verticalPadding=0>o.verticalPadding?0:o.verticalPadding,o.showParent=x(e.showparent,1),o.showChildLabels=x(e.showchildlabels,0),o.highlightParentsOnHover=x(e.highlightparentsonhover,0),o.defaultParentBGColor=C(e.defaultparentbgcolor,void 0),o.defaultNavigationBarBGColor=C(e.defaultnavigationbarbgcolor,o.defaultParentBGColor),o.showTooltip=x(e.showtooltip,1),o.baseFontSize=x(e.basefontsize,10),o.baseFontSize=1>o.baseFontSize?1:o.baseFontSize,o.labelFontSize=x(e.labelfontsize,void 0),o.labelFontSize=1>o.labelFontSize?1:o.labelFontSize,o.baseFont=C(e.basefont,"Verdana, Sans"),o.labelFont=C(e.labelfont,void 0),o.baseFontColor=C(e.basefontcolor,"#000000").replace(/^#?([a-f0-9]+)/gi,"#$1"),o.labelFontColor=C(e.labelfontcolor,void 0),o.labelFontColor&&(o.labelFontColor=o.labelFontColor.replace(/^#?([a-f0-9]+)/gi,"#$1")),o.labelFontBold=x(e.labelfontbold,0),o.labelFontItalic=x(e.labelfontitalic,0),o.plotBorderThickness=x(e.plotborderthickness,1),o.plotBorderThickness=0>o.plotBorderThickness?0:5<o.plotBorderThickness?5:o.plotBorderThickness,o.plotBorderColor=C(e.plotbordercolor,"#000000").replace(/^#?([a-f0-9]+)/gi,"#$1"),o.tooltipSeparationCharacter=C(e.tooltipsepchar,","),o.plotToolText=C(e.plottooltext,""),o.parentLabelLineHeight=x(e.parentlabellineheight,12),o.parentLabelLineHeight=0>o.parentLabelLineHeight?0:o.parentLabelLineHeight,o.labelGlow=x(e.labelglow,1),o.labelGlowIntensity=x(e.labelglowintensity,100)/100,o.labelGlowIntensity=0>o.labelGlowIntensity?0:1<o.labelGlowIntensity?1:o.labelGlowIntensity,o.labelGlowColor=C(e.labelglowcolor,"#ffffff").replace(/^#?([a-f0-9]+)/gi,"#$1"),o.labelGlowRadius=x(e.labelglowradius,2),o.labelGlowRadius=0>o.labelGlowRadius?0:10<o.labelGlowRadius?10:o.labelGlowRadius,o.btnResetChartTooltext=C(e.btnresetcharttooltext,"Back to Top"),o.btnBackChartTooltext=C(e.btnbackcharttooltext,"Back to Parent"),o.rangeOutBgColor=C(e.rangeoutbgcolor,"#808080").replace(/^#?([a-f0-9]+)/gi,"#$1"),o.rangeOutBgAlpha=x(e.rangeoutbgalpha,100),o.rangeOutBgAlpha=1>o.rangeOutBgAlpha||100<o.rangeOutBgAlpha?100:o.rangeOutBgAlpha,t=x(e.maxdepth),o.maxDepth=void 0!==t?c(t,1):void 0,t=o.showNavigationBar=x(e.shownavigationbar,1),o.slicingMode=C(e.slicingmode,"alternate"),o.navigationBarHeight=x(e.navigationbarheight),o.navigationBarHeightRatio=x(e.navigationbarheightratio),o.navigationBarBorderColor=C(e.navigationbarbordercolor,o.plotBorderColor).replace(/^#?([a-f0-9]+)/gi,"#$1"),o.navigationBarBorderThickness=t?x(e.navigationbarborderthickness,o.plotBorderThickness):0,o.seperatorAngle=x(e.seperatorangle)*(f/180),i.postLegendInitFn({min:0,max:100}),o.isConfigured=!0},draw:function(){var t,e,i,o,a,n,r,l,h,s,c,g,d,u=this.conf,f=this.chart,v=f.config,b=f.components,y=v.canvasLeft,m=v.canvasRight,w=v.canvasBottom,x=v.canvasTop,C=b.paper,P=f.graphics,S=P.trackerGroup,v=u.metaTreeInf,V=this.graphics.elemStore,A={},b=b.gradientLegend,B=f._ref,F=B.afAPI.visibilityController,R=f.get("config","animationObj"),T=R.duration||0,H=R.dummyObj,L=R.animObj,_=R.animType,R=B.containerManager,B=B.algorithmFactory;for(e in V){for(s=V[e],g=0,d=s.length;d>g;g++)(c=s[g])&&c.remove&&c.remove();s.length=0}R.remove(),t=P.datasetGroup=P.datasetGroup||C.group("dataset"),e=P.datalabelsGroup=P.datalabelsGroup||C.group("datalabels").insertAfter(t),i=P.lineHot=P.lineHot||C.group("line-hot",S),o=P.labelHighlight=P.labelHighlight||C.group("labelhighlight",e),a=P.floatLabel=P.floatLabel||C.group("labelfloat",e).insertAfter(o),u.colorRange=b.colorRange,v.effectiveWidth=m-y,v.effectiveHeight=w-x,v.startX=y,v.startY=x,n=v.effectiveWidth/2,r=v.effectiveHeight/2,n=v.effectiveWidth/2,r=v.effectiveHeight/2,A.drawPolyPath=function(e,i){var o,a;return o=(A.graphicPool(!1,"polyPathItem")||(a=C.path(t))).attr({path:e._path}).animateWith(H,L,{path:e.path},T,_),o.css(i),a&&V.polypath.push(a),o},A.drawRect=function(e,i,o,a){var h,s,c,g={},d={};for(h in e)s=e[h],0>s&&(e[h]=0,d.visibility="hidden");return p(g,e),g.x=n,g.y=r,g.height=0,g.width=0,l=A.graphicPool(!1,"plotItem")||(c=C.rect(t)),l.attr(o&&(o.x||o.y)&&o||g),l.attr(a),l.animateWith(H,L,e,T,_,F.controlPostAnimVisibility),l.css(i).toFront(),l.css(d),c&&V.rect.push(c),l},A.drawText=function(t,e,i,l,h){var s,c,g={},d=A.graphicPool(!1,"labelItem")||(s=C.text(a)),f=A.graphicPool(!1,"highlightItem")||(c=C.text(o)),v=i.textAttrs;return i=i.highlightAttrs,p(g,v),delete g.fill,g["stroke-linejoin"]="round",d.attr({x:l.x||n,y:l.y||r,fill:"#000000"}).css(v),d.attr(h),t=0>e.x||0>e.y?I:t,d.animateWith(H,L,{text:t,x:e.x,y:e.y},T,_),f.attr({text:t,x:l.x||n,y:l.y||r,stroke:u.labelGlow?"#ffffff":k}).css(g).css(i),f.attr(h),f.animateWith(H,L,{x:e.x,y:e.y},T,_),V.label.push(s),V.highlight.push(c),{label:d,highlightMask:f}},A.drawHot=function(t,e){var o;o=t.plotItem||{};var a,n,r,l=t.rect;for(n in l)r=l[n],0>r&&(l[n]=0);o=o.tracker=C.rect(i).attr(l).attr({cursor:"pointer",fill:"rgba(255, 255, 255, 0)",stroke:"none"});for(a in e)l=e[a],o[a].apply(o,l);return V.hot.push(o),o},A.disposeItems=function(t,e){var i,o,a,n=e||"plotItem labelItem hotItem highlightItem polyPathItem pathlabelItem pathhighlightItem stackedpolyPathItem stackedpathlabelItem stackedpathhighlightItem".split(" ");for(i=0;i<n.length;i+=1)a=n[i],(o=t[a])&&A.graphicPool(!0,a,o,t.rect),o&&o.hide(),t[a]=void 0},A.disposeChild=function(){var t,e=function(){return t.disposeItems},i=function(t,o){var a,n;for(e(t),a=0;a<(t.getChildren()||[]).length;a++)n=t.getChildren(),a=i(n[a],a);return o};return function(o){var a=o.getParent();t||(t=this,e=e()),a?t.disposeChild(a):i(o,0)}}(),A.graphicPool=function(){var t={};return function(e,i,o){var a=t[i];if(a||(a=t[i]=[]),"hotItem"!==i&&"pathhotItem"!==i||o.remove(),e)a.push(o);else if(e=a.splice(0,1)[0])return e.show(),e}}(),A.disposeComplimentary=function(t){var e,i;e=t.getParent();var o=t.getSiblingCount("left");e&&(i=e.getChildren(),e=i.splice(o,1)[0],this.disposeChild(t),i.splice(o,0,e)),this.removeLayers()},A.removeLayers=function(){var t,e,i,o;for(i=V.hot,o=i.length,t=0;o>t;t++)(e=i[t])&&e.remove();i.length=0},B.init(u.algorithm,!0,u.maxDepth),f=B.plotOnCanvas(this.JSONData,void 0,f._getCleanValue()),R.init(this,v,A,void 0,f),R.draw(),h=B.applyShadeFiltering({fill:u.rangeOutBgColor,opacity:.01*u.rangeOutBgAlpha},function(t){this.plotItem&&this.plotItem.css(t)}),b&&b.enabled&&(b.resetLegend(),b.clearListeners()),b.notifyWhenUpdate(function(t,e){h.call(this,{start:t,end:e})},this),u.isConfigured=!1}}]),o=function(o,a,n){function r(t,e,o){this.node=t,this.bucket=e?new i:void 0,this.cleansingFn=o}var l,h,s,c;return r.prototype.get=function(){var t=this.order,i=this.bucket,o=this.cleansingFn;return function a(n,r){var l,h,s,c;if(h=["label","value","data","svalue"],n)for(c in l=new e(n.label,o(n.value),o(n.svalue)),s=n.data||[],0===s.length&&i&&i.addInBucket(l),l.setDepth(r),n)-1===h.indexOf(c)&&l.setMeta(c,n[c]);for(t&&(s=t(s)),h=0;h<s.length;h++)c=s[h],c=a(c,r+1),l.addChild(c);return l}(this.node,0)},r.prototype.getBucket=function(){return this.bucket},r.prototype.getMaxDepth=function(){return h},l=function(t,e){function i(t){this.iterAPI=t}var o,a,n=e&&e.exception;return i.prototype.constructor=i,i.prototype.initWith=function(t){return this.iterAPI(t)},o=new i(function(t){var e=t,i=[],o=!1;return i.push(e),{next:function(t){var e,a;return o?void 0:(e=i.shift(),n&&e===n&&(e=i.shift(),!e)?void(o=!0):((a=(t=void 0!==t&&e.getDepth()>=t?[]:e.getChildren())&&t.length||0)&&[].unshift.apply(i,t),0===i.length&&(o=!0),e))},reset:function(){o=!1,e=t,i.length=0,i.push(e)}}}).initWith(t),a=new i(function(t){var e=t,i=[],o=[],a=!1;return i.push(e),o.push(e),{next:function(){var t,e,o;return a?void 0:(e=i.shift(),(o=(t=e.getChildren())&&t.length||0)&&[].push.apply(i,t),0===i.length&&(a=!0),e)},nextBatch:function(){var t,e;return a?void 0:(t=o.shift(),(e=(t=t.getChildren())&&t.length||0)&&[].push.apply(o,t),0===i.length&&(a=!0),t)},reset:function(){a=!1,e=t,i.length=0,i.push(e)}}}).initWith(t),{df:o,bf:a}},c=function(){function t(){this.con={}}var e,i={};return t.prototype.constructor=t,t.prototype.get=function(t){return this.con[t]},t.prototype.set=function(t,e){this.con[t]=e},t.prototype["delete"]=function(t){return delete this.con[t]},{getInstance:function(o){var a;return e=(a=i[o])?a:i[o]=new t}}}(),a=function(){var t,e=[],i=!1,o={visibility:"visible"};return{controlPreAnimVisibility:function(o,a){var n,r,h;if(o){for(r=o;r=r.getParent(),r;)n=r;for(n=l(n,{exception:o}),n=n.df;r=n.next(),r;)h=r.overAttr||(r.overAttr={}),h.visibility="hidden",e.push(r);return t=a||o.getParent(),i=!1,e}},displayAll:function(o){var a;if(o){for(o=l(o.getParent()||o),o=o.df;a=o.next(),a;)a=a.overAttr||(a.overAttr={}),a.visibility="visible";t=void 0,e.length=0,i=!1}},controlPostAnimVisibility:function(){var a,n;if(!i&&(i=!0,t)){for(n=l(t),n=n.df;a=n.next(h),a;)(a=a.dirtyNode)&&(a&&a.plotItem.attr(o),(a=a&&a.textItem)&&a.label&&a.label.attr(o),a&&a.label&&a.highlightMask.attr(o));t=void 0,e.length=0}}}}(),o.AbstractTreeMaker=r,o.iterator=l,o.initConfigurationForlabel=function(e,i,o){var a=e.x,n=e.y,r=i/2,l=o.showParent?0:1,s=o.showChildLabels;return function(e,c,g,d){g=!1;var u,f={x:void 0,y:void 0,width:void 0,height:void 0},p={},v=0,b={},y={},b=e.meta;return e?(e.isLeaf(h)||(g=!0),p.label=e.getLabel(),f.width=c.width-2*a,f.x=c.x+c.width/2,e=c.height-2*n,!g&&i>e&&(f.height=-1),!d&&g?(f.height=s?f.height?f.height:c.height-2*n:-1,f.y=c.y+c.height/2):l?(f.y=-1,i=n=0,u="hidden"):(f.height=f.height?f.height:i,f.y=c.y+n+r),v+=2*n,v+=i,p.rectShiftY=v,p.textRect=f,o.labelGlow?(y["stroke-width"]=o.labelGlowRadius,y.opacity=o.labelGlowIntensity,y.stroke=o.labelGlowColor,y.visibility="hidden"===u?"hidden":"visible"):y.visibility="hidden",b={fontSize:o.labelFontSize||o.baseFontSize,fontFamily:o.labelFont||o.baseFont,fill:b&&b.fontcolor&&t(b.fontcolor)||o.labelFontColor||o.baseFontColor,fontWeight:o.labelFontBold&&"bold",fontStyle:o.labelFontItalic&&"italic",visibility:u},{conf:p,attr:b,highlight:y}):void 0}},o.context=c,o.mapColorManager=function(e,i,o){var a=t(o?e.defaultNavigationBarBGColor:e.defaultParentBGColor);return function(o,n,r){n={};var l,s=o.cssConf,c=o.meta,c=c.fillcolor?t(c.fillcolor):void 0,g=o.getParent();return l=o.getColorValue(),e.isLegendEnabled=!0,l=e.isLegendEnabled&&l===l?i.getColorByValue(l)&&"#"+i.getColorByValue(l)||t(i.rangeOutsideColor):void 0,o.isLeaf(h)?n.fill=c||l||a:(o=(o=(g?g:o).cssConf)&&o.fill,n.fill=c||(l?l:o)),n.stroke=r?e.navigationBarBorderColor:e.plotBorderColor,n.strokeWidth=r?e.navigationBarBorderThickness:e.plotBorderThickness,n["stroke-dasharray"]="none",!r&&s&&"--"===s["stroke-dasharray"]&&(n["stroke-dasharray"]=s["stroke-dasharray"],n.strokeWidth=s.strokeWidth),n}},o.abstractEventRegisterer=function(t,e,i,a){function r(t){var e,i,o={};for(e in x)i=x[e],o[i]=t[e];return o}var l,h,c,g=e.chart,d=g.components,u=d.toolbarBtns,f=g.chartInstance,p=e.conf,v=d.gradientLegend,b=t.drawTree,y=a.disposeChild,m=arguments,x={colorValue:"svalue",label:"name",value:"value",rect:"metrics"};return h=o.context.getInstance("ClickedState"),g._intSR={},g._intSR.backToParent=l=function(t){var e=this,i=e,a=i&&e.getParent(),n=o.context.getInstance("ClickedState").get("VisibileRoot")||{};t?w("beforedrillup",{node:e,withoutHead:!p.showParent},f,void 0,function(){a&&(n.state="drillup",n.node=[{virginNode:o.getVisibleRoot()},a],y(i),b.apply(a,m)),w("drillup",{node:e,withoutHead:!p.showParent,drillUp:l,drillUpToTop:c},f),e=e&&e.getParent()},function(){w("drillupcancelled",{node:e,withoutHead:!p.showParent},f)}):(a&&(n.state="drillup",n.node=[{virginNode:o.getVisibleRoot()},a],y(i),b.apply(a,m)),e=e&&e.getParent())},g._intSR.resetTree=c=function(t){for(var e,i=this,a=i&&i.getParent(),n=o.context.getInstance("ClickedState").get("VisibileRoot")||{};a;)e=a,a=a.getParent();t?w("beforedrillup",{node:i,withoutHead:!p.showParent},f,void 0,function(){e&&(n.state="drillup",n.node=[{virginNode:o.getVisibleRoot()},e],y(e),b.apply(e,m),w("drillup",{node:i,sender:g.fusionCharts,withoutHead:!p.showParent,drillUp:l,drillUpToTop:c},f))},function(){w("drillupcancelled",{node:i,withoutHead:!p.showParent},f)}):e&&(n.state="drillup",n.node=[{virginNode:o.getVisibleRoot()},e],y(e),b.apply(e,m))},{click:function(e,i){var o,g,d,b=e.virginNode;if(w("dataplotclick",r(e.virginNode),f),g=b.getParent()){if(b===i)d=g,o="drillup";else{if(b.next)d=b;else if(d=g,i===d)return void(o=void 0);o="drilldown"}v&&v.enabled&&v.resetLegend(),t.applyShadeFiltering.reset(),o&&w("before"+o,{node:d,withoutHead:!p.showParent},f,void 0,function(){h.set("VisibileRoot",{node:e,state:o}),y.call(a,d),s=d,n.draw(),w(o,{node:d,withoutHead:!p.showParent,drillUp:l,drillUpToTop:c},f)},function(){w(o+"cancelled",{node:d,withoutHead:!p.showParent},f)}),u.back&&u.back.attachEventHandlers({click:l.bind(d)}),u.home&&u.home.attachEventHandlers({click:c.bind(d)})}},mouseover:function(t){var e=r(t.virginNode);w("dataplotrollover",e,f,void 0,void 0,function(){w("dataplotrollovercancelled",e,f)})},mouseout:function(t){var e=r(t.virginNode);w("dataplotrollout",r(t.virginNode),f,void 0,void 0,function(){w("dataplotrolloutcancelled",e,f)})}}},o.setMaxDepth=function(t){return h=t},o.getVisibleRoot=function(){return s},o.setVisibleRoot=function(t){s=t},o.visibilityController=a,o},a=function(t,e){function i(){b.apply(this,arguments)}function o(e,o,a){return g=new i(e,f,o),e=g.get(),!1!==a&&(d=e),t.setVisibleRoot(e),e}function a(){var i,o=h[s];e.realTimeUpdate=r.apply(this,arguments),i=Array.prototype.slice.call(arguments,0),i.unshift(o),o.drawTree.apply(t.getVisibleRoot(),i)}function r(){var t,e,i=h[s];return e=Array.prototype.slice.call(arguments,0),e.unshift(i),t=e.slice(-1)[0],function(){var o=Array.prototype.slice.call(arguments,0),a=o.shift(),r=o.shift();n(d,function(t){i.drawTree.apply(t||d,e)},t,a)[r].apply(this,o)}}var h,s,g,d,f,p,v,b=t.AbstractTreeMaker;return h={sliceanddice:{areaBaseCalculator:function(t,e){return function(i,o,a){var n,r,l,h,s,c={},g=n=0;return i?(a&&(n=a.textMargin||n),g=n,a=i.getParent(),n=i.getSibling("left"),a?(r=a.getValue(),s=a.rect,l=s.height-2*e-g,h=s.width-2*t,c.effectiveRect={height:l,width:h,x:s.x+t,y:s.y+e+g},c.effectiveArea=l*h,c.ratio=i.getValue()/r,n?o.call(i,c,n,a):(c.lastIsParent=!0,o.call(i,c,a))):null):void 0}},applyShadeFiltering:function(t,e,i){return t.setRangeOutEffect(e,i),this.applyShadeFiltering.reset=function(){t.resetPointers()},function(e){t.moveLowerShadePointer(e.start),t.moveHigherShadePointer(e.end)}},alternateModeManager:function(){return function(t,e){var i,o,a,n,r,l=t.effectiveArea*t.ratio;o=t.effectiveRect;var h=e.rect;return t.lastIsParent?(n=o.x,r=o.y,i=o.height,o=o.width,a=this.isDirectionVertical=!0):(i=o.height+o.y-(h.height+h.y),o=o.width+o.x-(h.width+h.x),a=this.isDirectionVertical=!e.isDirectionVertical),a?(o=l/i,n=void 0!==n?n:h.x,r=void 0!==r?r:h.y+h.height):(i=l/o,n=void 0!==n?n:h.x+h.width,r=void 0!==r?r:h.y),{height:i,width:o,x:n,y:r}}},horizontalVerticalManager:function(t){var e=Boolean("vertical"===t);return function(t,i,o){var a,n,r,l=t.effectiveArea*t.ratio,h=t.effectiveRect,s=i.rect;return t.lastIsParent?(n=h.x,r=h.y,t=h.height,a=h.width,i=this.isDirectionVertical=!i.isDirectionVertical):(t=h.height+h.y-(s.height+s.y),a=h.width+h.x-(s.width+s.x),i=this.isDirectionVertical=!o.isDirectionVertical),(i=e?i:!i)?(0===t&&(t=h.height,n=void 0!==n?n:s.x+s.width,r=void 0!==r?r:s.y),a=l/t,n=void 0!==n?n:s.x,r=void 0!==r?r:s.y+s.height):(0===a&&(a=h.width,n=void 0!==n?n:s.x,r=void 0!==r?r:s.y+s.height),t=l/a,n=void 0!==n?n:s.x+s.width,r=void 0!==r?r:s.y),{height:t,width:a,x:n,y:r}}},drawTree:function(e,i,o,a){var n,r,h,s=i.chart,c=s.components,g=c.numberFormatter,c=c.toolbarBtns,d=a.drawRect,u=a.drawText,f=a.drawHot,b=o.horizontalPadding,w=o.verticalPadding,x=i.chart.linkedItems.smartLabel,C=t.iterator,P=C(this).df,I=e.areaBaseCalculator(b,w),k=i.conf,S=k.highlightParentsOnHover,V=t.context,b=t.visibilityController,A=t.mapColorManager(k,i.conf.colorRange),w=t.abstractEventRegisterer.apply(t,arguments),B=w.click,F=w.mouseover,R=w.mouseout,w=k.slicingMode,T=e["alternate"===w?"alternateModeManager":"horizontalVerticalManager"](w),w=s._intSR,C=V.getInstance("ClickedState").get("VisibileRoot")||{};for((h=C.node)&&C.state&&("drillup"===C.state.toLowerCase()?h instanceof Array?b.controlPreAnimVisibility(h[0].virginNode,h[1]):b.controlPreAnimVisibility(h.virginNode):b.displayAll(C.node.virginNode)),r=t.initConfigurationForlabel({x:5,y:5},k.parentLabelLineHeight,k),b=n=P.next(v=t.setMaxDepth(this.getDepth()+p));b.getParent();)b=b.getParent();k.showNavigationBar?(c.home.hide(),c.back.hide()):b!=n?(c.home.show(),c.back.show()):(c.home.hide(),c.back.hide()),x.useEllipsesOnOverflow(s.config.useEllipsesWhenOverflow),x.setStyle(k._setStyle={fontSize:(k.labelFontSize||k.baseFontSize)+"px",fontFamily:k.labelFont||k.baseFont,lineHeight:1.2*(k.labelFontSize||k.baseFontSize)+"px"}),s=w.backToParent,b=w.resetTree,c.back&&c.back.attachEventHandlers({click:s.bind(n)}),c.home&&c.home.attachEventHandlers({click:b.bind(n)}),function H(t,e){var i,o,h,s,c,p,b,w;p={};var C,L,_={},N={};b={};var M,O,D="";t&&(M=g.yAxis(t.getValue()),O=g.sYAxis(t.getColorValue()),t.setPath(),i=t.rect||{},o=t.textRect||{},h=t.rect={},b=t.textRect={},h.width=e.width,h.height=e.height,h.x=e.x,h.y=e.y,b=A(t),(L=t.plotItem)&&a.graphicPool(!0,"plotItem",L,i),L=t.plotItem=d(h,b,i,t.overAttr),t.cssConf=b,w=r(t,h),s=w.conf,p.textMargin=s.rectShiftY,b=t.textRect=s.textRect,C=x.getSmartText(s.label,b.width,b.height).text,t.plotItem=L,(s=t.labelItem)?(c=t.highlightItem,a.graphicPool(!0,"labelItem",s,i),a.graphicPool(!0,"highlightItem",c,i)):o=o||{},o=u(C,b,{textAttrs:w.attr,highlightAttrs:w.highlight},o,t.overAttr),t.labelItem=o.label,t.highlightItem=o.highlightMask,_.virginNode=t,_.plotItem=L,_.textItem=o,_.virginNode.dirtyNode=_,t.getColorValue()&&(D=k.tooltipSeparationCharacter+O),_.toolText=l.parseTooltext(k.plotToolText,[1,2,3,119,122],{label:t.getLabel(),formattedValue:M,formattedsValue:O},{value:t.getValue(),svalue:t.getColorValue()})||t.getLabel()+k.tooltipSeparationCharacter+M+D,_.rect=h,N.hover=[function(){var t,e,i;i=V.getInstance("hover"),e=this.virginNode,t=S&&!e.next?(t=e.getParent())?t:e:this.virginNode,i.set("element",t),i=y(m(t.cssConf.fill,80),60),t.plotItem.tracker.attr({fill:i}),F(this)}.bind(_),function(){var t,e;t=V.getInstance("hover").get("element"),e=y(t.cssConf.fill||"#fff",0),t.plotItem.tracker.attr({fill:e}),R(this)}.bind(_)],N.tooltip=[_.toolText],N.click=[function(){B(this,n)}.bind(_)],(h=t.hotItem)&&a.graphicPool(!0,"hotItem",h,i),h=t.hotItem=f(_,N),i=P.next(v),p=I(i,T,p),H(i,p))}(n,o)}},squarified:{orderNodes:function(){return this.sort(function(t,e){return parseFloat(t.value,10)<parseFloat(e.value,10)?1:-1})},areaBaseCalculator:function(t,e){return function(i,o,a){var n,r,l,h={},s=n=0;return i&&0!==i.length?(a&&(n=a.textMargin||n),s=n,r=i[0],(i=r.getParent())?(l=i.rect,a=l.height-2*e-s,n=l.width-2*t,h.effectiveRect={height:a,width:n,x:l.x+t,y:l.y+e+s},h.effectiveArea=a*n,o.call(r,h,i)):null):void 0}},layoutManager:function(){function t(t,e){this.totalValue=e,this._rHeight=t.height,this._rWidth=t.width,this._rx=t.x,this._ry=t.y,this._rTotalArea=t.height*t.width,this.nodes=[],this._prevAR=void 0,this._rHeight<this._rWidth&&(this._hSegmented=!0)}return t.prototype.constructor=t,t.prototype.addNode=function(t){var e,i,o,a,n,r,l,h,s,g,d,f=this._rTotalArea,p=this._hSegmented,v=this._rx,b=this._ry,y=0;for(this.nodes.push(t),o=0,i=this.nodes.length;i>o;o++)y+=parseFloat(this.nodes[o].getValue(),10);for(e=y/this.totalValue*f,p?(f=this._rHeight,i=e/f,h=v+i,s=b,g=this._rHeight,d=this._rWidth-i):(i=this._rWidth,f=e/i,h=v,s=b+f,g=this._rHeight-f,d=this._rWidth),o=0,a=this.nodes.length;a>o;o++)t=this.nodes[o],n=t.getValue(),r=n/y*e,t.hRect=t.rect||{},t._hRect=t._rect||{},n=t.rect={},p?(n.width=l=i,n.height=l=r/l,n.x=v,n.y=b,b+=l):(n.height=l=f,n.width=l=r/l,n.x=v,n.y=b,v+=l),r=c(n.height,n.width),n=u(n.height,n.width),t.aspectRatio=r/n;if(1<this.nodes.length){if(this.prevAR<t.aspectRatio){for(this.nodes.pop().rect={},o=0,i=this.nodes.length;i>o;o++)this.nodes[o].rect=1===i&&this.nodes[o].firstPassed?this.nodes[o]._hRect:this.nodes[o].hRect,p=this.nodes[o]._rect={},v=this.nodes[o].rect,p.width=v.width,p.height=v.height,p.x=v.x,p.y=v.y;return!1}}else t&&(p=t._rect={},v=t.rect,p.width=v.width,p.height=v.height,p.x=v.x,p.y=v.y,t.firstPassed=!0);return this.prevAR=t.aspectRatio,this.height=f,this.width=i,this.getNextLogicalDivision=function(){return{height:g,width:d,x:h,y:s}},t},{RowLayout:t}}(),applyShadeFiltering:function(t,e,i){return t.setRangeOutEffect(e,i),this.applyShadeFiltering.reset=function(){t.resetPointers()},function(e){t.moveLowerShadePointer(e.start),t.moveHigherShadePointer(e.end)}},drawTree:function(e,i,o,a){var n,r,h,s,c=i.chart,g=c.components,d=g.numberFormatter,g=g.toolbarBtns,u=e.areaBaseCalculator(o.horizontalPadding,o.verticalPadding),f=e.layoutManager.RowLayout,b=i.chart.linkedItems.smartLabel,w=a.drawRect,x=a.drawText,C=a.drawHot,P=t.iterator,k=P(this).bf,S=i.conf,V=S.highlightParentsOnHover,A=t.context,B=t.mapColorManager(S,i.conf.colorRange),P=t.abstractEventRegisterer.apply(t,arguments),F=P.click,R=P.mouseover,T=P.mouseout,P=c._intSR,H=t.visibilityController;for(h=A.getInstance("ClickedState").get("VisibileRoot")||{},(s=h.node)&&h.state&&("drillup"===h.state.toLowerCase()?s instanceof Array?H.controlPreAnimVisibility(s[0].virginNode,s[1]):H.controlPreAnimVisibility(s.virginNode):H.displayAll(h.node.virginNode)),r=t.initConfigurationForlabel({x:5,y:5},S.parentLabelLineHeight,S),k=n=k.next(v=t.setMaxDepth(this.getDepth()+p));k.getParent();)k=k.getParent();S.showNavigationBar?(g.home.hide(),g.back.hide()):k!=n?(g.home.show(),g.back.show()):(g.home.hide(),g.back.hide()),b.useEllipsesOnOverflow(c.config.useEllipsesWhenOverflow),b.setStyle(S._setStyle={fontSize:(S.labelFontSize||S.baseFontSize)+"px",fontFamily:S.labelFont||S.baseFont,lineHeight:1.2*(S.labelFontSize||S.baseFontSize)+"px"}),c=P.backToParent,P=P.resetTree,g.back&&g.back.attachEventHandlers({click:c.bind(n)}),g.home&&g.home.attachEventHandlers({click:P.bind(n)}),function L(t,e){var i,o,h,s,c,g,p,P,k,H,_,N={},M=0;p={};var O;P={},k={},c={};var D,z,E="";if(t&&(D=d.yAxis(t.getValue()),z=d.sYAxis(t.getColorValue()),t.setPath(),(i=t.__initRect)&&(N.x=i.x,N.y=i.y,N.width=i.width,N.height=i.height),s=t.textRect||{},i=t.rect=t.__initRect={},c=t.textRect={},i.width=e.width,i.height=e.height,i.x=e.x,i.y=e.y,c=B(t),(H=t.plotItem)&&a.graphicPool(!0,"plotItem",H,N),H=t.plotItem=w(i,c,N,t.overAttr),t.cssConf=c,O=r(t,i),o=O.conf,p.textMargin=o.rectShiftY,c=t.textRect=o.textRect,_=b.getSmartText(o.label,c.width,c.height).text,(h=t.labelItem)?(o=t.highlightItem,a.graphicPool(!0,"labelItem",h,N),a.graphicPool(!0,"highlightItem",o,N)):s=s||{},s=x(_,c,{textAttrs:O.attr,highlightAttrs:O.highlight},s,t.overAttr),t.labelItem=s.label,t.highlightItem=s.highlightMask,t.plotItem=H,P.virginNode=t,P.plotItem=H,P.textItem=s,P.virginNode.dirtyNode=P,t.getColorValue()&&(E=S.tooltipSeparationCharacter+z),P.toolText=S.showTooltip?l.parseTooltext(S.plotToolText,[1,2,3,119,122],{label:t.getLabel(),formattedValue:D,formattedsValue:z},{value:t.getValue(),svalue:t.getColorValue()})||t.getLabel()+S.tooltipSeparationCharacter+D+E:I,P.rect=i,k.hover=[function(){var t,e,i;i=A.getInstance("hover"),e=this.virginNode,t=V&&!e.next?(t=e.getParent())?t:e:this.virginNode,i.set("element",t),i=t.cssConf,i=y(i.fill&&m(i.fill,80),60),t.plotItem.tracker.attr({fill:i}),R(this)}.bind(P),function(){var t,e;t=A.getInstance("hover").get("element"),e=y(t.cssConf.fill||"#fff",0),t.plotItem.tracker.attr({fill:e}),T(this)}.bind(P)],k.tooltip=[P.toolText],k.click=[function(){F(this,n)}.bind(P)],(i=t.hotItem)&&a.graphicPool(!0,"hotItem",i,N),i=t.hotItem=C(P,k),g=void 0!==v&&t.getDepth()>=v?void 0:t.getChildren()))for(P=u(g,function(t,e){var i,o,a,n,r=0,l=[];for(i=new f({width:t.effectiveRect.width,height:t.effectiveRect.height,x:t.effectiveRect.x,y:t.effectiveRect.y},e.getValue()),o=g.length;r++!==o;)a=g[r-1],n=i.addNode(a),!1===n?(i=i.getNextLogicalDivision(),i=new f(i,e.getValue()-M),r--):(M+=parseFloat(a.getValue(),10),l.push(a));return l},p),N=0,p=P.length;p>N;N++)k=P[N],L(k,k.rect)}(n,o)}}},i.prototype=Object.create(b.prototype),i.prototype.constructor=b,i.prototype.order=function(t){var e=h[s],i=e.orderNodes;return i?i.apply(t,[e]):t},e.init=function(e,i,o){return s=e,f=i,p=t.setMaxDepth(o),h[s]},e.plotOnCanvas=function(t,e,i){return d=o(t,i),a},e.applyShadeFiltering=function(t,e){var i,o;return o=h[s].applyShadeFiltering(g.getBucket(),t,e),function(t){i=Array.prototype.slice.call(arguments,0),i.unshift(t),o.apply(g.getBucket(),i)}},e.setTreeBase=function(t){return t&&(d=t)},e.realTimeUpdate=r,e.makeTree=o,e},n=function(t,e,i,o){function a(e){var i,o=0;if(i=t,!e.length)return t;for(;i;){if(i=n.call(i,e[o]),o===e.length-1&&i)return r=i.getValue(),i;o+=1}}function n(t){var e,i,o,a=this.getChildren()||[],n=a.length;for(e=0;n>e;e+=1)if(o=a[e],o.label.toLowerCase().trim()===t.toLowerCase().trim()){i=o;break}return i}var r;return{deleteData:function(t,o){var n=a(t),l=(void 0).iterator(n).df,h=n&&n.getParent(),s=n&&n.getSiblingCount("left"),c=h&&h.getChildren(),g=(void 0).getVisibleRoot();if(n&&h){for(c.splice(s,1),n===g&&(g=n.getParent()||g);n;)i.disposeItems(n),n=l.next();for(;h;)h.setValue(-r,!0),h=h.getParent();o&&e(g)}},addData:function(t,i,n,r){for(var l,h,s,c=0,g=!0,d=(void 0).getVisibleRoot();t.length;)if(l=t.pop(),l=(void 0).makeTree(l,o,!1),c=l.getValue(),h=a(i||[]))for(h.getChildren()||(s=h.getValue(),g=!1),h.addChildren(l,r);h;)h.setValue(c,g),s&&(c-=s,s=void 0,g=!0),h=h.getParent();n&&e(d)}}},r=function(t,e,i){function o(){}function a(e){var i=f.plotBorderThickness;h.apply(t.getVisibleRoot(),[l,{width:e.effectiveWidth,height:e.effectiveHeight,x:e.startX,y:e.startY,horizontalPadding:f.horizontalPadding,verticalPadding:f.verticalPadding},p]),f.plotBorderThickness=i}function n(t,e,i){var o=t.width,a=t.height,n=f.seperatorAngle/2;t=["M",t.x,t.y];var r=x(n?a/2*(1-d(n)):i,15);return i=function(t){return{both:["h",o,"v",t,"h",-o,"v",-t],right:["h",o,"v",t,"h",-o,"l",r,-t/2,"l",-r,-t/2],no:["h",o,"l",r,t/2,"l",-r,t/2,"h",-o,"l",r,-t/2,"l",-r,-t/2],
left:["h",o,"l",r,t/2,"l",-r,t/2,"h",-o,"v",-t]}},{path:t.concat(i(a)[e]),_path:t.concat(i(0)[e]),offset:r}}function r(){var t=Array.prototype.splice.call(arguments,0);t.push(!0),y("navigationBar").apply(this,t)}var l,h,s,f,p,v,b=function(e,o){var a,r,h,g,d,v,b,y,w,x=t.mapColorManager(f,f.colorRange,!0),P=function(){var t;return{get:function(e,i,o){var n={y:e.startY,height:e.effectiveHeight};i=a[i];var l=i.getParent();return n.x=t||(t=e.startX),t=o?t+(n.width=e.effectiveWidth*(i.getValue()/l.getValue())):t+(n.width=e.effectiveWidth/r),n},resetAllocation:function(){t=void 0}}}(),k=t.initConfigurationForlabel({x:5,y:5},f.parentLabelLineHeight,f),S=p.drawPolyPath,V=p.drawText,A=p.drawHot,B={navigationHistory:{path:"polyPathItem",label:"pathlabelItem",highlightItem:"pathhighlightItem",hotItem:"pathhotItem"}},F=l.chart,R=F.components.gradientLegend,F=F.linkedItems.smartLabel,T=function(e){return function(){var o=t.context.getInstance("ClickedState").get("VisibileRoot")||{};o.state="drillup",o.node=[{virginNode:t.getVisibleRoot()},e],R&&R.enabled&&R.resetLegend(),i.draw([e,e,e])}},H=function(){return function(){}},L=function(){return function(){}},_=f._setStyle;for(h=m.get().navigationBar,v=2*C("navigationBar"),_=u(h*s.effectiveHeight-(v+6),_.fontSize.replace(/\D+/g,"")),h=_+"px",B.stacked={path:"stacked"+B.navigationHistory.path,label:"stacked"+B.navigationHistory.label,highlightItem:"stacked"+B.navigationHistory.highlightItem,hotItem:"stacked"+B.navigationHistory.hotItem},P.resetAllocation(),function(e){var i=t.getVisibleRoot();a=e?i.getChildren():i.getPath()||[].concat(i),a.pop(),r=a.length}(o),F.setStyle({fontSize:h,lineHeight:h}),h=0;r>h;h+=1)v=a[h],b=P.get(e,h,o),g=(d=n(b,o?"both":1===r?"both":0===h?"left":r-1>h?"no":"right")).offset,v[B[o?"stacked":"navigationHistory"].path]=S(d,x(v,!0,!0),h),d=k(v,b,!1,!0),y=d.conf,w=y.textRect,w.width-=2*g,w.y=b.y+b.height/2,g=F.getSmartText(y.label,w.width,c(_,w.height)).text,g=V(g,w,{textAttrs:d.attr,highlightAttrs:d.highlight},{y:b.height/10,"font-size":f._setStyle.fontSize,"font-family":f._setStyle.fontFamily},(o?"stacked":"")+"path"),v[B[o?"stacked":"navigationHistory"].label]=g.label,v[B[o?"stacked":"navigationHistory"].highlightItem]=g.highlightMask,v[B[o?"stacked":"navigationHistory"].hotItem]=A({rect:b},{click:[T(v,o)],hover:[H(v),L()],tooltip:[f.showTooltip?v.getLabel():I]})},y=function(t){return{treeMap:a,navigationBar:b,stackedNavigation:r}[t]},m=function(){var t={treeMap:1,navigationBar:0,stackedNavigation:0};return{set:function(e){var i=x(f.navigationBarHeightRatio,f.navigationBarHeight/s.effectiveHeight,.15),o=f.labelFontSize?c(f.labelFontSize,f.baseFontSize):f.baseFontSize,a=2*C("navigationBar"),i=c((6+o+a)/s.effectiveHeight,i);.1>i?i=.1:i>.15&&(i=.15),f.navigationBarHeightRatio=i,t=e?{treeMap:1-i,navigationBar:i,stackedNavigation:0}:{treeMap:1,navigationBar:0,stackedNavigation:0}},get:function(){return t}}}(),w=0,C=function(t){var e=f.plotBorderThickness,i=f.navigationBarBorderThickness;return f.verticalPadding+("navigationBar"===t?i:e)},P=function(t){var e=s.effectiveWidth,i=s.effectiveHeight,o=C(t);return t=m.get()[t],w>=1&&(w=0),w+=t,{effectiveHeight:g(t*i*100)/100-o,effectiveWidth:e,startX:s.startX,startY:s.startY+o+g((w-t)*i*100)/100}};return o.prototype.constructor=o,o.prototype.init=function(t,e){(this.conf||(this.conf={})).name=t.name,this.setDrawingArea(t.drawingAreaMeasurement),this.draw=this.draw(e)},o.prototype.setDrawingArea=function(t){this.conf.drawingAreaMeasurement=t},o.prototype.draw=function(t){return function(){var e=this.conf;0<e.drawingAreaMeasurement.effectiveHeight&&t(e.drawingAreaMeasurement)}},o.prototype.eventCallback=function(){},v=function(){var t=[];return{get:function(){return t},set:function(e){var i;return e?(i=new o,i.init({name:e.type,drawingAreaMeasurement:e.drawingArea},e.drawFn),t.push(i)):t.length=0,t}}}(),i.init=function(){var t,e=["navigationBar","treeMap","stackedNavigation"];for(t=Array.prototype.slice.call(arguments,0),l=t[0],s=t[1],f=l.conf,p=t[2],h=t[4],v.get().length>=e.length&&v.set();e.length;)t=e.shift(),v.set({type:t,drawFn:y(t),drawingArea:P(t)})},i.draw=function(e){var o,a,n;for(o=t.getVisibleRoot(),p.disposeChild(o),e&&(o=e[1]),o.getParent()?f.showNavigationBar&&i.heightProportion.set(!0):i.heightProportion.set(!1),a=v.get(),o=0;o<a.length;o+=1)n=a[o],n.setDrawingArea(P(n.conf.name)),e&&t.setVisibleRoot(e[o]),n.draw()},i.heightProportion=m,i.remove=function(){var e=t.getVisibleRoot();e&&p.disposeChild(e)},i}}]);